webpackJsonp([13],{1:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(2),i=s(n),o=a(18),r=s(o);e.default={isEmpty:function(t){var e=[];if(Array.isArray(t))e=t;else{var a=(0,r.default)(t);e=[],a.forEach(function(a){e.push(t[a])})}return e.some(function(t){return null==t||""===t})},prueba:function(t){return function(e){return t+e}},fromCurrency:function(t){var e=t.replace("RD$ ","");return Number(e)},CurrencyFormat:function(t){t=parseFloat(t);var e=t<0?"-":"",a=String(t.toFixed(2)),s="",n="",i=String(a),o=".".length?i.indexOf("."):-1;for(o>-1?(o&&(s=i.substr(0,o)),n=i.substr(o+1)):s=i,s&&(s=String(Math.abs(s)));n.length<2;)n+="0";for(var r=[];s.length>3;)r.unshift(s.substr(-3)),s=s.substr(0,s.length-3);return r.unshift(s),s=r.join(","),e+s+"."+n},getDataForm:function(t){return"data="+(0,i.default)(t)},startInputMask:function(t){var e=document.querySelectorAll('[type="tel"]'),a=document.querySelectorAll('[role="cedula"], [id*="dni"]');t({mask:"(999) 999-9999",greede:!1}).mask(e),t({mask:"**[*]-*******-[*][*{1,20}]",greede:!1}).mask(a)},sum:function(t){var e=[];if(Array.isArray(t))e=t;else{var a=(0,r.default)(t);e=[],a.forEach(function(a){e.push(t[a])})}return e.reduce(function(t,e){return t+=parseFloat(e)},0)},now:function(){return(new Date).toLocaleDateString()},dateSpanishFormat:function(){var t=this.dates,e=t.days,a=t.months,s=new Date;return{day:s.getDate(),monthYear:"De "+a[s.getMonth()]+" de "+s.getFullYear(),dayWeek:e[s.getDay()]}},spyLeftNavigation:function(){$("body").scroll(function(){var t=$("body").scrollTop(),e=$(".aside-nav-container, .aside-wide-left");t>=50?e.hasClass("moved")||e.addClass("moved"):e.removeClass("moved")})},dates:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],days:["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"]}}},11:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(2),i=s(n),o=a(15),r=s(o),c=a(1),l=s(c);e.default=function(t,e,a){var s={theme:"primary",position:"top-right",duration:5e3};t.use(e,s),t.mixin({mounted:function(){var t=this;window.document.onreadystatechange=function(){t.quitSplash()}},methods:{showMessage:function(t){this.$toasted[t.type](t.text)},getDataForm:function(t){return"data="+(0,i.default)(t)},quitSplash:function(){var t=document.readyState,e=document.querySelector(".splash-screen");"complete"===t&&(e.classList.add("hide"),document.querySelector("header").classList.remove("loading"))},deleteConfirmation:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Eliminar",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Cancelar";return(0,r.default)({title:t,text:e,type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:a,cancelButtonText:s})}},filters:{currencyFormat:function(t){return l.default.CurrencyFormat(t)}}});var n=a.create({baseURL:baseURL});t.prototype.$http=n,t.prototype.$swal=r.default}},48:function(t,e,a){"use strict";var s=a(94),n=a(95),i=a(4),o=i(s.a,n.a,!1,null,null,null);e.a=o.exports},83:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(22),i=s(n),o=a(8),r=s(o),c=a(29),l=s(c),d=a(30),u=s(d),m=a(11),p=s(m),f=a(1),h=s(f),v=a(86),y=s(v),g=a(89),_=s(g),b=a(92),C=s(b),w=a(97),S=s(w);a(98),window.jQuery=u.default,window.$=u.default,window.appStore=new S.default,window.appBus=new i.default,(0,p.default)(i.default,l.default,r.default),i.default.component("HomeSection",function(){return a.e(6).then(a.bind(null,111))}),i.default.component("AdminSection",function(){return a.e(3).then(a.bind(null,112))}),i.default.component("AcountSection",function(){return a.e(1).then(a.bind(null,113))}),i.default.component("CashDeskSection",function(){return a.e(9).then(a.bind(null,114))}),i.default.component("ClientSection",function(){return a.e(5).then(a.bind(null,115))}),i.default.component("ExtraSection",function(){return a.e(10).then(a.bind(null,116))}),i.default.component("RouterSection",function(){return a.e(8).then(a.bind(null,117))}),i.default.component("ServiceSection",function(){return a.e(7).then(a.bind(null,118))}),i.default.component("ContractSection",function(){return a.e(2).then(a.bind(null,119))}),i.default.component("NewContractSection",function(){return a.e(11).then(a.bind(null,120))}),i.default.component("DetailsSection",function(){return a.e(4).then(a.bind(null,121))}),i.default.component("GraphicReportSection",function(){return a.e(0).then(a.bind(null,122))}),e.default=new i.default({el:"#app",components:{"message-modal":_.default,"petty-cash-modal":y.default,"ticket-modal":C.default},data:{store:window.appStore},mounted:function(){this.getCompany(),this.getUser(),this.getSaldo(),this.getDayIncome()},methods:{openPettyCash:function(t){this.store.setPettyCashMode(t)},saveTransaction:function(){var t=this;h.default.isEmpty(this.store.pettyCashTransaction)?this.$toasted.error("Revise y LLene todos los campos por favor"):this.$http.post("petty_cash/"+this.store.pettyCashMode,this.getDataForm(this.store.pettyCashTransaction)).then(function(e){t.showMessage(e.data.message),"success"===e.data.message.type&&(t.store.pettyCashTransactionEmpty(),$("#petty-cash-modal").modal("hide")),t.getSaldo(),window.appBus.$emit("transaction"),"edit"===t.store.pettyCashMode&&$("#petty-cash-modal").modal("hide")})},getSaldo:function(){var t=this;this.$http.get("petty_cash/get_balance").then(function(e){t.store.setPettyCashBalance(e.data)})},getCompany:function(){var t=this;this.$http.get("company/get").then(function(e){t.store.setCompany(e.data)})},getDayIncome:function(){var t=this;this.$http.get("report/get_day_income").then(function(e){t.store.setDayIncome(e.data.income)})},getUser:function(){var t=this;this.$http.get("user/get_user").then(function(e){t.store.setUser(e.data.user)})}}})},86:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(87),n=a(88),i=a(4),o=i(s.a,n.a,!1,null,null,null);e.default=o.exports},87:function(t,e,a){"use strict";e.a={props:{transaction:{type:Object},modalMode:{type:String}},mounted:function(){var t=this;$("#petty-cash").on("hide.bs.modal",function(){t.$emit("dimiss")})},methods:{save:function(){this.$emit("save")}},computed:{modalTitle:function(){var t=void 0;switch(this.modalMode){case"add":t="Registrar Entrada";break;case"edit":t="Editar Trasacción";break;default:t="Registrar Salida"}return t}}}},88:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"petty-cash-modal",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0,!1,!1),a("h4",{staticClass:"modal-title"},[t._v(t._s(t.modalTitle)+" - Caja Chica")])]),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},["add"==t.modalMode||"edit"==t.modalMode?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"#petty-cash-amount"}},[t._v("Cantidad Entrada")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.entrada,expression:"transaction.entrada"}],staticClass:"form-control",attrs:{id:"petty-cash-add",type:"number"},domProps:{value:t.transaction.entrada},on:{input:function(e){e.target.composing||t.$set(t.transaction,"entrada",e.target.value)}}})]):t._e(),"retire"==t.modalMode||"edit"==t.modalMode?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"#petty-cash-amount"}},[t._v("Cantidad Retiro")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.salida,expression:"transaction.salida"}],staticClass:"form-control",attrs:{id:"petty-cash-retire",type:"number"},domProps:{value:t.transaction.salida},on:{input:function(e){e.target.composing||t.$set(t.transaction,"salida",e.target.value)}}})]):t._e()]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"petty-cash-description"}},[t._v("Descripción")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.transaction.descripcion,expression:"transaction.descripcion"}],staticClass:"form-control",attrs:{id:"petty-cash-description",cols:"30",rows:"5"},domProps:{value:t.transaction.descripcion},on:{input:function(e){e.target.composing||t.$set(t.transaction,"descripcion",e.target.value)}}})])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancelar")]),a("button",{staticClass:"btn save",attrs:{type:"button",id:"btn-petty-cash__save"},on:{click:t.save}},[t._v("Guardar")])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],i={render:s,staticRenderFns:n};e.a=i},89:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(90),n=a(91),i=a(4),o=i(s.a,n.a,!1,null,null,null);e.default=o.exports},90:function(t,e,a){"use strict";var s=a(31),n=(a.n(s),a(1)),i=a.n(n);e.a={data:function(){return{hide_clients:!0,hide_numbers:!0,message_data:{tipo:"",clientes:"",numeros:"",mensaje:""},message_types:[{val:"mora",text:"Morosos"},{val:"suspendido",text:"Suspendidos"},{val:"activo",text:"Activo"},{val:"no activo",text:"No Activo"},{val:"personalizado",text:"Personalizado"},{val:"otros",text:"Otros"}]}},mounted:function(){this.initSelect2()},computed:{letters_count:function(){return this.message_data.mensaje.length}},methods:{sendMessage:function(){var t=this,e=[this.message_data.tipo,this.message_data.mensaje];i.a.isEmpty(e)?this.$toasted.info("Campos Requerido : Por favor selecciones el tipo de mensaje y escriba su mensaje"):this.$http.post("messages/send_message",this.getDataForm(this.message_data)).then(function(e){t.showMessage(e.data.menssage)}).catch(function(e){t.$toasted.error(e)})},initSelect2:function(){var t={dropdownParent:$("#send-message-modal")},e=$("#message-type");e.select2(t);var a=$("#clients-for-message").select2({dropdownParent:$("#send-message-modal"),ajax:{url:baseURL+"messages/search_clients",dataType:"json",delay:250,data:function(t){return{q:t.term,page:t.page}},processResults:function(t,e){return e.page=e.page||1,{results:t.items,pagination:{more:30*e.page<t.total_count}}},cache:!0}}),s={clients:a,messageType:e};this.selec2Liteners(s)},selec2Liteners:function(t){var e=this;t.messageType.on("select2:select",function(t){var a=t.params.data.id;e.message_data.tipo=a,"otros"===a?(e.hide_clients=!0,e.hide_numbers=!1):"personalizado"===a?(e.hide_numbers=!0,e.hide_clients=!1):(e.hide_clients=!0,e.hide_numbers=!0)}),t.messageType.select2("val","mora"),t.clients.on("select2:select",function(){for(var a=t.clients.select2("data"),s=[],n=0;n<a.length;n+=1)s.push({nombre_completo:a[n].text,celular:a[n].id});e.message_data.clientes=s})}}}},91:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"send-message-modal"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0,!1,!1),a("div"),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("input",{staticClass:"form-control hidden",attrs:{type:"text",id:"averias-client-id"}}),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"user-nickname"}},[t._v("Tipo de Mensaje")]),a("select",{staticStyle:{width:"100%","border-radius":"0"},attrs:{type:"text",id:"message-type"}},t._l(t.message_types,function(e){return a("option",{domProps:{value:e.val}},[t._v(t._s(e.text))])}))]),a("div",{staticClass:"form-group",class:{hide:t.hide_clients}},[a("label",{attrs:{for:"message-clients"}},[t._v("Clientes")]),t._m(1,!1,!1)]),a("div",{staticClass:"form-group",class:{hide:t.hide_numbers}},[a("label",{attrs:{for:"user-nickname"}},[t._v("Numero(s)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.message_data.numeros,expression:"message_data.numeros"}],staticClass:"form-control",attrs:{type:"text",id:"message-phone"},domProps:{value:t.message_data.numeros},on:{input:function(e){e.target.composing||t.$set(t.message_data,"numeros",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"service-description"}},[t._v("Mensaje")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message_data.mensaje,expression:"message_data.mensaje"}],staticClass:"form-control",attrs:{cols:"30",rows:"5",id:"message-text"},domProps:{value:t.message_data.mensaje},on:{input:function(e){e.target.composing||t.$set(t.message_data,"mensaje",e.target.value)}}}),a("p",[t._v("Caracteres utilizados "),a("span",{staticClass:"text-primary-color"},[t._v(" "+t._s(t.letters_count)+" ")])]),a("p",[t._v("El limite por minimensajes son 160 caracteres")])])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancelar")]),a("button",{staticClass:"btn save",attrs:{type:"button",id:"btn-send-message"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.sendMessage(e)}}},[t._v("enviar")])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),a("h4",{staticClass:"modal-title"},[t._v("Enviar Mensaje")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("select",{staticStyle:{width:"100%","border-radius":"0"},attrs:{type:"text",id:"clients-for-message",multiple:"miltiple"}},[a("option",{attrs:{value:"0"}},[t._v("clientes/clientes")])])}],i={render:s,staticRenderFns:n};e.a=i},92:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(93),n=a(96),i=a(4),o=i(s.a,n.a,!1,null,null,null);e.default=o.exports},93:function(t,e,a){"use strict";var s=a(1),n=a.n(s),i=a(48);e.a={components:{SelectClient:i.a},data:function(){return{ticket:{descripcion:"",id_cliente:""},searchEndpoint:baseURL+"/clients/get_clients/dropdown",emptySelect:!1}},methods:{addTicket:function(){var t=this;n.a.isEmpty(this.ticket)?this.$toasted.error("Revise: LLene todos los campos por favor"):this.$http.post("api/averias/add_ticket",this.getDataForm(this.ticket)).then(function(e){t.showMessage(e.data.message),t.$emit("newTicket"),t.ticketEmpty()})},setClientId:function(t){this.ticket.id_cliente=t.id},ticketEmpty:function(){this.ticket={descripcion:"",id_cliente:""},this.emptySelect=!this.emptySelect}}}},94:function(t,e,a){"use strict";var s=a(31);a.n(s);e.a={mounted:function(){this.initSelect2()},props:{endpoint:{type:String,required:!0},theId:{type:String,required:!0},parentId:{type:String,required:!0},empty:{type:Boolean},disabled:{type:Boolean}},data:function(){return{sel:""}},watch:{disabled:function(){this.disabled?this.sel.prop("disabled",!0):this.sel.prop("disabled",!1)},empty:function(){this.sel.val(null).trigger("change")}},methods:{initSelect2:function(){var t=this;this.sel=$("#"+this.theId).select2({dropdownParent:$(this.parentId),width:"100%",ajax:{url:this.endpoint,dataType:"json",delay:250,data:function(t){return{q:t.term}},processResults:function(t,e){return e.page=e.page||1,{results:t.items,pagination:{more:30*e.page<t.total_count}}},cache:!0}}),this.sel.on("select2:select",function(e){t.$emit("select",e.params.data)})}}}},95:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("select",{staticClass:"form-control",attrs:{id:t.theId}},[a("option",{attrs:{value:"0"}},[t._v("Escriba el nombre del cliente")])])},n=[],i={render:s,staticRenderFns:n};e.a=i},96:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"ticket-modal"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0,!1,!1),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"user-nickname"}},[t._v("Cliente")]),a("SelectClient",{attrs:{"the-id":"ticket-client-id","parent-id":"#ticket-modal",endpoint:t.searchEndpoint,empty:t.emptySelect},on:{select:t.setClientId}})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"service-description"}},[t._v("Descripción")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ticket.descripcion,expression:"ticket.descripcion"}],staticClass:"form-control",attrs:{cols:"30",rows:"5",id:"a-description"},domProps:{value:t.ticket.descripcion},on:{input:function(e){e.target.composing||t.$set(t.ticket,"descripcion",e.target.value)}}})])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancelar")]),a("button",{staticClass:"btn save",attrs:{type:"button",id:"btn-save-averia"},on:{click:t.addTicket}},[t._v("Guardar")])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),a("h4",{staticClass:"modal-title"},[t._v("Agregar Averia")])])}],i={render:s,staticRenderFns:n};e.a=i},97:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(13),i=s(n),o=a(14),r=s(o),c=function(){function t(){(0,i.default)(this,t),this.pettyCashTransaction={entrada:0,salida:0,descripcion:""},this.pettyCashMode="retire",this.pettyCashBalance=0,this.dayIncome=0,this.currentUser={user_id:"",nickname:"",password:"",name:"",lastname:"",dni:"",type:"",email:""},this.company={logo:"",nombre:"",descripcion:"",direccion:"",lema:"",telefono1:"",telefonos:""}}return(0,r.default)(t,[{key:"pettyCashTransactionEmpty",value:function(){this.pettyCashTransaction={entrada:0,salida:0,descripcion:""}}},{key:"setPettyCashMode",value:function(t){this.pettyCashMode=t}},{key:"setPettyCashTransaction",value:function(t){this.pettyCashTransaction=t}},{key:"setPettyCashBalance",value:function(t){var e=Number(t);this.pettyCashBalance=e>0&&"number"==typeof e?e:0}},{key:"setCompany",value:function(t){this.company=t}},{key:"setUser",value:function(t){this.currentUser=t}},{key:"setDayIncome",value:function(t){this.dayIncome=t}}]),t}();e.default=c}},[83]);
//# sourceMappingURL=app.js.map