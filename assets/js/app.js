webpackJsonp([3],{10:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var s={theme:"primary",position:"top-right",duration:5e3};e.use(t,s),e.mixin({methods:{showMessage:function(e){this.$toasted[e.type](e.text)},getDataForm:function(e){return"data="+JSON.stringify(e)}}});var i=a.create({baseURL:baseURL});e.prototype.$http=i}},100:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(6),n=s(i),o=a(2),r=s(o),l=a(8),c=s(l),d=a(10),u=s(d),m=a(101),p=s(m),v=a(107),f=s(v),h=a(110),_=s(h),g=new _.default;(0,u.default)(n.default,c.default,r.default),t.default=new n.default({el:"#app",components:{"message-modal":p.default,"ticket-modal":f.default},data:{store:g,pettyCashMode:"retire"},methods:{openPettyCash:function(e){this.pettyCashMode=e,$("#petty-cash-modal").modal()},addMoney:function(){var e=this,t=$("#caja-a-amount").val(),a=$("#caja-a-description").val(),s="entrada="+t+"&descripcion="+a+"&tabla=caja";isEmpty([t,a])?displayAlert("Revise","LLene todos los campos por favor","error"):this.send("add",s).then(function(t){displayMessage(t.data),e.getAll()})},retireMoney:function(){var e=this,t=$("#caja-r-amount").val(),a=$("#caja-r-description").val(),s="salida="+t+"&descripcion="+a;isEmpty([t,a])?displayAlert("Revise","LLene todos los campos por favor","error"):this.send("retire",s).then(function(t){displayMessage(t.data),console.log(e),e.gatAll()})},getSaldo:function(){this.send("getone","tabla=caja").then(function(e){updateSaldo(e.data)})}}})},101:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(102),i=a(106),n=a(1),o=n(s.a,i.a,!1,null,null,null);t.default=o.exports},102:function(e,t,a){"use strict";var s=a(20),i=(a.n(s),a(3)),n=a.n(i);t.a={data:function(){return{hide_clients:!0,hide_numbers:!0,message_data:{tipo:"",clientes:"",numeros:"",mensaje:""},message_types:[{val:"mora",text:"Morosos"},{val:"suspendido",text:"Suspendidos"},{val:"activo",text:"Activo"},{val:"no activo",text:"No Activo"},{val:"personalizado",text:"Personalizado"},{val:"otros",text:"Otros"}]}},mounted:function(){this.initSelect2()},computed:{letters_count:function(){return this.message_data.mensaje.length}},methods:{sendMessage:function(){var e=this,t=[this.message_data.tipo,this.message_data.mensaje];n.a.isEmpty(t)?this.$toasted.info("Campos Requerido : Por favor selecciones el tipo de mensaje y escriba su mensaje"):this.$http.post("messages/send_message",this.getDataForm(this.message_data)).then(function(t){e.showMessage(t.data.menssage)}).catch(function(t){e.$toasted.error(t)})},initSelect2:function(){var e={dropdownParent:$("#send-message-modal")},t=$("#message-type");t.select2(e);var a=$("#clients-for-message").select2({dropdownParent:$("#send-message-modal"),ajax:{url:baseURL+"messages/search_clients",dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:30*t.page<e.total_count}}},cache:!0}}),s={clients:a,messageType:t};this.selec2Liteners(s)},selec2Liteners:function(e){var t=this;e.messageType.on("select2:select",function(e){var a=e.params.data.id;console.log("here we are"),t.message_data.tipo=a,"otros"===a?(t.hide_clients=!0,t.hide_numbers=!1):"personalizado"===a?(t.hide_numbers=!0,t.hide_clients=!1):(t.hide_clients=!0,t.hide_numbers=!0)}),e.messageType.select2("val","mora"),e.clients.on("select2:select",function(){for(var a=e.clients.select2("data"),s=[],i=0;i<a.length;i+=1)s.push({nombre_completo:a[i].text,celular:a[i].id});t.message_data.clientes=s})}}}},106:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"send-message-modal"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0,!1,!1),a("div"),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("input",{staticClass:"form-control hidden",attrs:{type:"text",id:"averias-client-id"}}),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"user-nickname"}},[e._v("Tipo de Mensaje")]),a("select",{staticStyle:{width:"100%","border-radius":"0"},attrs:{type:"text",id:"message-type"}},e._l(e.message_types,function(t){return a("option",{domProps:{value:t.val}},[e._v(e._s(t.text))])}))]),a("div",{staticClass:"form-group",class:{hide:e.hide_clients}},[a("label",{attrs:{for:"message-clients"}},[e._v("Clientes")]),e._m(1,!1,!1)]),a("div",{staticClass:"form-group",class:{hide:e.hide_numbers}},[a("label",{attrs:{for:"user-nickname"}},[e._v("Numero(s)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.message_data.numeros,expression:"message_data.numeros"}],staticClass:"form-control",attrs:{type:"text",id:"message-phone"},domProps:{value:e.message_data.numeros},on:{input:function(t){t.target.composing||e.$set(e.message_data,"numeros",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"service-description"}},[e._v("Mensaje")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message_data.mensaje,expression:"message_data.mensaje"}],staticClass:"form-control",attrs:{cols:"30",rows:"5",id:"message-text"},domProps:{value:e.message_data.mensaje},on:{input:function(t){t.target.composing||e.$set(e.message_data,"mensaje",t.target.value)}}}),a("p",[e._v("Caracteres utilizados "),a("span",{staticClass:"text-primary-color"},[e._v(" "+e._s(e.letters_count)+" ")])]),a("p",[e._v("El limite por minimensajes son 160 caracteres")])])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancelar")]),a("button",{staticClass:"btn save",attrs:{type:"button",id:"btn-send-message"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.sendMessage(t)}}},[e._v("enviar")])])])])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),a("h4",{staticClass:"modal-title"},[e._v("Enviar Mensaje")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("select",{staticStyle:{width:"100%","border-radius":"0"},attrs:{type:"text",id:"clients-for-message",multiple:"miltiple"}},[a("option",{attrs:{value:"0"}},[e._v("clientes/clientes")])])}],n={render:s,staticRenderFns:i};t.a=n},107:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(108),i=a(109),n=a(1),o=n(s.a,i.a,!1,null,null,null);t.default=o.exports},108:function(e,t,a){"use strict";var s=a(20),i=(a.n(s),a(3)),n=a.n(i);t.a={mounted:function(){this.initSelect2()},data:function(){return{ticket:{descripcion:"",id_cliente:""}}},methods:{initSelect2:function(){var e=this;$("#a-client").select2({dropdownParent:$("#new-averia-modal"),width:"100%",ajax:{url:BASE_URL+"process/search",dataType:"json",delay:250,data:function(e){return{q:e.term,tabla:"clientes_para_averias"}},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:30*t.page<e.total_count}}},cache:!0}}).on("select2:select",function(t){e.id_cliente=t.params.data.id})},addTicket:function(){var e=this;n.a.isEmpty(this.ticket)?this.$toasted.error("Revise: LLene todos los campos por favor"):this.$http.post("api/averias/add_ticket",this.getDataForm(this.ticket)).then(function(t){e.showMessage(t.data.message),e.$emit("newTicket"),e.ticketEmpty()})},ticketEmpty:function(){this.ticket={descripcion:"",id_cliente:""}}}}},109:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0,!1,!1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"ticket-modal"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),a("h4",{staticClass:"modal-title"},[e._v("Agregar Averia")])]),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"user-nickname"}},[e._v("Cliente")]),a("select",{staticClass:"form-control",attrs:{id:"a-client"}},[a("option",{attrs:{value:"0"}},[e._v("Escriba el nombre del cliente")])])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"service-description"}},[e._v("Descripción")]),a("textarea",{staticClass:"form-control",attrs:{cols:"30",rows:"5",id:"a-description"}})])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancelar")]),a("button",{staticClass:"btn save",attrs:{type:"button",id:"btn-save-averia"}},[e._v("Guardar")])])])])])}],n={render:s,staticRenderFns:i};t.a=n},110:function(e,t,a){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),n=function(){function e(){s(this,e),this.moneyMovement={amount:0,description:""}}return i(e,[{key:"moneyMovementEmpty",value:function(){this.moneyMovement={amount:0,description:""}}}]),e}();t.default=n},3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isEmpty:function(e){var t=[];if(Array.isArray(e))t=e;else{var a=Object.keys(e);t=[],a.forEach(function(a){t.push(e[a])})}return t.some(function(e){return null==e||""===e})},prueba:function(){console.log("prueba")}}}},[100]);
//# sourceMappingURL=app.js.map