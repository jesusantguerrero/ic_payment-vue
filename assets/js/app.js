webpackJsonp([9],{1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={isEmpty:function(t){var e=[];if(Array.isArray(t))e=t;else{var a=Object.keys(t);e=[],a.forEach(function(a){e.push(t[a])})}return e.some(function(t){return null==t||""===t})},prueba:function(t){return function(e){return t+e}},fromCurrency:function(t){var e=t.replace("RD$ ","");return Number(e)},CurrencyFormat:function(t){t=parseFloat(t);var e=t<0?"-":"",a=String(t.toFixed(2)),s="",n="",i=String(a),o=".".length?i.indexOf("."):-1;for(o>-1?(o&&(s=i.substr(0,o)),n=i.substr(o+1)):s=i,s&&(s=String(Math.abs(s)));n.length<2;)n+="0";for(var r=[];s.length>3;)r.unshift(s.substr(-3)),s=s.substr(0,s.length-3);return r.unshift(s),s=r.join(","),e+s+"."+n},sum:function(t){var e=[];if(Array.isArray(t))e=t;else{console.log(t);var a=Object.keys(t);e=[],a.forEach(function(a){e.push(t[a])})}for(var s=0;s<t.length;s+=1)sumResult+=parseFloat(t[s]);return e.reduce(function(t,e){return t+=e},0)},now:function(){return(new Date).toLocaleDateString()},dateSpanishFormat:function(){var t=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],e=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],a=new Date;return{day:a.getDate(),monthYear:"De "+e[a.getMonth()]+" de "+a.getFullYear(),dayWeek:t[a.getDay()]}},spyLeftNavigation:function(){$("body").scroll(function(){var t=$("body").scrollTop(),e=$(".aside-nav-container, .aside-wide-left");t>=50?e.hasClass("moved")||e.addClass("moved"):e.removeClass("moved")})}}},41:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(7),i=s(n),o=a(4),r=s(o),c=a(14),l=s(c),d=a(15),u=s(d),m=a(6),p=s(m),f=a(1),v=s(f),h=a(44),g=s(h),y=a(47),_=s(y),b=a(50),C=s(b),w=a(53),k=s(w);a(54),window.jQuery=u.default,window.$=u.default,window.appStore=new k.default,window.appBus=new i.default,(0,p.default)(i.default,l.default,r.default),i.default.component("HomeSection",function(t){a.e(2).then(function(){var e=[a(76)];t.apply(null,e)}.bind(this)).catch(a.oe)}),i.default.component("AdminSection",function(t){a.e(0).then(function(){var e=[a(77)];t.apply(null,e)}.bind(this)).catch(a.oe)}),i.default.component("AcountSection",function(t){a.e(7).then(function(){var e=[a(78)];t.apply(null,e)}.bind(this)).catch(a.oe)}),i.default.component("CashDeskSection",function(t){a.e(4).then(function(){var e=[a(79)];t.apply(null,e)}.bind(this)).catch(a.oe)}),i.default.component("ClientSection",function(t){a.e(1).then(function(){var e=[a(80)];t.apply(null,e)}.bind(this)).catch(a.oe)}),i.default.component("ExtraSection",function(t){a.e(6).then(function(){var e=[a(81)];t.apply(null,e)}.bind(this)).catch(a.oe)}),i.default.component("RouterSection",function(t){a.e(5).then(function(){var e=[a(82)];t.apply(null,e)}.bind(this)).catch(a.oe)}),i.default.component("ServiceSection",function(t){a.e(3).then(function(){var e=[a(83)];t.apply(null,e)}.bind(this)).catch(a.oe)}),e.default=new i.default({el:"#app",components:{"message-modal":_.default,"petty-cash-modal":g.default,"ticket-modal":C.default},data:{store:window.appStore},mounted:function(){this.getCompany(),this.getUser(),this.getSaldo()},methods:{openPettyCash:function(t){this.store.setPettyCashMode(t)},saveTransaction:function(){var t=this;v.default.isEmpty(this.store.pettyCashTransaction)?this.$toasted.error("Revise y LLene todos los campos por favor"):this.$http.post("petty_cash/"+this.store.pettyCashMode,this.getDataForm(this.store.pettyCashTransaction)).then(function(e){t.showMessage(e.data.message),"success"===e.data.message.type&&(t.store.pettyCashTransactionEmpty(),$("#petty-cash-modal").modal("hide")),t.getSaldo(),window.appBus.$emit("transaction"),"edit"===t.store.pettyCashMode&&$("#petty-cash-modal").modal("hide")})},getSaldo:function(){var t=this;this.$http.get("petty_cash/get_balance").then(function(e){t.store.setPettyCashBalance(e.data)})},getCompany:function(){var t=this;this.$http.get("company/get").then(function(e){t.store.setCompany(e.data)})},getUser:function(){var t=this;this.$http.get("user/get_user").then(function(e){t.store.setUser(e.data.user)})}}})},44:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(45),n=a(46),i=a(3),o=i(s.a,n.a,!1,null,null,null);e.default=o.exports},45:function(t,e,a){"use strict";e.a={props:{transaction:{type:Object},modalMode:{type:String}},mounted:function(){var t=this;$("#petty-cash").on("hide.bs.modal",function(){t.$emit("dimiss")})},methods:{save:function(){this.$emit("save")}},computed:{modalTitle:function(){var t=void 0;switch(this.modalMode){case"add":t="Registrar Entrada";break;case"edit":t="Editar Trasacción";break;default:t="Registrar Salida"}return t}}}},46:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"petty-cash-modal",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0,!1,!1),a("h4",{staticClass:"modal-title"},[t._v(t._s(t.modalTitle)+" - Caja Chica")])]),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},["add"==t.modalMode||"edit"==t.modalMode?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"#petty-cash-amount"}},[t._v("Cantidad Entrada")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.entrada,expression:"transaction.entrada"}],staticClass:"form-control",attrs:{id:"petty-cash-add",type:"number"},domProps:{value:t.transaction.entrada},on:{input:function(e){e.target.composing||t.$set(t.transaction,"entrada",e.target.value)}}})]):t._e(),"retire"==t.modalMode||"edit"==t.modalMode?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"#petty-cash-amount"}},[t._v("Cantidad Retiro")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.salida,expression:"transaction.salida"}],staticClass:"form-control",attrs:{id:"petty-cash-retire",type:"number"},domProps:{value:t.transaction.salida},on:{input:function(e){e.target.composing||t.$set(t.transaction,"salida",e.target.value)}}})]):t._e()]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"petty-cash-description"}},[t._v("Descripción")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.transaction.descripcion,expression:"transaction.descripcion"}],staticClass:"form-control",attrs:{id:"petty-cash-description",cols:"30",rows:"5"},domProps:{value:t.transaction.descripcion},on:{input:function(e){e.target.composing||t.$set(t.transaction,"descripcion",e.target.value)}}})])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancelar")]),a("button",{staticClass:"btn save",attrs:{type:"button",id:"btn-petty-cash__save"},on:{click:t.save}},[t._v("Guardar")])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],i={render:s,staticRenderFns:n};e.a=i},47:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(48),n=a(49),i=a(3),o=i(s.a,n.a,!1,null,null,null);e.default=o.exports},48:function(t,e,a){"use strict";var s=a(16),n=(a.n(s),a(1)),i=a.n(n);e.a={data:function(){return{hide_clients:!0,hide_numbers:!0,message_data:{tipo:"",clientes:"",numeros:"",mensaje:""},message_types:[{val:"mora",text:"Morosos"},{val:"suspendido",text:"Suspendidos"},{val:"activo",text:"Activo"},{val:"no activo",text:"No Activo"},{val:"personalizado",text:"Personalizado"},{val:"otros",text:"Otros"}]}},mounted:function(){this.initSelect2()},computed:{letters_count:function(){return this.message_data.mensaje.length}},methods:{sendMessage:function(){var t=this,e=[this.message_data.tipo,this.message_data.mensaje];i.a.isEmpty(e)?this.$toasted.info("Campos Requerido : Por favor selecciones el tipo de mensaje y escriba su mensaje"):this.$http.post("messages/send_message",this.getDataForm(this.message_data)).then(function(e){t.showMessage(e.data.menssage)}).catch(function(e){t.$toasted.error(e)})},initSelect2:function(){var t={dropdownParent:$("#send-message-modal")},e=$("#message-type");e.select2(t);var a=$("#clients-for-message").select2({dropdownParent:$("#send-message-modal"),ajax:{url:baseURL+"messages/search_clients",dataType:"json",delay:250,data:function(t){return{q:t.term,page:t.page}},processResults:function(t,e){return e.page=e.page||1,{results:t.items,pagination:{more:30*e.page<t.total_count}}},cache:!0}}),s={clients:a,messageType:e};this.selec2Liteners(s)},selec2Liteners:function(t){var e=this;t.messageType.on("select2:select",function(t){var a=t.params.data.id;e.message_data.tipo=a,"otros"===a?(e.hide_clients=!0,e.hide_numbers=!1):"personalizado"===a?(e.hide_numbers=!0,e.hide_clients=!1):(e.hide_clients=!0,e.hide_numbers=!0)}),t.messageType.select2("val","mora"),t.clients.on("select2:select",function(){for(var a=t.clients.select2("data"),s=[],n=0;n<a.length;n+=1)s.push({nombre_completo:a[n].text,celular:a[n].id});e.message_data.clientes=s})}}}},49:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"send-message-modal"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0,!1,!1),a("div"),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("input",{staticClass:"form-control hidden",attrs:{type:"text",id:"averias-client-id"}}),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"user-nickname"}},[t._v("Tipo de Mensaje")]),a("select",{staticStyle:{width:"100%","border-radius":"0"},attrs:{type:"text",id:"message-type"}},t._l(t.message_types,function(e){return a("option",{domProps:{value:e.val}},[t._v(t._s(e.text))])}))]),a("div",{staticClass:"form-group",class:{hide:t.hide_clients}},[a("label",{attrs:{for:"message-clients"}},[t._v("Clientes")]),t._m(1,!1,!1)]),a("div",{staticClass:"form-group",class:{hide:t.hide_numbers}},[a("label",{attrs:{for:"user-nickname"}},[t._v("Numero(s)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.message_data.numeros,expression:"message_data.numeros"}],staticClass:"form-control",attrs:{type:"text",id:"message-phone"},domProps:{value:t.message_data.numeros},on:{input:function(e){e.target.composing||t.$set(t.message_data,"numeros",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"service-description"}},[t._v("Mensaje")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message_data.mensaje,expression:"message_data.mensaje"}],staticClass:"form-control",attrs:{cols:"30",rows:"5",id:"message-text"},domProps:{value:t.message_data.mensaje},on:{input:function(e){e.target.composing||t.$set(t.message_data,"mensaje",e.target.value)}}}),a("p",[t._v("Caracteres utilizados "),a("span",{staticClass:"text-primary-color"},[t._v(" "+t._s(t.letters_count)+" ")])]),a("p",[t._v("El limite por minimensajes son 160 caracteres")])])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancelar")]),a("button",{staticClass:"btn save",attrs:{type:"button",id:"btn-send-message"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.sendMessage(e)}}},[t._v("enviar")])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),a("h4",{staticClass:"modal-title"},[t._v("Enviar Mensaje")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("select",{staticStyle:{width:"100%","border-radius":"0"},attrs:{type:"text",id:"clients-for-message",multiple:"miltiple"}},[a("option",{attrs:{value:"0"}},[t._v("clientes/clientes")])])}],i={render:s,staticRenderFns:n};e.a=i},50:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(51),n=a(52),i=a(3),o=i(s.a,n.a,!1,null,null,null);e.default=o.exports},51:function(t,e,a){"use strict";var s=a(16),n=(a.n(s),a(1)),i=a.n(n);e.a={mounted:function(){this.initSelect2()},data:function(){return{ticket:{descripcion:"",id_cliente:""},sel:""}},methods:{initSelect2:function(){var t=this;this.sel=$("#a-client").select2({dropdownParent:$("#ticket-modal"),width:"100%",ajax:{url:baseURL+"process/search",dataType:"json",delay:250,data:function(t){return{q:t.term,tabla:"clientes_para_averias"}},processResults:function(t,e){return e.page=e.page||1,{results:t.items,pagination:{more:30*e.page<t.total_count}}},cache:!0}}),this.sel.on("select2:select",function(e){t.ticket.id_cliente=e.params.data.id})},addTicket:function(){var t=this;i.a.isEmpty(this.ticket)?this.$toasted.error("Revise: LLene todos los campos por favor"):this.$http.post("api/averias/add_ticket",this.getDataForm(this.ticket)).then(function(e){t.showMessage(e.data.message),t.$emit("newTicket"),t.ticketEmpty()})},ticketEmpty:function(){this.ticket={descripcion:"",id_cliente:""},this.sel.val(null).trigger("change")}}}},52:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"ticket-modal"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0,!1,!1),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"user-nickname"}},[t._v("Cliente")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.ticket.id_cliente,expression:"ticket.id_cliente"}],staticClass:"form-control",attrs:{id:"a-client"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.ticket,"id_cliente",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("Escriba el nombre del cliente")])])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"service-description"}},[t._v("Descripción")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ticket.descripcion,expression:"ticket.descripcion"}],staticClass:"form-control",attrs:{cols:"30",rows:"5",id:"a-description"},domProps:{value:t.ticket.descripcion},on:{input:function(e){e.target.composing||t.$set(t.ticket,"descripcion",e.target.value)}}})])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancelar")]),a("button",{staticClass:"btn save",attrs:{type:"button",id:"btn-save-averia"},on:{click:t.addTicket}},[t._v("Guardar")])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),a("h4",{staticClass:"modal-title"},[t._v("Agregar Averia")])])}],i={render:s,staticRenderFns:n};e.a=i},53:function(t,e,a){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,a,s){return a&&t(e.prototype,a),s&&t(e,s),e}}(),i=function(){function t(){s(this,t),this.pettyCashTransaction={entrada:0,salida:0,descripcion:""},this.pettyCashMode="retire",this.pettyCashBalance=0,this.currentUser={user_id:"",nickname:"",password:"",name:"",lastname:"",dni:"",type:"",email:""},this.company={logo:"",nombre:"",descripcion:"",direccion:"",lema:"",telefono1:"",telefonos:""}}return n(t,[{key:"pettyCashTransactionEmpty",value:function(){this.pettyCashTransaction={entrada:0,salida:0,descripcion:""}}},{key:"setPettyCashMode",value:function(t){this.pettyCashMode=t}},{key:"setPettyCashTransaction",value:function(t){this.pettyCashTransaction=t}},{key:"setPettyCashBalance",value:function(t){var e=Number(t);this.pettyCashBalance=e>0&&"number"==typeof e?e:0}},{key:"setCompany",value:function(t){this.company=t}},{key:"setUser",value:function(t){this.currentUser=t}}]),t}();e.default=i},6:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(1),n=function(t){return t&&t.__esModule?t:{default:t}}(s);e.default=function(t,e,a){var s={theme:"primary",position:"top-right",duration:5e3};t.use(e,s),t.mixin({methods:{showMessage:function(t){this.$toasted[t.type](t.text)},getDataForm:function(t){return"data="+JSON.stringify(t)}},filters:{currencyFormat:function(t){return n.default.CurrencyFormat(t)}}});var i=a.create({baseURL:baseURL});t.prototype.$http=i}}},[41]);
//# sourceMappingURL=app.js.map