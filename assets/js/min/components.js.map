{"version":3,"sources":["A-Lib.js","cierreCaja.js","ReportesGraficos.js","Acount.js","closeReport.1.js","ExpensesReport.js","extras.js","ExtraSection.js","LoginBox.js","Messages.js","Payments.js","Retirements.js","Tickets.js"],"names":["fillBSTable","tableId","content","$table","$","bootstrapTable","find","html","addClass","css","display","filterBSTable","state","estado","isCurrentPage","pageName","getCurrentPage","currentPage","text","split","toLowerCase","trim","cierreCajaFunctions","sumar","valores","suma","i","length","parseFloat","now","moment","format","totales","total1","total5","total10","total20","total25","total50","total100","total200","total500","total1000","total2000","gasto","fecha","descripcion","monto","gastos","id_gasto","autor","appCierre","Vue","el","data","isHide","data_cierre","pagos_facturas","pagos_extras","pagos_efectivo","pagos_banco","total_ingresos","efectivo_caja","total_descuadre","total_gastos","banco","conteo","mounted","this","getGastos","setIngresos","created","visibility","filters","currencyFormat","number","CurrencyFormat","methods","changeTotal","e","unit","srcElement","attributes","value","cantidad","addGasto","form","JSON","stringify","send","axios","post","BASE_URL","then","response","displayMessage","mensaje","fillGastos","setGastoTotal","catch","console","log","error","gastos_servidor","mode","push","parse","totalGastos","getGasto","connectAndSend","deleteGasto","caller","target","localname","parentElement","id","swal","title","type","showCancelButton","confirmButtonText","cancelButtonText","self","cerrarCaja","cierre","window","cerrar","appSummaryView","computed","getTotal","t","toFixed","decimals","forEach","field","send2","res","ganancias","yearChart","appVistaDetalle","red","year","yellow","purple","cajaWeekChart","canvas","options","responsive","maintainAspectRatio","scales","labels","yAxes","ticks","callback","backgroundColor","label","colors","blue7","chartColors","blue","green","blueGreen","xAxes","index","replace","tooltips","callbacks","tooltipItem","mychart","chartOptions","yLabel","$canvas","meses","borderColor","fill","chart","dinero_real_en_caja","pago_de_facturas","pagos_de_extras","acountView","user","user_id","nickname","name","lastname","dni","email","isChangePassword","currentPassword","newPassword","passwordConfirm","states","has-error","has-success","button","getUser","val","updateInfo","changePassword","changeEmail","current_password","new_password","message","location","input","password","confirmPasswordServer","Promise","resolve","reject","is_correct","confirmPassword","checkPassword","setStates","success","component","template","back","foward","link","removeClass","spanishDateFormat","goBack","date","locale","print","_print","apply","arguments","table","tableHTML","hasTotals","totals","getReport","between","first_date","fillTable","expensesReport","total","id_contrato","id_servicio","mora","monto_extra","fecha_limite","complete_date","descuento","razon_descuento","deuda","abono_a","tipo","generado","appPagoExtra","recibo","id_pago","id_empleado","detalles_extra","cuota","visible","pagado","extra","controls","firstControls","hide","checkbox","url_recibo","monto_total","hide_recibo","isPagado","extraTable","concepto","refresh","parents","selectExtraPayment","generatePayment","MESSAGE_INFO","getPayment","pagos","change","applyPayment","sender","preparedData","prepareData","editPayment","endpoint","extras","listExtras","info","getPayments","id_extra","fecha_pago","deletePayment","reciboReset","bus","$on","extraSection","row","search","on","pendiente","total_vendido","getData","filter","filterValue","credentials","login","MESSAGE_ERROR","isEmpty","doLogin","resetPassword","err","configMessage","device_id","config","expires_at","confirmPhone","getConfig","saveSettings","sendMessageApp","hide_clients","numeros","message_data","letters_count","sendMessage","selectMessageType","initSelect2","dropdownParent","ajax","url","dataType","delay","q","page","params","selects","clients","select2","processResults","results","items","pagination","more","messageType","hide_numbers","element","clientes","paymentsReport","acum","fetchReportData","lightBlue6","red3","deepOrange4","datasets","ticketListView","dataSearch","busAveria","itemClickListener","tickets","fillAveriasList","$content","id_averia","ticketView","getTicket","emptyTicket","id_cliente","direccion","classes","tecnico","new_comment","ticket","comments","closeCommentMode","quit","newComment","toString","_deleteComment","idComment","commentItem","parentNode","deleteComment","getComments","remove","editComment","updateTicket","getForm","updateState","fecha_reparacion","updateDescription","deleteTicket","getFields","fields","closeEditMode","selectedFields","object"],"mappings":"aAAA,SAASA,YAAYC,EAASC,GAC5B,IAAIC,EAASC,EAAEH,GACfE,EAAOE,eAAe,WACtBF,EAAOG,KAAK,SAASC,KAAKL,GAC1BC,EAAOE,iBACPD,EAAE,sBAAsBI,SAAS,QACjCL,EAAOG,KAAK,SAASG,KAAKC,QAAQ,oBAClCP,EAAOK,SAAS,cAIlB,SAASG,cAAcV,EAASW,GAC9BR,EAAEH,GAASI,eAAe,YACxBQ,OAAQD,ICbV,SAASE,cAAcC,GACrB,OAAGC,kBAAoBD,EAMzB,SAASC,iBACP,IAAIC,EAAcb,EAAE,SAASc,OAAOC,MAAM,KAE1C,OADAF,EAAcA,EAAY,GAAGG,cAAcC,OAQ7C,SAASC,sBA0OP,SAASC,EAAOC,GAEd,IAAK,IADDC,EAAO,EACFC,EAAI,EAAGA,EAAIF,EAAQG,OAAQD,IAClCD,GAAQG,WAAWJ,EAAQE,IAE7B,OAAOD,EAGT,SAASI,IACP,OAAOC,SAASC,OAAO,cAjPzB,IAAIC,GACEC,OAAQ,EACRC,OAAQ,EACRC,QAAS,EACTC,QAAS,EACTC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,SAAU,EACVC,SAAU,EACVC,UAAW,EACXC,UAAW,GAGbC,GACAC,MAAS,GACTC,YAAe,GACfC,MAAS,IAGTC,IAAYH,MAAOhB,IAAMiB,YAAY,OAAOC,MAAO,IAAME,SAAU,IACnEC,EAAU9C,EAAE,iBAAiBc,OAAOG,OAEpC8B,EAAY,IAAIC,KAClBC,GAAI,cACJC,MACEC,QAAQ,EACRV,MAAOhB,IACP2B,aACEN,MAAOA,EACPO,eAAgB,EAChBC,aAAc,EACdC,eAAgB,EAChBC,YAAa,EACbC,eAAgB,EAChBC,cAAe,EACfC,gBAAiB,EACjBC,aAAc,EACdC,MAAO,GAETC,OAAOlC,EACPP,KAAM,EACNmB,MAAOA,EACPI,OAAQA,GAGVmB,QAAS,WACPC,KAAKC,YACLD,KAAKE,eAGPC,QAAS,WACPnE,EAAE,cAAcK,KAAK+D,WAAW,aAGlCC,SACEC,eAAgB,SAASC,GACvB,OAAOC,eAAeD,KAI1BE,SACEC,YAAa,SAASC,GACpB,IAAIC,EAAOD,EAAEE,WAAWC,WAAW,aAAaC,MAC5CC,EAAWL,EAAEE,WAAWE,MAE5BnD,EAAQ,QAASgD,GAAQI,EAAWJ,EAAO,GAG7CK,SAAU,SAASN,GACjB,IAAInC,EAAQwB,KAAKxB,MACjBA,EAAMC,MAAQhB,IACdyD,KAAO,QAASC,KAAKC,UAAU5C,GAC/B,IAAI6C,EAAOC,MAAMC,KAAMC,SAAW,iBAAiBN,MACnDG,EAAKI,KAAK,SAASC,GACjB,IAAIxC,EAAOwC,EAASxC,KACpByC,eAAezC,EAAK0C,SACpB7C,EAAU8C,WAAW3C,EAAKN,OAAO,UACjCG,EAAU+C,cAAc5C,EAAKU,gBAE/ByB,EAAKU,MAAM,WACTC,QAAQC,IAAIC,UAIhBL,WAAY,SAASM,EAAgBC,GACxB,SAARA,EACqB,MAAnBD,GAA2BA,EAAgB5E,OAAS,EACrDwB,EAAUH,OAASuD,EAEnBpD,EAAUH,UAGZG,EAAUH,OAAOyD,KAAKlB,KAAKmB,MAAMH,GAAiB,KAItDL,cAAe,SAASS,GACtBvC,KAAKZ,YAAYQ,aAAe2C,GAGlCC,SAAU,SAAS7B,GACjB,IAAInC,EAAQwB,KAAKxB,MACjB0C,KAAO,QAASC,KAAKC,UAAU5C,GAC/BiE,eAAe,kBAAiB,EAAM,KAAK1D,EAAU8C,WAAWX,KAAK,KAAM,OAG7EwB,YAAa,SAAS/B,GACpB,IAAIgC,EAAShC,EAAEiC,OACQ,KAApBD,EAAOE,YACRF,EAASA,EAAOG,eAElB,IAAIC,EAAKJ,EAAO7B,WAAW,WAAWC,MACtCiC,MACEC,MAAO,eACPnG,KAAM,4CACNoG,KAAM,UACNC,kBAAkB,EAClBC,kBAAmB,gBACnBC,iBAAkB,aACjB5B,KAAK,WACNP,KAAO,QAASC,KAAKC,WAAW2B,GAAIA,EAAItE,MAAMhB,MAC9C,IAAI4D,EAAOC,MAAMC,KAAKC,SAAW,oBAAoBN,MACrDG,EAAKI,KAAK,SAASC,GACjB,IAAIxC,EAAOwC,EAASxC,KACpByC,eAAezC,EAAK0C,SACpB7C,EAAU8C,WAAW3C,EAAKN,OAAO,SACjCG,EAAU+C,cAAc5C,EAAKU,gBAE/ByB,EAAKU,MAAM,SAASG,SAMxBjC,UAAW,WACT,IAAIf,GAAQT,MAAOhB,KACnByD,KAAO,QAASC,KAAKC,UAAUlC,GAC/B,IAAImC,EAAOC,MAAMC,KAAMC,SAAW,kBAAkBN,MACpDG,EAAKI,KAAK,SAASC,GACjB,IAAIxC,EAAOwC,EAASxC,KACpByC,eAAezC,EAAK0C,SACpB7C,EAAU8C,WAAW3C,EAAKN,OAAO,SACjCG,EAAU+C,cAAc5C,EAAKU,gBAE/ByB,EAAKU,MAAM,WACTC,QAAQC,IAAIC,UAIhBhC,YAAa,WACX,IAAIgB,EAAO,QAAUC,KAAKC,WAAW3C,MAAOhB,MACxC6F,EAAOtD,KAAKZ,YACZiC,EAAOC,MAAMC,KAAMC,SAAW,oBAAoBN,GACtDG,EAAKI,KAAK,SAASC,GACjB,IAAIxC,EAAOwC,EAASxC,KACpBoE,EAAKjE,eAAiBH,EAAKG,eAC3BiE,EAAKhE,aAAeJ,EAAKI,aACzBgE,EAAK/D,eAAiBL,EAAKK,eAC3B+D,EAAK9D,YAAcN,EAAKM,YACxB8D,EAAK7D,eAAiBjC,WAAW0B,EAAKG,gBAAkB7B,WAAW8F,EAAKhE,cACxEgE,EAAK3D,iBAAoB2D,EAAK/D,eAAiB+D,EAAK5D,gBAEtD2B,EAAKU,MAAM,WACTC,QAAQC,IAAIC,UAIhBqB,WAAY,WACV,IAAID,EAAStD,KACTwD,EAASxD,KAAKZ,YAClBqE,OAAOD,OAASA,EACa,GAA1BA,EAAO7D,gBACRqD,MACEC,MAAO,eACPnG,KAAM,sEACNoG,KAAM,UACNC,kBAAkB,EAClBC,kBAAmB,KACnBC,iBAAkB,OACjB5B,KAAK,WACN6B,EAAKI,OAAOF,KAGdF,EAAKI,OAAOF,IAIhBE,OAAQ,SAASF,GAEfA,EAAO/E,MAAQhB,IACfyD,KAAO,QAASC,KAAKC,UAAUoC,GAC/B,IAAInC,EAAOC,MAAMC,KAAMC,SAAW,kBAAkBN,MACpDG,EAAKI,KAAK,SAASC,GACjB,IAAIxC,EAAOwC,EAASxC,KACpByC,eAAezC,EAAK0C,SACpB0B,KAAKnE,QAAS,EACdwE,eAAexE,QAAS,EACxBwE,eAAeH,OAASA,EACxBxH,EAAE,eAAeI,SAAS,QAC1BJ,EAAE,YAAYI,SAAS,QACvBJ,EAAE,eAAeK,KAAK+D,WAAY,cAGpCiB,EAAKU,MAAM,WACTC,QAAQC,IAAIC,WAKlB0B,UACEC,SAAU,SAASlD,GACjB,IAAImD,EAAIlG,EACJ0F,EAAOtD,KAAKZ,YACZ/B,EAAOF,GAAO2G,EAAEjG,OAAOiG,EAAEhG,OAAOgG,EAAE/F,QAAS+F,EAAE9F,QAAS8F,EAAE7F,QAAS6F,EAAE5F,QAAS4F,EAAE3F,SAAU2F,EAAE1F,SAAU0F,EAAEzF,SAAUyF,EAAExF,UAAWwF,EAAEvF,YAKnI,OAJAyB,KAAK3C,KAAOA,EACZiG,EAAK5D,cAAgBrC,EAAK0G,QAAQ,GAClCT,EAAK3D,gBAAkBnC,YAAY8F,EAAK/D,gBAAkB/B,WAAW8F,EAAK5D,eAC1E4D,EAAKzD,MAAQrC,WAAW8F,EAAK9D,aAAehC,WAAW8F,EAAK/D,gBAAkB/B,WAAW8F,EAAK1D,cAAgBpC,WAAW8F,EAAK3D,iBACvHK,KAAK3C,MAGd2G,SAAU,YACM,iBAAiB,cAAc,iBAAiB,cAAc,iBAAiB,gBAAgB,kBAAkB,cAAc,SACtIC,QAAQ,SAASC,GACtBlE,KAAKZ,YAAY8E,GAASlE,KAAKZ,YAAY8E,GAAOH,QAAQ,IACzD/D,UAKTyD,OAAO1E,UAAYA,EC1OrBoF,SAAM1C,kBACJ,IAAAJ,EAAIzC,MAAYwF,IAAIlF,SAApB,wBACAmC,EAAAI,KAAI4C,SAAYD,GAChBE,cAAU1F,EAAOyF,MAHnBE,gBAAAf,OAAA9B,EAAAxC,KAAAsE,gCASAgB,IAAAA,EAAK,QAAArD,KADcC,WAAAqD,KAAA/G,SAAAC,OAAA,UAEX2D,MAAAC,KAAAC,SAFW,qBAAAN,GAGnBwD,KAAQ,SAAAN,GAGRO,UAFOP,EAAAlF,KAAAN,OACDwF,EAAAlF,KALamF,aA0BJ,SAADO,cAAA1F,GAFN,IAFW2F,EAAA7I,EAAA,oBAUjB8I,GACEC,KAAAA,MACAC,MACAC,OAAQ/F,EAAAgG,OACNC,WACEC,MAAAA,UACEC,KAAAA,EAAAA,OACEC,iBAAIC,OAAeA,WAASC,OAAMD,WAAAC,OAAAC,MAAAhC,OAAAiC,YAAAC,KAAAlC,OAAAiC,YAAAE,MAAAJ,OAAAK,UAAApC,OAAAiC,YAAAlB,IAAAf,OAAAiC,YAAAlB,IAAAf,OAAAiC,YAAAC,SAF/Bb,SADDC,YADF,EASNe,qBAAQ,EACNV,QACEC,QACED,OACDC,SAAA,SAAAE,EAAAQ,EAAAb,GAJE,MACE,IAAAK,GAAA,MAAAA,IAAAA,EAAA,GADF,OAAA/E,eAAA+E,OAULA,QACEH,OACDC,SAAA,SAAAE,EAAAQ,EAAAb,GAHQ,OAAAK,EAAAS,QAAA,KAAA,UAMNC,UA3BAC,WAVXX,MAAA,SAAAY,EAAAjH,GA2CIkH,MAAU,OAAUvB,eAAQwB,EAAhCC,WAIIC,OACArH,SAAO,EACPgG,KAAQsB,sCADDtH,EAAAJ,MAAA,WAAAI,EAAAT,SAKLgI,IAAahD,MAAOiC,EAAAA,GAHX,SAMRpB,UAAA1F,EAAAyF,GACDkB,IAAAA,EAAOvJ,EAAA,wBACP0K,GACApB,OAAAA,MACAmB,WACAvH,MAAMmF,SAXEiB,gBAAA7B,OAAAiC,YAAAlB,IAFdiC,YAAAhD,OAAAiC,YAAAlB,WAiBMM,MAAAA,IAEFE,MAAAA,mBACAC,MAAQ,EACNE,gBAAQ1B,OAAAiC,YAAAC,KACNP,YAAO3B,OAAAiC,YAAAC,KACLN,KAAAA,KAFIP,GADFC,YAHI,EAYZkB,qBAAU,EACRC,QACEX,QACEH,OACDC,SAAA,SAAAE,EAAAQ,EAAAb,GAHQ,MAAA,OAAA1E,eAAA+E,QAMNU,UAnBTC,+BAyBES,MAAQ,OAAUJ,eAASJ,EAAAG,WAA/BrD,OAMD3G,SAAA,+CAKCsK,IAAAA,MAHWL,GAIX9H,KAAQ,OACRoI,KAAAA,EACAC,QAAAA,wDCtJA,IAAIC,WAAa,IAAI/H,KACnBC,GAAI,kBACJC,MACE8H,MACEC,QAAS,GACTC,SAAU,GACVC,KAAM,GACNC,SAAU,GACVC,IAAK,GACLnE,KAAM,GACNoE,MAAO,IAETC,kBAAkB,EAClBC,gBAAiB,GACjBC,YAAa,GACbC,gBAAiB,GACjBC,QACEC,aAAa,EACbC,eAAe,EACdC,QAAQ,IAKb/H,QAAS,WACY,UAAflD,aACFmD,KAAK+H,WAITtH,SACEsH,QAAS,WACP,IAAIzE,EAAOtD,KACPiH,EAAUjL,EAAE,mBAAmBgM,MAC/B9G,EAAO,QAAUC,KAAKC,WACxB6F,QAASA,IAGX3F,MAAMC,KAAKC,SAAW,gBAAiBN,GACpCO,KAAK,SAAU2C,GACd,IAAI4C,EAAO5C,EAAIlF,KAAK8H,KACpBA,EAAA,SAAmBA,EAAKG,KAAO,IAAMH,EAAKI,SAC1C9D,EAAK0D,KAAOA,KAIlBiB,WAAY,WACNjI,KAAKuH,iBACPvH,KAAKkI,iBAELlI,KAAKmI,eAITD,eAAgB,WACd,GAAIlI,KAAK2H,OAAO,eAAgB,CAC9B,IAAIzG,EAAO,QAAUC,KAAKC,WACxB6F,QAASjH,KAAKgH,KAAKC,QACnBmB,iBAAkBpI,KAAKwH,gBACvBa,aAAcrI,KAAKyH,cAGrBnG,MAAMC,KAAKC,SAAW,uBAAwBN,GAC3CO,KAAK,SAAU2C,GACdzC,eAAeyC,EAAIlF,KAAKoJ,SACxB7E,OAAO8E,SAAW/G,SAAW,mBAGjCG,eAAe,gCAInBwG,YAAa,WACX,IACInB,EAAOhH,KAAKgH,KAEhBhE,MACIC,MAAS,aACTuF,MAAS,aAEV/G,KAAK,SAAUgH,GACZ,IAAIvH,EAAO,QAAUC,KAAKC,WACxB6F,QAAWD,EAAKC,QAChBwB,SAAYA,EACZvE,MAAS,QACTnD,MAASiG,EAAKM,QAGhBhG,MAAMC,KAAKC,SAAW,oBAAqBN,GAC1CO,KAAK,SAAS2C,GACbzC,eAAeyC,EAAIlF,KAAKoJ,cAKlCI,sBAAuB,SAAUD,GAC/B,IAAIvH,EAAO,QAAUC,KAAKC,WACxB6F,QAASjH,KAAKgH,KAAKC,QACnBmB,iBAAkBK,IAGpB,OAAO,IAAIE,QAAQ,SAAUC,EAASC,GACpCvH,MAAMC,KAAKC,SAAW,wBAAyBN,GAC5CO,KAAK,SAAU2C,GACdwE,EAAQxE,EAAIlF,KAAK4J,iBAKzBC,gBAAiB,WACf,IAAIzF,EAAOtD,KACXA,KAAK0I,sBAAsB1I,KAAKwH,iBAC7B/F,KAAK,SAAUqH,GACdxF,EAAKiE,iBAAmBuB,KAI9BE,cAAe,WACRhJ,KAAKyH,aAAezH,KAAK0H,iBAAoB1H,KAAKkI,gBACrDlI,KAAKiJ,WAAU,GAAM,GACrBjJ,KAAK2H,OAAOG,QAAS,GACZ9H,KAAKkI,gBACdlI,KAAKiJ,WAAU,GAAO,GACtBjJ,KAAK2H,OAAOG,QAAS,GAErB9H,KAAKiJ,WAAU,GAAO,IAI1BA,UAAW,SAAUC,EAAShH,GAC5BlC,KAAK2H,OAAO,eAAiBuB,EAC7BlJ,KAAK2H,OAAO,aAAezF,OFtH9BxF,cAAc,WAAaA,cAAc,aAC1CQ,sBA0PF8B,IAAImK,UAAU,sBACZC,SAAU,oNAqBVlK,OAAM,aACJuB,SACE4I,OAAM,WACNC,eAASC,QAAM/H,EACfyB,OAAMlE,UAAAI,QAAA,iBAHRnD,EAAA,YAAAwN,YAAA,QAMDxN,EAAA,eAAAwN,YAAA,UAGHtK,KAAIyE,WACF1E,OACAC,MAAMqK,KAAA,WAAAzM,KAAA,mBACJqC,QADIoK,KAAA/H,SAAA,aAAA1E,KAAA,kBAEJuM,MAAOE,+BAMHhK,IAAAA,eAAAA,IAJGP,KAKHQ,GAAAA,cACAC,MACAC,QAAAA,EACAC,MAAAA,KAAAA,WARG7C,KAAA,mBASH8C,QAAAA,KAAc4B,SATX,aAAA1E,KAAA,kBAUH+C,QAVGf,MAAA,GANkBO,eAAA,EAmB3BgB,aAAS,EACPC,eAAgB,EACdd,YAAO,EAFFC,eAAA,kBAKPgK,gBAAmB,EACjB/L,aAAc,EACdmC,MAAOnC,IAGX+C,SACEiJ,eAAQ,SAAUnJ,GAChBoD,MAAAA,OAAexE,eAAfoB,IAGAvE,kBAAcwN,SAAdG,GALI,OAMJ3N,OAAE4N,OAAA,SANElM,OAAAiM,GAAAhM,OAAA,kCAQN8C,SAAAiJ,OAAA,oCAAAjG,OAAA1E,UAAAI,QAAA,EAAAmE,KAAAnE,QAAA,EAAAnD,EAAA,YAAAwN,YAAA,8CAAAK,MAAO,SAAUC,GACfD,SAAAA,IADF,OAAAC,EAAAC,MAAA/J,KAAAgK,WG3UJ9K,kDAAM2K,EH2UK,CG1UVI,WACAC,aAMEpN,YAAM,IAAAkC,KAHCC,GAAA,WALJC,eAYNa,UAAS,GACPoK,WAAItN,EACFuN,QAAKC,EACNC,SAjBqBC,WAAA,kBAoBxBlK,KAAS,KAAAN,QApBe,oCA0BxBU,KAAS4J,aAIL/I,SAEEgC,eAAKkH,SAALjK,GACA+C,MAAK6G,OAAL3J,eAAAD,cAKJiK,UAAW,WACT5O,IAAAA,EAAAA,KACDsF,EAAA,QAAAC,KAAAC,UAAApB,KAAAsK,SAdMhJ,MAAAC,KAAAC,SAAA,wBAAAN,GAAAO,KAAA,SAAA2C,GA1BXd,EAAAkH,UAAApG,EAAAlF,KAAApD,gDCGGmO,UADK,SAAAnO,GAELoO,YAFK,iBAAApO,OAII2O,eAAA,IAAAzL,KAJJC,GAFqB,gBAa3Bc,MAAS,GACPmK,UAAIrN,GACF6N,MAAKL,GACNC,SAhBwBC,WAAA,kBAmB3BlK,KAAS,KAAAN,QAnBkB,oCAyB3BU,KAAS4J,aAIL/I,SAEEgC,eAAKkH,SAALjK,GACA+C,MAAKoH,OAAQtG,eAAb7D,KAIJiK,SACE5O,UAAAA,WACD,IAAA0H,EAAAtD,KAbMkB,EAAA,QAAAC,KAAAC,UAAApB,KAAAsK,SAzBXhJ,MAAAC,KAAAC,SAAA,uBAAAN,GAAAO,KAAA,SAAA2C,sDCGEuG,UAAa,SAFG7O,GAGhB8O,YAHgB,gBAAA9O,OAShB+O,WATgB,GAUhBC,aACAJ,QAXgB,EAYhBjO,YAZgB,EAahBsO,YAAAA,EACAC,YAAAA,EACAC,WAAW,GACXC,SAAAA,QACAC,eAjBgB,GAkBhBC,MAAAA,GACAC,KAAM,GACNC,YAAU,GApBZZ,MAAA,aAuBAK,aAAIQ,GACFtM,cAAI,GACJC,UAAM,GACJsM,gBAAO,GACJC,MAAAA,GACAd,QAAAA,GACAC,KAAAA,GACAc,SAAAA,IAGAC,aAAAA,IAAiB3M,KACjB4M,GAAAA,kBACAf,MACAC,QACAJ,QAXI,EAYJjO,YAZI,EAaJsO,YAAAA,EACAC,YAAAA,EACAC,WAAW,aACXC,SAAAA,QACAC,eAjBI,GAkBJC,MAAAA,GACAC,KAAM,GACNC,YAAU,GArBTZ,MAAA,aAwBJmB,aAxBI,GAyBJC,cAzBI,GA0BJC,UAAM,GACJb,gBADI,GAEJC,MAAA,GACAC,QAAA,GACAC,KAAA,GACAC,SAAS,IAGTO,SAAA,EACAC,QAAA,EACAC,OApCEC,SAAA,GAsCJC,SAAAA,GACEC,YAAM,GADOC,SAAA,GAxCQ1N,MAAA,GA4CzB4B,SA5CyB,GA+CzBuD,YAAU,GACRwI,aAAY,GACVC,YAAO7K,GAFD/E,OAAA,IAKR6P,eACEJ,MAAG,IAGF7L,WACFuD,gCAED2I,OAAAA,SAAU,qBAAYvM,KAAAwL,OAAAC,SAGrBa,YAAA,WA9DsB,MAAA,UAAAtM,KAAAwL,OAAA/O,+BAqErB8P,SAAKV,WAELW,OADAxM,KAAK+L,OAAL,UAAa/L,KAACyM,OAAUhQ,OACxB+P,KAAWE,SAIXjM,SAEEiJ,OAAIrI,WACJA,WAAApC,GAAU0N,QAASvI,oBAAIoF,YAAA,QACrBxJ,KAAA6L,SAAWzH,EACXzC,KAAAA,OAAAA,SAAoBC,IACpBgL,WAAAA,QAAAA,aAKHC,gBAAM,WACLlL,GAAAA,KAAAA,QAA+B,GAAfmL,KAAAA,OAAAA,QAAe,CAChC,IAAA5L,EAAA,QAAAC,KAAAC,UAAApB,KAAA+L,OAvBG1K,EAAAC,MAAAC,KAAAC,SAAA,+BAAAN,sBA0BN6L,IAAAA,EAAY3I,EAAAlF,KACNgC,eAAOhC,EAAUiC,SACjBmC,mBAAJnH,KAAA+C,EAAA8N,OAAAC,WAEA5L,EAAKI,MAAK,mBAERE,eAAAmL,aAAe,sDAIlBC,WApCK,SAAAtB,6CAsCNyB,EAAAA,KACW1B,MAAOC,KAAAA,SAAc,oBAAAvK,GAC5BO,KAAK0L,SAAO/I,GADd,IAAAlF,EAEOkF,EAAAlF,KACLyC,EAAAA,SACD2B,EAAAkI,OAAAtM,EAAAsM,WAKF0B,aAhDK,kCAkDNC,KAAQA,OAAA,uBAENxL,eAAIyL,aAAoBC,kCAIxBC,YAAW,WACXtN,KAAIqB,OAAOC,uBAGT6L,OAAIjO,SAAJqO,GACA,IAAAjK,EAASkK,KACPC,EAAavO,KAAKsO,cACnBE,EAAAN,EAAAM,KACDpK,EAAKqK,EAAiB5B,KAEpBpK,EAAAA,QAAezC,KAAK0C,UAApB1C,GAAA,SAAAiC,KAAAC,UAAAsM,GACDrM,EAAAC,MAAAC,KAAAC,SAAA+L,EAAArM,GAEHG,EAAKU,KAAL,SAAWqC,GACTpC,IAAAA,EAAAoC,EAAYlC,KADdhD,EAAAsO,SArEIC,WAAAvO,EAAAsO,QA0ENH,EAAAA,YAAa/J,EAAAyI,MAAA6B,UACPpC,EAAAA,qCAIFG,EAAAA,MAAAA,SAAgBH,GAChBqC,QAAAA,IAAYrC,MAIZH,YAAMG,SAPGA,GA0BT,OAAItM,MAfNuN,SAAW,UACTmB,gBAJAtC,EAAUtL,KAAAwL,QAIOoC,eACjBnC,WAASD,EAAOC,WAFlBG,MAAAJ,EAAAI,oBAKAnP,OAAQyC,SA7FJmM,KAAAG,EAAAH,kBAuGaqC,MAJjBE,SAAWtM,EAAMC,SACjBF,QAAUmK,EAAAC,mCAORmB,IAAAA,EAAAA,KAPF1L,EAAA,QAAAC,KAAAC,WAAAwM,SAAAA,IApGItM,MAAAC,KAAAC,SAAA,6BAAAN,oBAgHN4M,IAAAA,EAAe1J,EAAAlF,KAETsM,EAAAA,QACAtM,EAAAA,OAAO6O,aAAXnB,mBAAAzQ,KAAA+C,EAAA8N,OAAAC,qCAQA5L,IAAAA,EAAUrB,KACRwL,EAAWpH,KAAIlF,OACfyC,GACA2B,SAAKqK,EAAYrK,SAHnBmI,QAAAD,EAAAC,SAKAvK,EAAA,QAAAC,KAAAC,UAAAlC,GAGDmC,EAAAC,MAAAC,KAAAC,SAAA,uBAAAN,GApMLG,EAAAI,KAAA,SAAA2C,gBAwMQzC,eAARzC,EAAuB0C,SACrB4K,EAAWvN,YAAWqE,EAAAyI,MAAA6B,YAEtBrC,EAAAA,MAAaQ,SAAb7J,GACAuL,QAAajB,IAAAA,SAMbwB,IAAAC,IAAIxC,eAAUmB,SAAAA,GACdrB,WAAAA,GAAawB,QAAAA,oBAAb3Q,SAAA,QAFFmP,aAAAM,SAAA,qECzOAN,aAAI2C,YAAuBC,EAAAP,YAGvB9R,IAAAA,mBADIE,EAAA,yBAEJoS,mBAAQC,GAAA,SAAA,WACNvR,IAAAA,EADM8P,mBAAA5E,MAENxL,aAAOuQ,WAAAtB,KAIP6C,IAAAA,aAFO,IAAAtP,KAGPuP,GAAAA,iBAHOrP,MAKTrD,QAAS,GAbcuS,QAezBrO,KAAS,GACPvD,MAAIK,UAEHe,SAlBsBkO,OAAA,cAqBzBzL,cAAS,GAELxE,QAAO,qBAFFkE,QArBgB,kCA2BzBU,KAAS+N,oBAKPA,eAAS,SAAYjO,GACnB,MAAI+C,OAAJ9C,eAAAD,KAKE+C,SACDmL,OAJD,SAAA9N,GARKpE,cAAAyD,KAAAnE,QAAAmE,KAAA0O,cAgBL9S,QAAAA,WACD,IAAA0H,EAAAtD,KAjBMkB,EAAA,QAAAC,KAAAC,UAAApB,KAAAoO,QA3BX9M,MAAAC,KAAAC,SAAA,gBAAAN,GAAAO,KAAA,SAAA2C,2DCGIuK,UAAAA,SAAa7S,GACXkL,YADW,oBAAAlL,4BAQf2E,GAAAA,aACEmO,MACED,aACE3H,KAAA,GACDyB,SAAM,GACL9G,gBAAekN,IAElBvH,MAPM,IAUL7G,SACAa,MAAAA,WAGEwN,SAAI9O,KAAY2O,YAAM3H,KAAAhH,KAAA2O,YAAAlG,WAGpB9G,eAAAA,cAAemL,mDAFfrJ,KAAAA,WAQHsL,QAZD,WAXK,IAAA7N,EAAA,QAAAC,KAAAC,UAAApB,KAAA2O,aA0BPK,MAAAA,KA1BOxN,SAAA,YAAAN,GA0BQO,KAAA,SAAA2C,GACF5C,GAALD,EAANrC,KACEoI,OAAOA,SAAAA,KAAAA,SAAAA,aAGP3F,eAAeyC,aAAf,sCAGApC,MAAAA,SAAAiN,GAPFjN,QAAAE,MAAA+M,MAtCND,cAAA,oECCIE,KAAAA,SAAgB9K,GAClBkD,eADkBlD,EAAAlF,KAAAoJ,WAElBG,MAFkB,SAAAwG,GAGlBE,QAHkBjN,MAAA+M,SAUlBhQ,eACAC,MAAM,GACJkQ,SAAQF,GADJC,UAFyB,mBAM/BpP,QAAS,WACPsP,WAAIxS,UAIN4D,mBAAS,IAAAzB,KACPsQ,GAAAA,kCAEAC,OAAAA,eAGElO,QAAAA,WACU,iBAAVA,aAAyBrB,KAAAuP,aAGtB9O,SACF6O,aAJD,aAMEtN,UAAAA,WACD,IAFDX,EAZKiC,EAAAtD,mDAiBPwP,KAAAA,SAAcpL,GACRgL,EAAJlQ,KAAYgC,SACZkO,EAASA,OAAKA,EAAdlQ,KAAAkQ,UAGA/N,EAAAA,MAAOC,SAAWE,GAClBH,QAAUY,IAAAC,MAIRF,aAAQC,SAARtB,GACD,IAFDyO,EAAAlO,EAAAG,EAGD+N,EAAApP,KAAAoP,OAxCLlO,EAAA,QAAAC,KAAAC,UAAAgO,qDA4CIK,KAAAA,SAAqBzQ,GACnB2C,eAAAyC,EADuBlF,KAAA0C,WAG3B1C,EAAM6C,MAAA,SAAAkN,GACJS,QAAAA,IAAcT,SAMZU,eAHY,IAAA3Q,KAIZ4C,GAAAA,sBARE1C,sBAYNa,cAAS,EAfkB6P,sBAmB3BhM,SAAU,GACRiM,QAAAA,GACEjO,QAAO,KAIXnB,QAAS,WACPqP,KAAAA,eAGElM,UACE1C,cAAO,WACPG,OAAAA,KAAOC,aAAWE,QAAWjE,SAI7B8D,SACEW,YAAAA,WACD,IAFDd,EAAAG,EAKA2B,SAAKhD,KAAA4P,aAAqBvE,KAAArL,KAAA4P,aAAAhO,UAU5BoB,KAAI+M,oBAAsB,kEATzB7O,EAAA,QAAAC,KAAAC,UAAApB,KAAA4P,eAhBIvO,EAAAC,MAAAC,KAAAC,SAAA,wBAAAN,qBAmBP8O,eAAa5L,EAAAlF,KAAA0C,WAEXP,EAAIyD,MAAAA,SAAUmK,GACZgB,QAAAA,IAAAA,OAOAC,YAAM,WACJC,IACAC,GACAC,eAHIrU,EAAA,wBAMAsU,EADKtU,EAAA,iBAELuU,EAAMC,QAAOD,GAFR,IA6BXE,GACAC,QA9BI1U,EAAA,wBAAA2U,SAIDV,eATGjU,EAAA,6BAWJ4U,IAAAA,SAAgB,0BACdJ,SAAOD,OACPF,MAAA,IACEQ,KAAAA,SAAcC,GACdC,OACEC,EAAAA,EAAOR,KADGD,KAAAC,EAAAD,OAfZK,eAAA,SAAA1R,EAAAsR,UAFRA,EAAAD,KAAAC,EAAAD,MAAA,GA0BIE,QAAUvR,EAAA4R,MACZJ,YACAO,KAAalB,GAAAA,EAAAA,KAAAA,EAAAA,2BAUbkB,YAAaT,2BAKXlN,eAAK4N,SAALT,GACD,IAHDnN,EAGOtD,KACLsD,EAAAA,YAAK4N,GAAL,iBAAA,SAAAvQ,GACK+O,EAAAA,OAAexQ,KAApBiS,QACKrQ,WADLwC,IAEAA,EAAKoM,EAAAA,OAALxQ,KAAoB6D,GACpBO,EAAAA,aAAK4N,KAAe7F,EAdxB,SAAAA,qBAkBAoF,EAAQQ,cAAYN,uBAEpBF,EAAQC,cAAW,EACjBpN,EAAI8N,cAAWX,IAEfnN,EAAKoM,cAAe0B,EAClBN,EAAAA,cAAW,KAIZL,EAAAQ,YAAAN,QAAA,MAAA,QAEFF,EAVDC,QAAArC,GAAA,iBAAA,SAAA1N,GA3GN,IAAA,IAsHKyQ,EAAAX,EAAAC,QAAAC,QAAA,QA7FMG,KAzBXxT,EAAA,EAAAA,EAAA8T,EAAA7T,OAAAD,sCCtDI+T,QAAiBD,EAAQ9T,GAAAyF,KAG1BkH,EADK2F,aAAAwB,SAAAN,QAIIO,eAAA,IAAArS,KAJJC,GAFqB,WAY3Bc,MACEkK,MAAIpN,GACFqN,UAAKG,GACNK,MAAA,GAfwBJ,SAiB3BjK,WAAS,GACPC,YAAAA,GACExD,KAAA,wBAIK,kBAAT2D,aACE4J,KAAAA,aAGE/I,SAEEgC,eAAKkH,SAALjK,GACA+C,MAAKoH,OAAQtG,eAAb7D,KAIJiK,SACEH,UAAItO,WACJA,IAAAA,EAAOE,KACPF,EAAA,QAAqBI,KAAKL,UAA1BkE,KAAAsK,SACAvO,MAAAA,KAAOE,SAAP,wBAAAiF,GAAAO,KAAA,SAAA2C,GACArI,EAAOG,UAAKkI,EAAS/H,KAAIP,SAC1BwH,EAAAoH,MAAAtG,EAAAlF,KAAAoS,8BRvCDzU,IAAAA,EAAeb,EAAA,mBACjBuV,EAAAA,eAAAA,WACDxV,EAAAG,KAAA,SAAAC,KAAAL,GACDC,EAASwV,iBACHlQ,EAAOC,KAAAA,SAAUE,KAAAA,QAAW,iDAShC+P,sCAqBF/M,IAAIgB,oBACFI,OAAO,oBACPC,OAAAA,oBACAJ,MAAO,oBACP+L,KAAAA,oBACAC,OAAM,qBACNC,KAAAA,mJAIAlM,QACAI,MAAIS,qBACFnD,UAAM,sBACNhE,MAAAA,sBACEgG,WAAQhG,qBACRyS,KAAAA,uBACEpM,YAAO,uBAuGb5F,iBAEFE,MAAI0E,EACFtF,oBAAI,EACJC,MAAM,GACJsE,iBAAQA,EADJsD,gBAFsB,sBAM5BzG,gBAAS,EACPC,kBAAgB,EACdX,gBAAO,GARiB4E,gBAAA,IAAAvF,KAW5ByB,GAAAA,qBACEoJ,MAAArG,OAAAA,iBAAAlD,eAAA,SAAAC,GAAA,MAAA,OAAAC,eAAAD,KAAAE,SAAAoJ,MAAO,SAAUC,GACfD,SAAAA,IADF,OAAAC,EAAAC,MAAA/J,KAAAgK,WStKF9K,kDAAM2K,ETsKG,CSrKRI,WACAC,aAMDnK,iBAAS,IAAAf,KACPC,GAAA,WACEC,MACD+K,MAAA,GAb0BC,UAAA,YAgB7BzJ,WAAS,GACP4J,YAAW,KAGT/I,QAAAA,WAEiB8C,kBAAfd,aACDtD,KAHDqK,aAOA5J,SACA1E,UAAOE,WACPF,IAAAA,EAAAiE,KACAjE,EAAOE,QAAPkF,KAAAC,UAAApB,KAAAsK,SACAvO,MAAAA,KAAAyF,SAAqBnF,4BAAa6E,GAAlCO,KAAA,SAAA2C,GACDd,EAAAkH,UAAApG,EAAAlF,KAAApD,kCChCC8V,IAAAA,EAAAA,EAAiB,sBACf7V,EAAAE,eADuB,WAE3BiD,EAAMhD,KAAA,SAAAC,KAAAL,GACJ+V,EAAAA,iBACE/U,EAAMZ,KADI,SAAAG,KAAAC,QAAA,gDAQdyD,GAAAA,qBACEb,MACA2S,YACAC,KAAAA,GACExO,MAAKyO,eAfkBC,oBAqBvBjS,QAAImB,WACJlB,KAAA+R,+BAEA1Q,UAAKI,IAAK,iBAAe,WACvB6B,EAAAyO,uBAIA/P,SACDoM,OAFD,WATK,IAAAlN,EAAA,QAAAC,KAAAC,UAAApB,KAAA6R,0DAgBL7V,EAAEyF,KAAA,SAAA2C,GACFwN,KAAAA,gBAAeG,EAAAA,QAGjBA,EAAAA,MAAAA,WACI/P,QAAAE,MAAAkC,IAAAlF,KAAA0C,YAIHqQ,gBAAA,SAAAC,GAzBMlW,EAAA,qBAAAG,KAAA+V,GAnBXN,eAAAG,qBAiDEA,kBADgB,WAEhB/V,EAAA,mCAFgBqS,GAAA,QAAA,WAGhB,IAAA8D,EAHgBnW,EAAAgE,MAAA9D,KAAA,SAAAY,OAAAG,OAIhBmV,WAJgBC,UAAAF,SAUhBG,aACAH,UAAU,GAXZI,WAAA,cAcAC,UAAIJ,GACFnT,YAAI,cAEJC,MAAM,GACJuT,OAAAA,GACEvG,iBAAM,GADCwG,QADL,GAIJtQ,OAAM,IAAAgQ,WAJF,IAAApT,KAQJ2T,GAAAA,eAEAC,MAbqBH,SAevBtS,MAAS,GAfciC,oBAmBvB3B,MAAS,GAELkS,YAAW,GACTR,YADkCS,OAApCN,gCAKAjR,EAAAA,gBAAUmI,YAAe,cAGvBoI,SACAQ,UAAAA,SAAyBQ,GACzBR,IAAAA,EAAAA,QAAAjR,KAAsBjC,WALxBiT,UAAAA,oDAUKS,KAAAA,SAASN,GACd,IAAKO,EAALzO,EAAgBlF,KAChBkT,WAAalG,QAAOA,MAApB,EACA0F,eAAKkB,MAAL,EACAlB,WAAAA,OAAsB1S,EAAtB0T,OArBKR,WAAAS,SAAA3T,EAAA2T,YAwBPE,KAAA,WAAA/S,KAAA4S,OAAAN,+BAAAtS,KAAAyS,QAAAvG,MAAA,EAAAlM,KAAA8S,mBAAAlB,eAAA1F,MAAA,GAAArC,MAAO,SAAYC,GACjBD,SAAAA,IAzBK,OAAAC,EAAAC,MAAA/J,KAAAgK,WAiCL,OAJAH,EAAKzH,SAAK4Q,WA7BL,OAAAlJ,EAAAmJ,YAiCD/R,EATC,CAUL,WACA2I,UAGEvG,aAAKwP,WACLnR,KAAAA,KAAAA,YAAmBzC,yBAIvBgU,IAAAA,EAAAA,SAAgBf,UAAAnS,KAAA4S,OAAaT,UAAAzT,YAAAsB,KAAA2S,cAEvBQ,EAAAA,KADAC,MAAAA,KAAgBxQ,SAAOyQ,0BAA3BnS,GAEIoC,KAAAA,SAAJc,GACAgP,EAAAA,mCAEApQ,eAAKoB,EAAAlF,KAAA0C,YAIHuB,eAAAA,SAJGxC,GAKHyC,IAAAA,EAAAA,EAAAA,OAAmBiQ,WALhBA,WAMHhQ,EAAAA,EAAAA,OAAkBgQ,WAAAvS,WAAA,WAAAC,MAEnBU,EAAKzB,KACJsD,EAAKgQ,UAAcH,IAAAA,aAEpBnQ,MAECoQ,MAAAA,eAbFtW,KAAA,uCAjDKoG,KAAA,8BAkEPoQ,kBAAe,WACbjQ,iBAAA,aACA5B,KAAIP,WACJoC,EAAIjC,cAAO8R,qCAEX9R,MAAA,WACEiC,EAAKiQ,UAALC,OAAA,0CAKJC,IAAAA,EAAazT,+BAIb8S,MAAkBvR,KAAAC,SAAA,6BAAYN,GAEvByR,KAAAA,SAAcvO,GAnFdd,EAAAiQ,gDAyFLE,YAAW,aAETnQ,iBAAA,WACDtD,KAFDoC,KAAA4Q,YAAA,EA1FKhT,KAAA2S,YAAA,IAgGLY,YAAKG,WAhGA,IAAAxS,EAAAyS,SAAAxB,UAAAnS,KAAA4S,OAAAT,YAmGPyB,EAAa5T,uDACPyB,KAAKmR,SAAOnW,GACd6G,EAAKsP,SAAOiB,EAAAA,KAAAA,YAIfC,kBAzGM,iGA6GLF,YAAWD,WACWnS,eAAlBH,KAAAA,OAAOC,uCAGTsQ,KAAAA,OAAAA,iBAAAlU,SAAAC,OAAA,wCAKJoW,KAAAA,gBACE/R,IAAAA,EAAQ0L,QAAK1N,KAAbgU,UAAAC,IAvHK3S,MAAAC,KAAAC,SAAA,4BAAAN,GA0HPgT,KAAAA,SAAe9P,GACbwN,eAAiBxD,SA3HZzM,eAAAyC,EAAAlF,KAAA0C,YAgINmS,aAhIM,oCAoILG,cAAW,WACXD,KAAAA,KAAOhQ,MAAQ,4BAIfjE,KAAAoC,KAAO+R,MAAAA,GAzIFH,UAAA,SAAAC,GAnBX,IAAAE,mBAkKAF,EAASN,QAAQS,SAAOlQ,GACtBiQ,EAAiBhT,GAAKC,EAAUgT,OAAhClQ,IACDlE","file":"components.js","sourcesContent":["function fillBSTable(tableId, content) {\r\n  var $table = $(tableId);\r\n  $table.bootstrapTable('destroy');\r\n  $table.find('tbody').html(content);\r\n  $table.bootstrapTable();\r\n  $('.pull-right.search').addClass('hide')\r\n  $table.find('tbody').css({display:\"table-row-group\"});\r\n  $table.addClass('innertable');\r\n\r\n}\r\n\r\nfunction filterBSTable(tableId, state) {\r\n  $(tableId).bootstrapTable('filterBy',{\r\n    estado: state\r\n  });\r\n}","  function isCurrentPage(pageName){\r\n    if(getCurrentPage() == pageName){\r\n      return true\r\n    }  \r\n    return false;\r\n  }\r\n\r\n  function getCurrentPage(){\r\n    var currentPage = $(\"title\").text().split(\" \");\r\n    currentPage = currentPage[4].toLowerCase().trim();\r\n    return currentPage;\r\n  }\r\n\r\n  if(isCurrentPage(\"cierre\") || isCurrentPage(\"cierre2\")){\r\n    cierreCajaFunctions();\r\n  }\r\n\r\n  function cierreCajaFunctions(){\r\n    \r\n    var totales = {\r\n          total1: 0,\r\n          total5: 0,\r\n          total10: 0,\r\n          total20: 0,\r\n          total25: 0,\r\n          total50: 0,\r\n          total100: 0,\r\n          total200: 0,\r\n          total500: 0,\r\n          total1000: 0,\r\n          total2000: 0\r\n        }\r\n\r\n    var gasto   = {\r\n        'fecha': '',\r\n        'descripcion': '',\r\n        'monto': '',\r\n      }\r\n\r\n    var gastos  = [{fecha: now(),descripcion:\"hola\",monto: 2000, id_gasto: 1}]\r\n    var autor   = $('#autor-cierre').text().trim()\r\n\r\n    var appCierre = new Vue({\r\n      el: '#app-cierre',\r\n      data: {\r\n        isHide: false,\r\n        fecha: now(),\r\n        data_cierre:{\r\n          autor: autor,\r\n          pagos_facturas: 0,\r\n          pagos_extras: 0,\r\n          pagos_efectivo: 0,\r\n          pagos_banco: 0,\r\n          total_ingresos: 0,\r\n          efectivo_caja: 0,\r\n          total_descuadre: 0,\r\n          total_gastos: 0,\r\n          banco: 0\r\n        },\r\n        conteo:totales,\r\n        suma: 0,\r\n        gasto: gasto,\r\n        gastos: gastos\r\n      },\r\n\r\n      mounted: function() {\r\n        this.getGastos();\r\n        this.setIngresos();\r\n      },\r\n\r\n      created: function(){\r\n        $('.will-load').css({visibility:\"visible\"})\r\n      },\r\n\r\n      filters: {\r\n        currencyFormat: function(number){\r\n          return CurrencyFormat(number);\r\n        }\r\n      },\r\n\r\n      methods:{\r\n        changeTotal: function(e){\r\n          var unit = e.srcElement.attributes['data-unit'].value\r\n          var cantidad = e.srcElement.value\r\n          var total = cantidad * unit\r\n          totales['total'+ unit] = cantidad * unit * 1.00    \r\n        }, \r\n\r\n        addGasto: function(e) {\r\n          var gasto = this.gasto;\r\n          gasto.fecha = now();\r\n          form = 'data='+ JSON.stringify(gasto);\r\n          var send = axios.post( BASE_URL + 'caja/add_gasto',form)\r\n          send.then(function(response){\r\n            var data = response.data\r\n            displayMessage(data.mensaje)\r\n            appCierre.fillGastos(data.gastos,\"normal\")\r\n            appCierre.setGastoTotal(data.total_gastos)\r\n          });\r\n          send.catch(function(){\r\n            console.log(error);\r\n          });\r\n        },\r\n\r\n        fillGastos: function(gastos_servidor,mode){\r\n          if(mode == \"group\"){\r\n            if(gastos_servidor != null || gastos_servidor.length > 0){\r\n              appCierre.gastos = gastos_servidor;\r\n            }else{\r\n              appCierre.gastos = [];\r\n            }\r\n          }else{\r\n            appCierre.gastos.push(JSON.parse(gastos_servidor)[0]);\r\n          }\r\n        },\r\n\r\n        setGastoTotal: function(totalGastos){\r\n          this.data_cierre.total_gastos = totalGastos\r\n        },\r\n\r\n        getGasto: function(e){\r\n          var gasto = this.gasto;\r\n          form = 'data='+ JSON.stringify(gasto);\r\n          connectAndSend('caja/get_gasto',false,null,appCierre.fillGastos,form,null, null);\r\n        },\r\n\r\n        deleteGasto: function(e){\r\n          var caller = e.target;\r\n          if(caller.localname == \"i\"){\r\n            caller = caller.parentElement;\r\n          }\r\n          var id = caller.attributes['data-id'].value\r\n          swal({\r\n            title: 'Está Seguro?',\r\n            text: \"Seguro de que quiere eliminar este gasto?\",\r\n            type: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonText: 'Estoy Seguro!',\r\n            cancelButtonText: 'Cancelar'\r\n          }).then(function(){\r\n            form = 'data='+ JSON.stringify({id: id, fecha:now()})\r\n            var send = axios.post(BASE_URL + 'caja/delete_gasto',form)\r\n            send.then(function(response){\r\n              var data = response.data\r\n              displayMessage(data.mensaje)\r\n              appCierre.fillGastos(data.gastos,\"group\")\r\n              appCierre.setGastoTotal(data.total_gastos) \r\n            });\r\n            send.catch(function(error){\r\n\r\n            });\r\n          });      \r\n        },\r\n\r\n        getGastos: function(){\r\n          var data = {fecha: now()}\r\n          form = 'data='+ JSON.stringify(data)\r\n          var send = axios.post( BASE_URL + 'caja/get_gastos',form)\r\n          send.then(function(response){\r\n            var data = response.data\r\n            displayMessage(data.mensaje)\r\n            appCierre.fillGastos(data.gastos,\"group\")\r\n            appCierre.setGastoTotal(data.total_gastos)\r\n          });\r\n          send.catch(function(){\r\n            console.log(error);\r\n          })\r\n        },\r\n\r\n        setIngresos: function(){\r\n          var form = 'data=' + JSON.stringify({fecha: now()})\r\n          var self = this.data_cierre;\r\n          var send = axios.post( BASE_URL + 'caja/get_ingresos',form)\r\n          send.then(function(response){\r\n            var data = response.data\r\n            self.pagos_facturas = data.pagos_facturas;\r\n            self.pagos_extras = data.pagos_extras;\r\n            self.pagos_efectivo = data.pagos_efectivo;\r\n            self.pagos_banco = data.pagos_banco;\r\n            self.total_ingresos = parseFloat(data.pagos_facturas) + parseFloat(self.pagos_extras);\r\n            self.total_descuadre = - self.pagos_efectivo + self.efectivo_caja;\r\n          });\r\n          send.catch(function(){\r\n            console.log(error);\r\n          })\r\n        },\r\n\r\n        cerrarCaja: function(){\r\n          var self   = this;\r\n          var cierre = this.data_cierre;\r\n          window.cierre = cierre;\r\n          if(cierre.total_descuadre != 0){\r\n            swal({\r\n              title: 'Está Seguro?',\r\n              text: \"Hay un descuadre en la caja, quiere hacer el cierre de todos modos?\",\r\n              type: 'warning',\r\n              showCancelButton: true,\r\n              confirmButtonText: 'Si',\r\n              cancelButtonText: 'No'\r\n            }).then(function(){\r\n              self.cerrar(cierre)\r\n            })\r\n          }else{\r\n            self.cerrar(cierre);\r\n          }\r\n        },\r\n\r\n        cerrar: function(cierre){\r\n          \r\n          cierre.fecha = now();\r\n          form = 'data='+ JSON.stringify(cierre);\r\n          var send = axios.post( BASE_URL + 'caja/add_cierre',form)\r\n          send.then(function(response){\r\n            var data = response.data\r\n            displayMessage(data.mensaje)\r\n            self.isHide = true;\r\n            appSummaryView.isHide = false;\r\n            appSummaryView.cierre = cierre;\r\n            $(\"#app-cierre\").addClass('hide');\r\n            $(\".top-nav\").addClass('hide');\r\n            $(\"#print-view\").css({visibility: \"visible\"})\r\n            \r\n          });\r\n          send.catch(function(){\r\n            console.log(error);\r\n          });\r\n        }\r\n      },\r\n\r\n      computed:{\r\n        getTotal: function(e){\r\n          var t = totales;\r\n          var self = this.data_cierre;\r\n          var suma = sumar([t.total1,t.total5,t.total10, t.total20, t.total25, t.total50, t.total100, t.total200, t.total500, t.total1000, t.total2000]);\r\n          this.suma = suma;\r\n          self.efectivo_caja = suma.toFixed(2);\r\n          self.total_descuadre = parseFloat(-self.pagos_efectivo) + parseFloat(self.efectivo_caja);\r\n          self.banco = parseFloat(self.pagos_banco) + parseFloat(self.pagos_efectivo) - parseFloat(self.total_gastos) + parseFloat(self.total_descuadre)\r\n          return this.suma;\r\n        },\r\n\r\n        decimals: function(){\r\n          var fields = [\"pagos_facturas\",\"pagos_extra\",\"pagos_efectivo\",\"pagos_banco\",\"total_ingresos\",\"efectivo_caja\",\"total_descuadre\",\"total_gasto\",\"banco\"];\r\n          fields.forEach(function(field) {\r\n            this.data_cierre[field] = this.data_cierre[field].toFixed(2)\r\n          }, this);\r\n        }\r\n      }\r\n    })\r\n\r\n    window.appCierre = appCierre;\r\n    function sumar (valores){\r\n      var suma = 0;\r\n      for (var i = 0; i < valores.length; i++) {\r\n        suma += parseFloat(valores[i]); \r\n      }\r\n      return suma;\r\n    }\r\n\r\n    function now(){\r\n      return moment().format(\"YYYY-MM-DD\");\r\n    }\r\n  }\r\n\r\n  Vue.component('summary-print-view',{\r\n    template: '\\\r\n    <div class=\"print-container\">\\\r\n      <div class=\"__header\">\\\r\n      <h2 class=\"__title t-center\"> {{title}}</h2>\\\r\n      </div>\\\r\n      <div class=\"__body\">\\\r\n      <printeable></printeable>\\\r\n      </div>\\\r\n    <div>\\\r\n    \\\r\n    ',\r\n    props:['somevalue'],\r\n    methods:{\r\n      goBack: function(){\r\n        appSummaryView.isHide = true;\r\n        window.appCierre.isHide = false;\r\n        self.isHide = true;\r\n        $(\".top-nav\").removeClass('hide');\r\n        $(\"#app-cierre\").removeClass('hide');\r\n      }\r\n    },\r\n    data: function(){\r\n      return {\r\n        back: {link:\"somelink\",text:\"volver a cierre\"},\r\n        foward: {link: BASE_URL + \"app/logout\",text:\"cerrar session\"},\r\n        title:\"Resumen de cierre de hoy\",\r\n\r\n      }\r\n    }\r\n  })\r\n\r\n  var appSummaryView = new Vue({\r\n    el: \"#print-view\",\r\n    data: {\r\n      isHide: true,\r\n      back: {link:\"somelink\",text:\"volver a cierre\"},\r\n      foward: {link: BASE_URL + \"app/logout\",text:\"cerrar session\"},\r\n      cierre:{\r\n          autor: '',\r\n          pagos_facturas: 0,\r\n          pagos_extras: 0,\r\n          pagos_efectivo: 0,\r\n          pagos_banco: 0,\r\n          total_ingresos: 0,\r\n          efectivo_caja: 0,\r\n          total_descuadre: 0,\r\n          total_gastos: 0,\r\n          banco: 0\r\n        }\r\n    },\r\n    filters: {\r\n      currencyFormat: function(number){\r\n        return \"RD$ \"+ CurrencyFormat(number);\r\n      },\r\n\r\n      spanishDateFormat: function(date){\r\n        moment.locale('es-DO');\r\n        return moment(date).format('dddd DD [de] MMMM [del] YYYY')\r\n      }\r\n    },\r\n    methods:{\r\n      goBack: function(){\r\n        appSummaryView.isHide = true;\r\n        window.appCierre.isHide = false;\r\n        self.isHide = true;\r\n        $(\".top-nav\").removeClass('hide');\r\n        $(\"#app-cierre\").removeClass('hide');\r\n      },\r\n      print: function(){\r\n        print()\r\n      }\r\n    }\r\n  })","\r\nif (currentPage == 'reportes'){\r\n  fetchReportData();\r\n}\r\nfunction fetchReportData() {\r\n  var send = axios.get(BASE_URL + 'caja/get_last_cierre')\r\n  send.then(function (response) {\r\n    cajaWeekChart(response.data);\r\n    appVistaDetalle.cierre = response.data.cierre;\r\n  })\r\n  send.catch(function (error) {\r\n  \r\n  })\r\n  \r\n  var form = \"data=\"+ JSON.stringify({year:moment().format(\"YYYY\")})\r\n  var send2 = axios.post(BASE_URL + 'caja/get_year_info',form)\r\n  send2.then(function(res){\r\n    var gastos    = res.data.gastos;\r\n    var ganancias = res.data.ganancias;\r\n    yearChart(gastos,ganancias);\r\n  })\r\n}\r\n\r\n\r\nwindow.chartColors = {\r\n  red: 'rgb(255, 99, 132)',\r\n  orange: 'rgb(255, 159, 64)',\r\n  yellow: 'rgb(255, 205, 86)',\r\n  green: 'rgb(75, 192, 192)',\r\n  blue: 'rgb(54, 162, 235)',\r\n  purple: 'rgb(153, 102, 255)',\r\n  grey: 'rgb(201, 203, 207)'\r\n};\r\nvar meses = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"];\r\n\r\nvar colors = {\r\n  green: 'rgba(0,230,118 ,1)',\r\n  blueGreen: 'rgba(29,233,182 ,1)',\r\n  blue7: 'rgba(25,118,210 ,1)',\r\n  lightBlue6: 'rgba(3,155,229 ,1)',\r\n  red3: 'rgba(229,115,115 ,1)',\r\n  deepOrange4: 'rgba(255,112,67 ,1)'\r\n}\r\n\r\nfunction cajaWeekChart(data) {\r\n  var canvas = $(\"#ganancias-chart\");\r\n  var chartOptions = {\r\n    type: 'bar',\r\n    data: {\r\n      labels: data.labels,\r\n      datasets: [{\r\n        label: \"Valores\",\r\n        data: data.values,\r\n        backgroundColor: [colors.lightBlue6, colors.lightBlue6, colors.blue7, window.chartColors.blue,window.chartColors.green, colors.blueGreen, window.chartColors.red,window.chartColors.red,  window.chartColors.blue],\r\n      }]\r\n    },\r\n    options: {\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      scales: {\r\n        yAxes: [{\r\n          ticks: {\r\n            callback: function (label, index, labels) {\r\n              if (label == '' || label == null) label = 0;\r\n              return \"RD$ \" + CurrencyFormat(label);\r\n            }\r\n          }\r\n        }],\r\n        xAxes: [{\r\n          ticks: {\r\n            callback: function (label, index, labels) {\r\n              return label.replace(/_/g, \" \");\r\n            }\r\n          }\r\n        }]\r\n      },\r\n      tooltips: {\r\n        callbacks: {\r\n          label: function (tooltipItem, data) {\r\n            return \"RD$ \" + CurrencyFormat(tooltipItem.yLabel);\r\n          }\r\n        }\r\n      },\r\n      title: {\r\n        display: true,\r\n        text: \"Datos del ultimo cierre. hecho por \" + data.autor + \" el dia \" + data.fecha\r\n      }\r\n    }\r\n  };\r\n  var mychart = new Chart(canvas, chartOptions);\r\n}\r\n\r\nfunction yearChart(gastos,ganancias) {\r\n  var $canvas = $(\"#ganancias-mes-chart\");\r\n  var data = {\r\n      labels: meses,\r\n      datasets: [{\r\n        label: \"Gastos\",\r\n        backgroundColor: window.chartColors.red,\r\n        borderColor: window.chartColors.red,\r\n        data: gastos,\r\n        fill: false,\r\n      }, {\r\n        label: \"Banco(Ganancias)\",\r\n        fill: false,\r\n        backgroundColor: window.chartColors.blue,\r\n        borderColor: window.chartColors.blue,\r\n        data: ganancias,\r\n      }]\r\n    };\r\n\r\n    var options = {\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      scales: {\r\n        yAxes: [{\r\n          ticks: {\r\n            callback: function (label, index, labels) {\r\n              return \"RD$ \" + CurrencyFormat(label);\r\n            }\r\n          }\r\n        }]\r\n      },\r\n      tooltips: {\r\n        callbacks: {\r\n          label: function (tooltipItem, data) {\r\n            return \"RD$ \" + CurrencyFormat(tooltipItem.yLabel);\r\n          }\r\n        }\r\n      },\r\n      title: {\r\n        display: true,\r\n        text: \"Registros de cierre Este ultimo año\"\r\n      }\r\n    }\r\n\r\n  var chart = new Chart($canvas, {\r\n    type: 'line',\r\n    data: data,\r\n    options: options\r\n  });\r\n\r\n}\r\n\r\nvar cierre = { \r\n  autor: \"\",\r\n  banco: 0,\r\n  dinero_real_en_caja: 0,\r\n  fecha : '',\r\n  pago_de_facturas: 0,\r\n  pagos_de_extras: 0,\r\n  pagos_en_efectivo:0,\r\n  pagos_via_banco:0,\r\n  total_de_ingresos: 0,\r\n  total_descuadre:0 }\r\n\r\nvar appVistaDetalle = new Vue({\r\n  el: '#app-vista-detalle',\r\n  data: {\r\n    cierre: cierre,\r\n  },\r\n\r\n  filters: {\r\n    currencyFormat: function(number){\r\n      return \"RD$ \"+ CurrencyFormat(number);\r\n    }\r\n  },\r\n  methods:{\r\n    print: function(){\r\n      print()\r\n    }\r\n  }\r\n})","  var acountView = new Vue({\r\n    el: '#acount-section',\r\n    data: {\r\n      user: {\r\n        user_id: '',\r\n        nickname: '',\r\n        name: '',\r\n        lastname: '',\r\n        dni: '',\r\n        type: '',\r\n        email: ''\r\n      },\r\n      isChangePassword: false,\r\n      currentPassword: '',\r\n      newPassword: '',\r\n      passwordConfirm: '',\r\n      states: {\r\n        'has-error': false,\r\n        'has-success': false,\r\n         button: true,\r\n      }\r\n\r\n    },\r\n\r\n    mounted: function () {\r\n      if (currentPage == 'cuenta') {\r\n        this.getUser();\r\n      }\r\n    },\r\n\r\n    methods: {\r\n      getUser: function () {\r\n        var self = this;\r\n        var user_id = $('#acount-user-id').val();\r\n        var form = 'data=' + JSON.stringify({\r\n          user_id: user_id\r\n        });\r\n\r\n        axios.post(BASE_URL + 'user/get_user', form)\r\n          .then(function (res) {\r\n            var user = res.data.user;\r\n            user['fullname'] = user.name + ' ' + user.lastname;\r\n            self.user = user;\r\n          })\r\n      },\r\n\r\n      updateInfo: function () {\r\n        if (this.isChangePassword) {\r\n          this.changePassword()\r\n        } else {\r\n          this.changeEmail()\r\n        }\r\n      },\r\n\r\n      changePassword: function () {\r\n        if (this.states['has-success']) {\r\n          var form = 'data=' + JSON.stringify({\r\n            user_id: this.user.user_id,\r\n            current_password: this.currentPassword,\r\n            new_password: this.newPassword\r\n          });\r\n\r\n          axios.post(BASE_URL + 'user/update_password', form)\r\n            .then(function (res) {\r\n              displayMessage(res.data.message);\r\n              window.location = BASE_URL + 'app/logut';\r\n            })\r\n        } else {\r\n          displayMessage(\"Las contraseñas no conciden\")\r\n        }\r\n      },\r\n\r\n      changeEmail: function () {\r\n        var self = this\r\n        var user = this.user\r\n\r\n        swal({\r\n            'title': 'Contraseña',\r\n            'input': 'password',\r\n          })\r\n          .then(function (password) {\r\n              var form = 'data=' + JSON.stringify({\r\n                'user_id': user.user_id,\r\n                'password': password,\r\n                'field': 'email',\r\n                'value': user.email\r\n              });\r\n\r\n              axios.post(BASE_URL + 'user/update_field', form)\r\n              .then(function(res){\r\n                displayMessage(res.data.message);\r\n              })\r\n          })\r\n      },\r\n\r\n      confirmPasswordServer: function (password) {\r\n        var form = 'data=' + JSON.stringify({\r\n          user_id: this.user.user_id,\r\n          current_password: password\r\n        });\r\n\r\n        return new Promise(function (resolve, reject) {\r\n          axios.post(BASE_URL + 'user/confirm_password', form)\r\n            .then(function (res) {\r\n              resolve(res.data.is_correct);\r\n            })\r\n        })\r\n      },\r\n\r\n      confirmPassword: function () {\r\n        var self = this;\r\n        this.confirmPasswordServer(this.currentPassword)\r\n          .then(function (is_correct) {\r\n            self.isChangePassword = is_correct\r\n          })\r\n      },\r\n\r\n      checkPassword: function () {\r\n        if ((this.newPassword == this.passwordConfirm) && this.changePassword) {\r\n          this.setStates(true, false);\r\n          this.states.button = true;\r\n        } else if (this.changePassword) {\r\n          this.setStates(false, true);\r\n          this.states.button = false;\r\n        } else {\r\n          this.setStates(false, false);\r\n        }\r\n      },\r\n\r\n      setStates: function (success, error) {\r\n        this.states['has-success'] = success;\r\n        this.states['has-error'] = error;\r\n      },\r\n    },\r\n\r\n  })","var closeReport = new Vue({\r\n  el: '#cierres',\r\n  data: {\r\n   table: '',\r\n   tableHTML: '',\r\n   hasTotals: false,\r\n   totals: false,\r\n   between: {\r\n     first_date: '',\r\n     second_date: '',\r\n     text: ''\r\n   }\r\n  },\r\n\r\n  mounted: function () {\r\n    if (currentPage == 'informes') {\r\n      this.getReport();\r\n    }\r\n  },\r\n\r\n  filters: {\r\n    currencyFormat: function(number){\r\n      return \"RD$ \"+ CurrencyFormat(number);\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    getReport: function () {\r\n      var self = this;\r\n      var form = 'data=' + JSON.stringify(this.between)\r\n      axios.post(BASE_URL + 'caja/get_cierres/true', form)\r\n      .then(function (res) {\r\n        self.fillTable(res.data.content);\r\n        self.hasTotals = true;\r\n        self.totals    = res.data.acum;\r\n      })\r\n    },\r\n\r\n    fillTable: function(content) {\r\n      fillBSTable('#cierres-table', content);\r\n    }\r\n  }\r\n})","var expensesReport = new Vue({\r\n  el: '#gastos',\r\n  data: {\r\n   table: '',\r\n   tableHTML: '',\r\n   total: '',\r\n   between: {\r\n     first_date: '',\r\n     second_date: '',\r\n     text: ''\r\n   }\r\n  },\r\n\r\n  mounted: function () {\r\n    if (currentPage == 'informes') {\r\n      this.getReport();\r\n    }\r\n  },\r\n\r\n  filters: {\r\n    currencyFormat: function(number){\r\n      return \"RD$ \"+ CurrencyFormat(number);\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    getReport: function () {\r\n      var self = this;\r\n      var form = 'data=' + JSON.stringify(this.between)\r\n      axios.post(BASE_URL + 'caja/get_gastos/true', form)\r\n      .then(function (res) {\r\n        self.fillTable(res.data.content)\r\n        self.total = res.data.acum;\r\n      })\r\n    },\r\n\r\n    fillTable: function(content) {\r\n      fillBSTable('#gastos-table', content);\r\n    }\r\n  }\r\n})","var listExtras = '';\r\nvar reciboReset = {\r\n  id_pago: 0,\r\n  id_contrato: 0,\r\n  id_servicio: 0,\r\n  id_empleado: 0,\r\n  fecha_pago : '',\r\n  concepto : 'extra',\r\n  detalles_extra : '',\r\n  cuota: '',\r\n  mora : '',\r\n  monto_extra: '',\r\n  total: '',\r\n  estado: '',\r\n  fecha_limite: '',\r\n  complete_date : '',\r\n  descuento: '',\r\n  razon_descuento: '',\r\n  deuda: '',\r\n  abono_a: '',\r\n  tipo: '',\r\n  generado: ''\r\n}\r\n\r\nvar appPagoExtra = new Vue({\r\n  el: \"#app-pago-extra\",\r\n  data: {\r\n    recibo:{\r\n       id_pago: 0,\r\n       id_contrato: 0,\r\n       id_servicio: 0,\r\n       id_empleado: 0,\r\n       fecha_pago : 'dd/mm/yyyy',\r\n       concepto : 'extra',\r\n       detalles_extra : '',\r\n       cuota: '',\r\n       mora : '',\r\n       monto_extra: '',\r\n       total: '',\r\n       estado: '',\r\n       fecha_limite: '',\r\n       complete_date : '',\r\n       descuento: '',\r\n       razon_descuento: '',\r\n       deuda: '',\r\n       abono_a: '',\r\n       tipo: '',\r\n       generado: ''\r\n    },\r\n\r\n    visible: false,\r\n    pagado: false,\r\n    extra:{\r\n      \"controls\": '',\r\n      \"id_extra\": '',\r\n      \"id_servicio\": '',\r\n      \"checkbox\": '',\r\n      \"fecha\": '',\r\n      \"concepto\": '',\r\n      \"ultimo_pago\": '',\r\n      \"monto_pagado\": '',\r\n      \"monto_total\": '',\r\n      \"estado\": ''\r\n    },\r\n    firstControls: {\r\n      hide: false\r\n    },\r\n  },\r\n  filters: {\r\n\r\n  },\r\n  computed: {\r\n    url_recibo: function () {\r\n      return BASE_URL + 'process/getrecibo/' + this.recibo.id_pago;\r\n    },\r\n\r\n    hide_recibo: function () {\r\n      if(this.recibo.estado == \"pagado\"){\r\n        return false\r\n      }\r\n       return this.hide_recibo = true; \r\n    },\r\n\r\n    isPagado: function () {\r\n      this.pagado = (this.recibo.estado == 'pagado');\r\n      return this.pagado;\r\n    }\r\n  },\r\n\r\n  methods:{\r\n\r\n    goBack: function () {\r\n      extraTable.el.parents(\".bootstrap-table\").removeClass(\"hide\");\r\n      this.visible = false\r\n      this.extra = {concepto: ''}\r\n      extraTable.refresh(listExtras);\r\n    },\r\n\r\n    generatePayment: function () {\r\n      if (this.pagado || this.recibo.id_pago == 0) {\r\n        var form = 'data=' + JSON.stringify(this.extra);\r\n        var send = axios.post( BASE_URL + 'extra/generate_extra_payment',form);\r\n        send.then(function(res){\r\n          var data = res.data;\r\n          displayMessage(data.mensaje);\r\n          selectExtraPayment.html(data.pagos).change();\r\n        });\r\n        send.catch(function(){\r\n          \r\n        })\r\n      } else {\r\n        displayMessage( MESSAGE_INFO + ' Debe realizar este pago antes de crear uno nuevo');\r\n      }\r\n    },\r\n\r\n    getPayment: function (id_pago) {\r\n      var form = \"data=\" + JSON.stringify({id_pago: id_pago});\r\n      var self = this\r\n      var send = axios.post( BASE_URL + 'extra/get_payment',form);\r\n      send.then(function(res){\r\n        var data = res.data \r\n        if(data.recibo){\r\n          self.recibo = data.recibo\r\n        }\r\n      })\r\n    },\r\n\r\n    applyPayment: function () {\r\n      if (this.recibo.id_pago != 0) {\r\n        this.sender('extra/apply_payment');\r\n      } else {\r\n        displayMessage( MESSAGE_INFO + ' Debe generar un pago primero');\r\n      }\r\n    },\r\n\r\n    editPayment: function () {\r\n      this.sender('extra/edit_payment');\r\n    },\r\n\r\n    sender: function(endpoint) {\r\n      var self = this;\r\n      var preparedData = this.prepareData()\r\n      var info = preparedData.info;\r\n      var data = preparedData.data;\r\n\r\n      var form = 'data='+ JSON.stringify(data) + '&info='+ JSON.stringify(info)\r\n      var send = axios.post(BASE_URL + endpoint,form)\r\n\r\n      send.then(function (res) {\r\n        var data = res.data\r\n        if (data.extras) {\r\n          listExtras = data.extras;\r\n        }\r\n        self.getPayments(self.extra.id_extra);\r\n        if (data.mensaje){\r\n          displayMessage(data.mensaje);\r\n        }\r\n      })\r\n      send.catch(function(error){\r\n        console.log(error);\r\n      })\r\n    },\r\n\r\n    prepareData: function (recibo) {\r\n      var recibo = this.recibo;\r\n      \r\n      var data = {\r\n        concepto: 'extra -', \r\n        detalles_extra: recibo.detalles_extra,\r\n        fecha_pago: recibo.fecha_pago,\r\n        cuota: recibo.cuota,\r\n        total: recibo.cuota,\r\n        estado: 'pagado',\r\n        tipo: recibo.tipo,\r\n        generado: true\r\n      };\r\n      \r\n      var info = {\r\n        id_extra: recibo.id_extra,\r\n        id_pago: recibo.id_pago\r\n      };\r\n    \r\n      return {data: data, info: info};\r\n    },\r\n    \r\n    getPayments: function (id_extra) {\r\n      var self = this;\r\n      var form = \"data=\"+ JSON.stringify({id_extra: id_extra})\r\n      var send = axios.post(BASE_URL + 'extra/get_extra_payment_of', form)\r\n      send.then(function(res){\r\n        var data = res.data;\r\n\r\n        if(!data.pagos){\r\n          self.recibo = reciboReset\r\n        }\r\n\r\n        selectExtraPayment.html(data.pagos).change()\r\n\r\n      })\r\n    },\r\n\r\n    deletePayment: function () {\r\n      var self = this;\r\n      var recibo = this.recibo\r\n      var data = {\r\n        'id_extra': recibo.id_extra,\r\n        'id_pago': recibo.id_pago\r\n      }\r\n\r\n      var form = 'data='+ JSON.stringify(data)\r\n      var send = axios.post(BASE_URL + 'extra/delete_payment',form)\r\n\r\n      send.then(function (res) {\r\n        var data = res.data\r\n        displayMessage(data.mensaje);\r\n        self.getPayments(self.extra.id_extra);\r\n      })\r\n      send.catch(function(error){\r\n        console.log(error);\r\n      })\r\n    }\r\n  }\r\n});\r\n\r\nbus.$on('row-selected',function (row) {\r\n  extraTable.el.parents(\".bootstrap-table\").addClass(\"hide\");\r\n  appPagoExtra.visible = true\r\n  appPagoExtra.extra = row\r\n  listExtras = extraTable.el.find('tbody').html();\r\n  appPagoExtra.getPayments(row.id_extra);\r\n})\r\n\r\nvar selectExtraPayment = $(\"#select-extra-payment\");\r\nselectExtraPayment.on('change',function(){\r\n  var id_pago = selectExtraPayment.val()\r\n  appPagoExtra.getPayment(id_pago)\r\n})","var extraSection = new Vue({\r\n  el: '#extra-section',\r\n  data: {\r\n    content: '',\r\n    search: {\r\n      text: '',\r\n      state: 'activo'\r\n    },\r\n    totales: {\r\n      pagado: 0,\r\n      pendiente: 0,\r\n      total_vendido: 0\r\n    },\r\n    tableId: '#extra-table-full'\r\n  },\r\n  mounted: function () {\r\n    if (currentPage == 'extras') {\r\n      this.getData();\r\n    }\r\n  },\r\n\r\n  filters: {\r\n    currencyFormat: function(number){\r\n      return \"RD$ \"+ CurrencyFormat(number);\r\n    },\r\n  },\r\n  \r\n  methods: {\r\n    filter: function(e) {\r\n      filterBSTable(this.tableId,this.filterValue);\r\n    },\r\n    \r\n    getData: function () {\r\n      var self = this;\r\n      var form = 'data=' + JSON.stringify(this.search)\r\n      axios.post(BASE_URL + 'extra/get_all',form)\r\n      .then(function (res) {\r\n        self.fillTable(res.data.content);\r\n        self.totales = res.data.totales;\r\n      })\r\n    },\r\n\r\n    fillTable: function (content) {\r\n      fillBSTable('#extra-table-full', content)\r\n    }\r\n  }\r\n});\r\n","var sessionForm = new Vue({\n  el: '.login-box',\n  data: {\n    credentials: {\n      user: '',\n      password: '',\n      csrf_token_name: ''\n    },\n    email: ''\n  },\n\n  methods: {\n    login: function () {\n      if (!isEmpty([this.credentials.user, this.credentials.password])) {\n        this.doLogin()\n      } else {\n        displayMessage(MESSAGE_ERROR + \" LLene todos los campos indicados para ingresar\")\n      }\n    },\n\n    doLogin() {\n      const form = `data=${JSON.stringify(this.credentials)}`\n      axios.post(BASE_URL + 'app/login',form)\n\n      .then(function(res){\n        if (res.data == true) {\n          window.location.href = BASE_URL + 'app/admin/';\n        } else {\n          displayMessage(MESSAGE_INFO + \" Usuario y Contraseña no validos\")\n        }\n      })\n\n      .catch(function(err){\n        console.error(err)\n      })\n    },\n\n    resetPassword(){\n      axios.post(BASE_URL + 'user/reset_password', {\n        email: email\n      })\n      .then(function(res){\n        displayMessage(res.data.message)\n      })\n      .catch(function(err){\n        console.error(err)\n      })\n    }\n  }\n})\n","\r\nvar configMessage = {\r\n  email: '',\r\n  password: '',\r\n  device_id: '',\r\n  country_code: '',\r\n  send_at: '1 second',\r\n  expires_at: '1 hour'\r\n}\r\n\r\nvar configMessagesForm = new Vue({\r\n  el: '#message-settings-section',\r\n  data: {\r\n    config: configMessage\r\n  },\r\n\r\n  mounted: function () {\r\n    if (currentPage == 'administrador') \r\n      this.getConfig()\r\n  },\r\n\r\n  methods: {\r\n    confirmPhone: function () {},\r\n\r\n    getConfig: function () {\r\n      var send\r\n      var self = this;\r\n      send = axios.get(BASE_URL + 'messages/get_config')\r\n      send.then(function (res) {\r\n        if(res.data.config){\r\n          self.config = res.data.config\r\n        }\r\n      })\r\n      send.catch(function (error) {\r\n        console.log(error)\r\n      })\r\n    },\r\n\r\n    saveSettings: function (e) {\r\n      var config, form, send\r\n      config = this.config\r\n\r\n      form = 'data=' + JSON.stringify(config)\r\n      send = axios.post(BASE_URL + 'messages/save_config', form)\r\n      send.then(function (res) {\r\n        displayMessage(res.data.mensaje)\r\n      })\r\n      send.catch(function (err) {\r\n        console.log(err)\r\n      })\r\n    }\r\n  }\r\n})\r\n\r\nvar sendMessageApp = new Vue({\r\n  el: '#send-message-modal',\r\n\r\n  data: {\r\n    hide_clients: true,\r\n    hide_numbers: true,\r\n\r\n    message_data: {\r\n      tipo: '',\r\n      clientes: '',\r\n      numeros: '',\r\n      mensaje: ''\r\n    }\r\n  },\r\n\r\n  mounted: function () {\r\n    this.initSelect2()\r\n  },\r\n\r\n  computed: {\r\n    letters_count: function () {\r\n      return this.message_data.mensaje.length\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    sendMessage: function () {\r\n      var form, send\r\n\r\n      if (!isEmpty([this.message_data.tipo, this.message_data.mensaje])) {\r\n        form = 'data=' + JSON.stringify(this.message_data)\r\n        send = axios.post(BASE_URL + 'messages/send_message', form)\r\n        send.then(function (res) {\r\n          displayMessage(res.data.mensaje)\r\n        })\r\n        send.catch(function (err) {\r\n          console.log(err)\r\n        })\r\n\r\n      } else {\r\n        swal('Campos Requeridos', 'Por favor selecciones el tipo de mensaje y escriba su mensaje')\r\n      }\r\n    },\r\n\r\n    initSelect2: function () {\r\n      var self = this\r\n      var options = {\r\n        dropdownParent: $('#send-message-modal')\r\n      }\r\n\r\n      var selectMessageType = $('#message-type')\r\n      selectMessageType.select2(options)\r\n      var selectClientsForMessage = $('#clients-for-message').select2({\r\n        dropdownParent: $('#send-message-modal'),\r\n        ajax: {\r\n          url: BASE_URL + 'messages/search_clients',\r\n          dataType: 'json',\r\n          delay: 250,\r\n          data: function (params) {\r\n            return {\r\n              q: params.term,\r\n              page: params.page\r\n            }\r\n          },\r\n\r\n          processResults: function (data, params) {\r\n            params.page = params.page || 1\r\n            return {\r\n              results: data.items,\r\n              pagination: {\r\n                more: (params.page * 30) < data.total_count\r\n              }\r\n            }\r\n          },\r\n          cache: true\r\n        }\r\n      })\r\n\r\n      var selects = {\r\n        clients: selectClientsForMessage,\r\n        messageType: selectMessageType\r\n      }\r\n      this.selec2Liteners(selects)\r\n    },\r\n\r\n    selec2Liteners: function (selects) {\r\n      var self = this\r\n      selects.messageType.on('select2:select', function (e) {\r\n        var select = e.params.data.element\r\n        var attributes = select.attributes\r\n        var tipo = e.params.data.id\r\n        self.message_data.tipo = tipo\r\n\r\n        if (tipo == 'otros') {\r\n          self.hide_clients = true\r\n          self.hide_numbers = false\r\n        } else if (tipo == 'personalizado') {\r\n          self.hide_numbers = true\r\n          self.hide_clients = false\r\n        } else {\r\n          self.hide_clients = true\r\n          self.hide_numbers = true\r\n        }\r\n      })\r\n\r\n      selects.messageType.select2('val','mora');\r\n\r\n      selects.clients.on('select2:select', function (e) {\r\n        var clientes = selects.clients.select2('data')\r\n        var items = [];\r\n        for (var i = 0; i < clientes.length; i++) {\r\n          items.push({\r\n            'nombre_completo': clientes[i].text,\r\n            'celular': clientes[i].id\r\n          })\r\n        }\r\n        self.message_data.clientes = items\r\n      })\r\n    }\r\n  }\r\n})","var paymentsReport = new Vue({\r\n  el: '#recibos',\r\n  data: {\r\n   table: '',\r\n   tableHTML: '',\r\n   total: '',\r\n   between: {\r\n     first_date: '',\r\n     second_date: '',\r\n     text: ''\r\n   }\r\n  },\r\n  mounted: function () {\r\n    if (currentPage == 'notificaciones') {\r\n      this.getReport();\r\n    }\r\n  },\r\n  filters: {\r\n    currencyFormat: function(number){\r\n      return \"RD$ \"+ CurrencyFormat(number);\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    getReport: function () {\r\n      var self = this;\r\n      var form = 'data=' + JSON.stringify(this.between)\r\n      axios.post(BASE_URL + 'payment/get_receipts/', form)\r\n      .then(function (res) {\r\n        self.fillTable(res.data.content)\r\n        self.total = res.data.acum;\r\n      })\r\n    },\r\n\r\n    fillTable: function(content) {\r\n      var $table = $('#receipts-table')\r\n      $table.bootstrapTable('destroy');\r\n      $table.find('tbody').html(content);\r\n      $table.bootstrapTable();\r\n      $table.find('tbody').css({display:\"table-row-group\"});\r\n    }\r\n  }\r\n})","var RetirementReport = new Vue({\r\n  el: '#retiros',\r\n  data: {\r\n   table: '',\r\n   tableHTML: '',\r\n   between: {\r\n     first_date: '',\r\n     second_date: ''\r\n   }\r\n  },\r\n  mounted: function () {\r\n    if (currentPage == 'notificaciones') {\r\n      this.getReport();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    getReport: function () {\r\n      var self = this;\r\n      var form = 'data=' + JSON.stringify(this.between)\r\n      axios.post(BASE_URL + 'contract/getCancelations/', form)\r\n      .then(function (res) {\r\n        self.fillTable(res.data.content)\r\n      })\r\n    },\r\n\r\n    fillTable: function(content) {\r\n      var $table = $('#cancelation-table')\r\n      $table.bootstrapTable('destroy');\r\n      $table.find('tbody').html(content);\r\n      $table.bootstrapTable();\r\n      $table.find('tbody').css({display:\"table-row-group\"});\r\n    }\r\n  }\r\n})","  var ticketListView = new Vue({\r\n    el: '#averias-list-view',\r\n    data: {\r\n      dataSearch: {\r\n        text: '',\r\n        state: 'por reparar',\r\n      },\r\n      tickets: [],\r\n      hide: false\r\n    },\r\n\r\n    mounted: function () {\r\n      this.itemClickListener();\r\n      var self = this\r\n      busAveria.$on('tickets-listed', function () {\r\n        self.itemClickListener()\r\n      });\r\n    },\r\n\r\n    methods: {\r\n      search: function () {\r\n        var form = 'data=' + JSON.stringify(this.dataSearch);\r\n        var send = axios.post(BASE_URL + 'api/averias/search', form);\r\n\r\n        send.then(function (res) {\r\n          this.fillAveriasList(res.data);\r\n        })\r\n\r\n        send.catch(function () {\r\n          console.error(res.data.mensaje);\r\n        })\r\n\r\n      },\r\n\r\n      fillAveriasList: function ($content) {\r\n        $('#averia-item-list').html($content);\r\n        ticketListView.itemClickListener();\r\n      },\r\n\r\n      itemClickListener: function () {\r\n        $('#averias-list-view .averia-item').on('click', function () {\r\n          var id_averia = $(this).find('.code').text().trim();\r\n          ticketView.getTicket(id_averia);\r\n        })\r\n      }\r\n    }\r\n  });\r\n\r\n  var emptyTicket = {\r\n    \"id_averia\": \"\",\r\n    \"id_cliente\": \"\",\r\n    \"cliente\": \"\",\r\n    \"direccion\": \"\",\r\n    \"descripcion\": \"\",\r\n    \"celular\": \"\",\r\n    \"fecha\": \"\",\r\n    \"estado\": \"\",\r\n    \"fecha_reparacion\": \"\",\r\n    \"tecnico\": \"\",\r\n    \"codigo\": '',\r\n  }\r\n  \r\n  var ticketView = new Vue({\r\n    el: '#ticket-view',\r\n    \r\n    data: {\r\n      classes: {\r\n        hide: true\r\n      },\r\n      mode: {\r\n        newComment: false,\r\n        edit: false,\r\n      },\r\n      new_comment: '',\r\n      comments: [],\r\n      ticket: emptyTicket\r\n    },\r\n    created: function () {\r\n      $('#ticket-view').removeClass('invisible')\r\n    },\r\n\r\n    methods: {\r\n      getTicket: function (id_averia) {\r\n        var form = 'data=' + JSON.stringify({\r\n          id_averia: id_averia\r\n        })\r\n        var send = axios.post(BASE_URL + 'api/averias/get_averia', form);\r\n        \r\n        send.then(function (res) {\r\n          var data = res.data;\r\n          ticketView.classes.hide = false;\r\n          ticketListView.hide = true;\r\n          ticketView.ticket = data.ticket;\r\n          ticketView.comments = data.comments;\r\n        })\r\n      },\r\n\r\n      quit: function () {\r\n        this.ticket = emptyTicket;\r\n        this.comments = null;\r\n        this.classes.hide = true;\r\n        this.closeCommentMode();\r\n        ticketListView.hide = false;\r\n      },\r\n\r\n      print: function () {\r\n        print();\r\n      },\r\n\r\n      startComment: function () {\r\n        this.mode.newComment = true;\r\n      },\r\n\r\n      addComment: function () {\r\n        var form = getForm({id_averia: this.ticket.id_averia, descripcion: this.new_comment});\r\n        var send = axios.post(BASE_URL + 'api/averias/add_comment',form);\r\n        var self = this;\r\n        send.then( function (res) {\r\n          self.getComments();\r\n          self.closeCommentMode()\r\n          displayMessage(res.data.mensaje);\r\n        });\r\n      },\r\n\r\n      _deleteComment: function (e) {\r\n        var commentItem = e.target.parentNode.parentNode\r\n        var idComment = e.target.parentNode.attributes['data-id'].value\r\n        var self = this;\r\n        commentItem.classList.add('to-delete');\r\n\r\n        swal({\r\n          title: 'Está Seguro?',\r\n          text: \"Seguro de que eliminar este reporte?\",\r\n          type: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'Eliminar',\r\n          cancelButtonText: 'Cancelar'\r\n        })\r\n        .then(function(){\r\n          self.deleteComment(idComment);\r\n          commentItem.classList.remove('to-delete')\r\n        })\r\n        .catch(function () {\r\n          commentItem.classList.remove('to-delete')\r\n        })\r\n      },\r\n\r\n      deleteComment: function (idComment){\r\n        var self = this;\r\n        var form = getForm({ id_reporte: idComment});\r\n        var send = axios.post(BASE_URL + 'api/averias/delete_comment',form);\r\n\r\n        send.then( function (res) {\r\n          self.getComments();\r\n          displayMessage(res.data.mensaje);\r\n        });\r\n      },\r\n\r\n      editComment: function () {\r\n\r\n      },\r\n      \r\n      closeCommentMode: function () {\r\n        this.mode.newComment = false;\r\n        this.new_comment = '';\r\n      },\r\n\r\n      getComments: function () {\r\n        var form = getForm({id_averia: this.ticket.id_averia});\r\n        var send = axios.post(BASE_URL + 'api/averias/get_comments',form);\r\n        var self = this\r\n        send.then( function (res) {\r\n          self.comments = res.data.comments;\r\n        });\r\n      },\r\n\r\n      updateDescription: function () {\r\n        this.updateTicket(['id_averia','descripcion','tecnico','estado','fecha_reparacion']);\r\n      },\r\n\r\n      updateState: function () {\r\n        if (this.ticket.estado == 'por reparar') {\r\n          this.ticket.fecha_reparacion = ''\r\n        } else {\r\n          this.ticket.fecha_reparacion = moment().format('YYYY-MM-DD');\r\n        }\r\n      },\r\n\r\n      updateTicket: function (fields) {\r\n        this.closeEditMode();\r\n        var form = getForm(this.getFields(fields));\r\n        var send = axios.post(BASE_URL + 'api/averias/update_averia',form);\r\n\r\n        send.then( function (res) {\r\n          ticketListView.search();\r\n          displayMessage(res.data.mensaje)\r\n        })\r\n      },\r\n\r\n      deleteTicket: function () {\r\n        console.info('deleted');\r\n      },\r\n\r\n      closeEditMode: function () {\r\n        this.mode.edit = false;\r\n      },\r\n\r\n      enterEditMode: function () {\r\n        this.mode.edit = true;\r\n      },\r\n\r\n      getFields: function (fields) {\r\n        var selectedFields = {};\r\n        var self = this;\r\n        fields.forEach(function(field) {\r\n          selectedFields[field] = self.ticket[field]\r\n        }, this);\r\n\r\n        return selectedFields;\r\n      }\r\n\r\n    }\r\n  })\r\n\r\n  function getForm(object){\r\n    return \"data=\" + JSON.stringify(object);\r\n  }\r\n"]}