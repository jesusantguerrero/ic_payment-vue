{"version":3,"sources":["A-Lib.js","Acount.js","closeReport.js","ExpensesReport.js","extras.js","ExtraSection.js","Payments.js","ReportesGraficos.js","Retirements.js","Tickets.js"],"names":["isCurrentPage","pageName","getCurrentPage","currentPage","$","text","split","toLowerCase","trim","fillBSTable","tableId","content","$table","bootstrapTable","find","html","addClass","css","display","filterBSTable","state","estado","Vue","el","data","user","user_id","nickname","name","lastname","dni","type","email","isChangePassword","currentPassword","newPassword","passwordConfirm","states","has-error","has-success","button","mounted","this","getUser","methods","self","val","form","JSON","stringify","axios","post","BASE_URL","then","res","updateInfo","changePassword","changeEmail","current_password","new_password","displayMessage","message","window","location","swal","title","input","password","field","value","confirmPasswordServer","Promise","resolve","reject","is_correct","confirmPassword","checkPassword","setStates","success","error","table","tableHTML","hasTotals","totals","between","first_date","second_date","getReport","filters","currencyFormat","number","CurrencyFormat","fillTable","acum","total","listExtras","reciboReset","id_pago","id_contrato","id_servicio","id_empleado","fecha_pago","concepto","detalles_extra","cuota","mora","monto_extra","fecha_limite","complete_date","descuento","razon_descuento","deuda","abono_a","tipo","generado","appPagoExtra","recibo","visible","pagado","extra","controls","id_extra","checkbox","fecha","ultimo_pago","monto_pagado","monto_total","firstControls","hide","computed","url_recibo","hide_recibo","isPagado","goBack","extraTable","parents","removeClass","refresh","generatePayment","send","mensaje","selectExtraPayment","pagos","change","catch","MESSAGE_INFO","getPayment","applyPayment","sender","editPayment","endpoint","preparedData","prepareData","info","extras","getPayments","console","log","deletePayment","bus","$on","row","on","search","totales","pendiente","total_vendido","getData","filter","e","filterValue","cajaWeekChart","canvas","chartOptions","labels","datasets","label","values","backgroundColor","colors","lightBlue6","blue7","chartColors","blue","green","blueGreen","red","options","responsive","maintainAspectRatio","scales","yAxes","ticks","callback","index","xAxes","replace","tooltips","callbacks","tooltipItem","yLabel","autor","Chart","yearChart","gastos","ganancias","$canvas","meses","borderColor","fill","get","response","appVistaDetalle","cierre","year","moment","format","fetchReportData","orange","yellow","purple","grey","red3","deepOrange4","banco","dinero_real_en_caja","pago_de_facturas","pagos_de_extras","pagos_en_efectivo","pagos_via_banco","total_de_ingresos","total_descuadre","print","_print","apply","arguments","toString","getForm","object","ticketListView","dataSearch","tickets","itemClickListener","busAveria","fillAveriasList","$content","id_averia","ticketView","getTicket","emptyTicket","id_cliente","cliente","direccion","descripcion","celular","fecha_reparacion","tecnico","codigo","classes","mode","newComment","edit","new_comment","comments","ticket","created","quit","closeCommentMode","startComment","addComment","getComments","_deleteComment","commentItem","target","parentNode","idComment","attributes","classList","add","showCancelButton","confirmButtonText","cancelButtonText","deleteComment","remove","id_reporte","editComment","updateDescription","updateTicket","updateState","fields","closeEditMode","getFields","deleteTicket","enterEditMode","selectedFields","forEach"],"mappings":"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","file":"components.js","sourcesContent":["function isCurrentPage(pageName){\r\n  if(getCurrentPage() == pageName){\r\n    return true\r\n  }  \r\n  return false;\r\n}\r\n\r\nfunction getCurrentPage(){\r\n  var currentPage = $(\"title\").text().split(\" \");\r\n  currentPage = currentPage[4].toLowerCase().trim();\r\n  return currentPage;\r\n}\r\n\r\nfunction fillBSTable(tableId, content) {\r\n  var $table = $(tableId);\r\n  $table.bootstrapTable('destroy');\r\n  $table.find('tbody').html(content);\r\n  $table.bootstrapTable();\r\n  $('.pull-right.search').addClass('hide')\r\n  $table.find('tbody').css({display:\"table-row-group\"});\r\n  $table.addClass('innertable');\r\n\r\n}\r\n\r\nfunction filterBSTable(tableId, state) {\r\n  $(tableId).bootstrapTable('filterBy',{\r\n    estado: state\r\n  });\r\n}"," if (isCurrentPage(\"cuenta\")) {\r\n   (function () {\r\n     var acountView = new Vue({\r\n       el: '#acount-section',\r\n       data: {\r\n         user: {\r\n           user_id: '',\r\n           nickname: '',\r\n           name: '',\r\n           lastname: '',\r\n           dni: '',\r\n           type: '',\r\n           email: ''\r\n         },\r\n         isChangePassword: false,\r\n         currentPassword: '',\r\n         newPassword: '',\r\n         passwordConfirm: '',\r\n         states: {\r\n           'has-error': false,\r\n           'has-success': false,\r\n           button: true,\r\n         }\r\n\r\n       },\r\n\r\n       mounted: function () {\r\n         if (currentPage == 'cuenta') {\r\n           this.getUser();\r\n         }\r\n       },\r\n\r\n       methods: {\r\n         getUser: function () {\r\n           var self = this;\r\n           var user_id = $('#acount-user-id').val();\r\n           var form = 'data=' + JSON.stringify({\r\n             user_id: user_id\r\n           });\r\n\r\n           axios.post(BASE_URL + 'user/get_user', form)\r\n             .then(function (res) {\r\n               var user = res.data.user;\r\n               user['fullname'] = user.name + ' ' + user.lastname;\r\n               self.user = user;\r\n             })\r\n         },\r\n\r\n         updateInfo: function () {\r\n           if (this.isChangePassword) {\r\n             this.changePassword()\r\n           } else {\r\n             this.changeEmail()\r\n           }\r\n         },\r\n\r\n         changePassword: function () {\r\n           if (this.states['has-success']) {\r\n             var form = 'data=' + JSON.stringify({\r\n               user_id: this.user.user_id,\r\n               current_password: this.currentPassword,\r\n               new_password: this.newPassword\r\n             });\r\n\r\n             axios.post(BASE_URL + 'user/update_password', form)\r\n               .then(function (res) {\r\n                 displayMessage(res.data.message);\r\n                 window.location = BASE_URL + 'app/logut';\r\n               })\r\n           } else {\r\n             displayMessage(\"Las contraseñas no conciden\")\r\n           }\r\n         },\r\n\r\n         changeEmail: function () {\r\n           var self = this\r\n           var user = this.user\r\n\r\n           swal({\r\n               'title': 'Contraseña',\r\n               'input': 'password',\r\n             })\r\n             .then(function (password) {\r\n               var form = 'data=' + JSON.stringify({\r\n                 'user_id': user.user_id,\r\n                 'password': password,\r\n                 'field': 'email',\r\n                 'value': user.email\r\n               });\r\n\r\n               axios.post(BASE_URL + 'user/update_field', form)\r\n                 .then(function (res) {\r\n                   displayMessage(res.data.message);\r\n                 })\r\n             })\r\n         },\r\n\r\n         confirmPasswordServer: function (password) {\r\n           var form = 'data=' + JSON.stringify({\r\n             user_id: this.user.user_id,\r\n             current_password: password\r\n           });\r\n\r\n           return new Promise(function (resolve, reject) {\r\n             axios.post(BASE_URL + 'user/confirm_password', form)\r\n               .then(function (res) {\r\n                 resolve(res.data.is_correct);\r\n               })\r\n           })\r\n         },\r\n\r\n         confirmPassword: function () {\r\n           var self = this;\r\n           this.confirmPasswordServer(this.currentPassword)\r\n             .then(function (is_correct) {\r\n               self.isChangePassword = is_correct\r\n             })\r\n         },\r\n\r\n         checkPassword: function () {\r\n           if ((this.newPassword == this.passwordConfirm) && this.changePassword) {\r\n             this.setStates(true, false);\r\n             this.states.button = true;\r\n           } else if (this.changePassword) {\r\n             this.setStates(false, true);\r\n             this.states.button = false;\r\n           } else {\r\n             this.setStates(false, false);\r\n           }\r\n         },\r\n\r\n         setStates: function (success, error) {\r\n           this.states['has-success'] = success;\r\n           this.states['has-error'] = error;\r\n         },\r\n       },\r\n\r\n     })\r\n   })()\r\n }","if (isCurrentPage(\"informes\")) {\n  (function(){\n    var closeReport = new Vue({\n      el: '#cierres',\n      data: {\n       table: '',\n       tableHTML: '',\n       hasTotals: false,\n       totals: false,\n       between: {\n         first_date: '',\n         second_date: '',\n         text: ''\n       }\n      },\n\n      mounted: function () {\n        if (currentPage == 'informes') {\n          this.getReport();\n        }\n      },\n\n      filters: {\n        currencyFormat: function(number){\n          return \"RD$ \"+ CurrencyFormat(number);\n        },\n      },\n\n      methods: {\n        getReport: function () {\n          var self = this;\n          var form = 'data=' + JSON.stringify(this.between)\n          axios.post(BASE_URL + 'caja/get_cierres/true', form)\n          .then(function (res) {\n            self.fillTable(res.data.content);\n            self.hasTotals = true;\n            self.totals    = res.data.acum;\n          })\n        },\n\n        fillTable: function(content) {\n          fillBSTable('#cierres-table', content);\n        }\n      }\n    })\n  })()\n}\n","if (isCurrentPage(\"informes\")) {\r\n  (function(){\r\n    var expensesReport = new Vue({\r\n      el: '#gastos',\r\n      data: {\r\n       table: '',\r\n       tableHTML: '',\r\n       total: '',\r\n       between: {\r\n         first_date: '',\r\n         second_date: '',\r\n         text: ''\r\n       }\r\n      },\r\n    \r\n      mounted: function () {\r\n        if (currentPage == 'informes') {\r\n          this.getReport();\r\n        }\r\n      },\r\n    \r\n      filters: {\r\n        currencyFormat: function(number){\r\n          return \"RD$ \"+ CurrencyFormat(number);\r\n        },\r\n      },\r\n    \r\n      methods: {\r\n        getReport: function () {\r\n          var self = this;\r\n          var form = 'data=' + JSON.stringify(this.between)\r\n          axios.post(BASE_URL + 'caja/get_gastos/true', form)\r\n          .then(function (res) {\r\n            self.fillTable(res.data.content)\r\n            self.total = res.data.acum;\r\n          })\r\n        },\r\n    \r\n        fillTable: function(content) {\r\n          fillBSTable('#gastos-table', content);\r\n        }\r\n      }\r\n    })\r\n  })()\r\n}\r\n","if (isCurrentPage(\"detalles\")) {\r\n  (function(){\r\n    var listExtras = '';\r\n    var reciboReset = {\r\n      id_pago: 0,\r\n      id_contrato: 0,\r\n      id_servicio: 0,\r\n      id_empleado: 0,\r\n      fecha_pago : '',\r\n      concepto : 'extra',\r\n      detalles_extra : '',\r\n      cuota: '',\r\n      mora : '',\r\n      monto_extra: '',\r\n      total: '',\r\n      estado: '',\r\n      fecha_limite: '',\r\n      complete_date : '',\r\n      descuento: '',\r\n      razon_descuento: '',\r\n      deuda: '',\r\n      abono_a: '',\r\n      tipo: '',\r\n      generado: ''\r\n    }\r\n    \r\n    var appPagoExtra = new Vue({\r\n      el: \"#app-pago-extra\",\r\n      data: {\r\n        recibo:{\r\n           id_pago: 0,\r\n           id_contrato: 0,\r\n           id_servicio: 0,\r\n           id_empleado: 0,\r\n           fecha_pago : 'dd/mm/yyyy',\r\n           concepto : 'extra',\r\n           detalles_extra : '',\r\n           cuota: '',\r\n           mora : '',\r\n           monto_extra: '',\r\n           total: '',\r\n           estado: '',\r\n           fecha_limite: '',\r\n           complete_date : '',\r\n           descuento: '',\r\n           razon_descuento: '',\r\n           deuda: '',\r\n           abono_a: '',\r\n           tipo: '',\r\n           generado: ''\r\n        },\r\n    \r\n        visible: false,\r\n        pagado: false,\r\n        extra:{\r\n          \"controls\": '',\r\n          \"id_extra\": '',\r\n          \"id_servicio\": '',\r\n          \"checkbox\": '',\r\n          \"fecha\": '',\r\n          \"concepto\": '',\r\n          \"ultimo_pago\": '',\r\n          \"monto_pagado\": '',\r\n          \"monto_total\": '',\r\n          \"estado\": ''\r\n        },\r\n        firstControls: {\r\n          hide: false\r\n        },\r\n      },\r\n      filters: {\r\n    \r\n      },\r\n      computed: {\r\n        url_recibo: function () {\r\n          return BASE_URL + 'process/getrecibo/' + this.recibo.id_pago;\r\n        },\r\n    \r\n        hide_recibo: function () {\r\n          if(this.recibo.estado == \"pagado\"){\r\n            return false\r\n          }\r\n           return this.hide_recibo = true; \r\n        },\r\n    \r\n        isPagado: function () {\r\n          this.pagado = (this.recibo.estado == 'pagado');\r\n          return this.pagado;\r\n        }\r\n      },\r\n    \r\n      methods:{\r\n    \r\n        goBack: function () {\r\n          extraTable.el.parents(\".bootstrap-table\").removeClass(\"hide\");\r\n          this.visible = false\r\n          this.extra = {concepto: ''}\r\n          extraTable.refresh(listExtras);\r\n        },\r\n    \r\n        generatePayment: function () {\r\n          if (this.pagado || this.recibo.id_pago == 0) {\r\n            var form = 'data=' + JSON.stringify(this.extra);\r\n            var send = axios.post( BASE_URL + 'extra/generate_extra_payment',form);\r\n            send.then(function(res){\r\n              var data = res.data;\r\n              displayMessage(data.mensaje);\r\n              selectExtraPayment.html(data.pagos).change();\r\n            });\r\n            send.catch(function(){\r\n              \r\n            })\r\n          } else {\r\n            displayMessage( MESSAGE_INFO + ' Debe realizar este pago antes de crear uno nuevo');\r\n          }\r\n        },\r\n    \r\n        getPayment: function (id_pago) {\r\n          var form = \"data=\" + JSON.stringify({id_pago: id_pago});\r\n          var self = this\r\n          var send = axios.post( BASE_URL + 'extra/get_payment',form);\r\n          send.then(function(res){\r\n            var data = res.data \r\n            if(data.recibo){\r\n              self.recibo = data.recibo\r\n            }\r\n          })\r\n        },\r\n    \r\n        applyPayment: function () {\r\n          if (this.recibo.id_pago != 0) {\r\n            this.sender('extra/apply_payment');\r\n          } else {\r\n            displayMessage( MESSAGE_INFO + ' Debe generar un pago primero');\r\n          }\r\n        },\r\n    \r\n        editPayment: function () {\r\n          this.sender('extra/edit_payment');\r\n        },\r\n    \r\n        sender: function(endpoint) {\r\n          var self = this;\r\n          var preparedData = this.prepareData()\r\n          var info = preparedData.info;\r\n          var data = preparedData.data;\r\n    \r\n          var form = 'data='+ JSON.stringify(data) + '&info='+ JSON.stringify(info)\r\n          var send = axios.post(BASE_URL + endpoint,form)\r\n    \r\n          send.then(function (res) {\r\n            var data = res.data\r\n            if (data.extras) {\r\n              listExtras = data.extras;\r\n            }\r\n\r\n            if (data.mensaje){\r\n              displayMessage(data.mensaje);\r\n            }\r\n\r\n            self.getPayments(self.extra.id_extra);\r\n          })\r\n          \r\n          send.catch(function(error){\r\n            console.log(error);\r\n          })\r\n        },\r\n    \r\n        prepareData: function (recibo) {\r\n          var recibo = this.recibo;\r\n          \r\n          var data = {\r\n            concepto: 'extra -', \r\n            detalles_extra: recibo.detalles_extra,\r\n            fecha_pago: recibo.fecha_pago,\r\n            cuota: recibo.cuota,\r\n            total: recibo.cuota,\r\n            estado: 'pagado',\r\n            tipo: recibo.tipo,\r\n            generado: true\r\n          };\r\n          \r\n          var info = {\r\n            id_extra: recibo.id_extra,\r\n            id_pago: recibo.id_pago\r\n          };\r\n        \r\n          return {data: data, info: info};\r\n        },\r\n        \r\n        getPayments: function (id_extra) {\r\n          var self = this;\r\n          var form = \"data=\"+ JSON.stringify({id_extra: id_extra})\r\n          var send = axios.post(BASE_URL + 'extra/get_extra_payment_of', form)\r\n          send.then(function(res){\r\n            var data = res.data;\r\n    \r\n            if(!data.pagos){\r\n              self.recibo = reciboReset\r\n            }\r\n    \r\n            selectExtraPayment.html(data.pagos).change()\r\n    \r\n          })\r\n        },\r\n    \r\n        deletePayment: function () {\r\n          var self = this;\r\n          var recibo = this.recibo\r\n          var data = {\r\n            'id_extra': recibo.id_extra,\r\n            'id_pago': recibo.id_pago\r\n          }\r\n    \r\n          var form = 'data='+ JSON.stringify(data)\r\n          var send = axios.post(BASE_URL + 'extra/delete_payment',form)\r\n    \r\n          send.then(function (res) {\r\n            var data = res.data\r\n            displayMessage(data.mensaje);\r\n            self.getPayments(self.extra.id_extra);\r\n          })\r\n          send.catch(function(error){\r\n            console.log(error);\r\n          })\r\n        }\r\n      }\r\n    });\r\n    \r\n    bus.$on('row-selected',function (row) {\r\n      extraTable.el.parents(\".bootstrap-table\").addClass(\"hide\");\r\n      appPagoExtra.visible = true\r\n      appPagoExtra.extra = row\r\n      listExtras = extraTable.el.find('tbody').html();\r\n      appPagoExtra.getPayments(row.id_extra);\r\n    })\r\n    \r\n    var selectExtraPayment = $(\"#select-extra-payment\");\r\n    selectExtraPayment.on('change',function(){\r\n      var id_pago = selectExtraPayment.val()\r\n      appPagoExtra.getPayment(id_pago)\r\n    })\r\n  })()\r\n}\r\n","if (isCurrentPage(\"extras\")) {\r\n  (function () {\r\n    var extraSection = new Vue({\r\n      el: '#extra-section',\r\n      data: {\r\n        content: '',\r\n        search: {\r\n          text: '',\r\n          state: 'activo'\r\n        },\r\n        totales: {\r\n          pagado: 0,\r\n          pendiente: 0,\r\n          total_vendido: 0\r\n        },\r\n        tableId: '#extra-table-full'\r\n      },\r\n      mounted: function () {\r\n        if (currentPage == 'extras') {\r\n          this.getData();\r\n        }\r\n      },\r\n\r\n      filters: {\r\n        currencyFormat: function (number) {\r\n          return \"RD$ \" + CurrencyFormat(number);\r\n        },\r\n      },\r\n\r\n      methods: {\r\n        filter: function (e) {\r\n          filterBSTable(this.tableId, this.filterValue);\r\n        },\r\n\r\n        getData: function () {\r\n          var self = this;\r\n          var form = 'data=' + JSON.stringify(this.search)\r\n          axios.post(BASE_URL + 'extra/get_all', form)\r\n            .then(function (res) {\r\n              self.fillTable(res.data.content);\r\n              self.totales = res.data.totales;\r\n            })\r\n        },\r\n\r\n        fillTable: function (content) {\r\n          fillBSTable('#extra-table-full', content)\r\n        }\r\n      }\r\n    });\r\n\r\n  })()\r\n}","if (isCurrentPage(\"notificaciones\")) {\r\n  (function(){\r\n    var paymentsReport = new Vue({\r\n      el: '#recibos',\r\n      data: {\r\n       table: '',\r\n       tableHTML: '',\r\n       total: '',\r\n       between: {\r\n         first_date: '',\r\n         second_date: '',\r\n         text: ''\r\n       }\r\n      },\r\n      mounted: function () {\r\n        if (currentPage == 'notificaciones') {\r\n          this.getReport();\r\n        }\r\n      },\r\n      filters: {\r\n        currencyFormat: function(number){\r\n          return \"RD$ \"+ CurrencyFormat(number);\r\n        },\r\n      },\r\n    \r\n      methods: {\r\n        getReport: function () {\r\n          var self = this;\r\n          var form = 'data=' + JSON.stringify(this.between)\r\n          axios.post(BASE_URL + 'payment/get_receipts/', form)\r\n          .then(function (res) {\r\n            self.fillTable(res.data.content)\r\n            self.total = res.data.acum;\r\n          })\r\n        },\r\n    \r\n        fillTable: function(content) {\r\n          var $table = $('#receipts-table')\r\n          $table.bootstrapTable('destroy');\r\n          $table.find('tbody').html(content);\r\n          $table.bootstrapTable();\r\n          $table.find('tbody').css({display:\"table-row-group\"});\r\n        }\r\n      }\r\n    })\r\n  })()\r\n}\r\n","if (isCurrentPage(\"reportes\")) {\r\n  (function(){\r\n    if (currentPage == 'reportes'){\r\n      fetchReportData();\r\n    }\r\n    function fetchReportData() {\r\n      var send = axios.get(BASE_URL + 'caja/get_last_cierre')\r\n      send.then(function (response) {\r\n        cajaWeekChart(response.data);\r\n        appVistaDetalle.cierre = response.data.cierre;\r\n      })\r\n      send.catch(function (error) {\r\n      \r\n      })\r\n      \r\n      var form = \"data=\"+ JSON.stringify({year:moment().format(\"YYYY\")})\r\n      var send2 = axios.post(BASE_URL + 'caja/get_year_info',form)\r\n      send2.then(function(res){\r\n        var gastos    = res.data.gastos;\r\n        var ganancias = res.data.ganancias;\r\n        yearChart(gastos,ganancias);\r\n      })\r\n    }\r\n    \r\n    \r\n    window.chartColors = {\r\n      red: 'rgb(255, 99, 132)',\r\n      orange: 'rgb(255, 159, 64)',\r\n      yellow: 'rgb(255, 205, 86)',\r\n      green: 'rgb(75, 192, 192)',\r\n      blue: 'rgb(54, 162, 235)',\r\n      purple: 'rgb(153, 102, 255)',\r\n      grey: 'rgb(201, 203, 207)'\r\n    };\r\n    var meses = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"];\r\n    \r\n    var colors = {\r\n      green: 'rgba(0,230,118 ,1)',\r\n      blueGreen: 'rgba(29,233,182 ,1)',\r\n      blue7: 'rgba(25,118,210 ,1)',\r\n      lightBlue6: 'rgba(3,155,229 ,1)',\r\n      red3: 'rgba(229,115,115 ,1)',\r\n      deepOrange4: 'rgba(255,112,67 ,1)'\r\n    }\r\n    \r\n    function cajaWeekChart(data) {\r\n      var canvas = $(\"#ganancias-chart\");\r\n      var chartOptions = {\r\n        type: 'bar',\r\n        data: {\r\n          labels: data.labels,\r\n          datasets: [{\r\n            label: \"Valores\",\r\n            data: data.values,\r\n            backgroundColor: [colors.lightBlue6, colors.lightBlue6, colors.blue7, window.chartColors.blue,window.chartColors.green, colors.blueGreen, window.chartColors.red,window.chartColors.red,  window.chartColors.blue],\r\n          }]\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          maintainAspectRatio: false,\r\n          scales: {\r\n            yAxes: [{\r\n              ticks: {\r\n                callback: function (label, index, labels) {\r\n                  if (label == '' || label == null) label = 0;\r\n                  return \"RD$ \" + CurrencyFormat(label);\r\n                }\r\n              }\r\n            }],\r\n            xAxes: [{\r\n              ticks: {\r\n                callback: function (label, index, labels) {\r\n                  return label.replace(/_/g, \" \");\r\n                }\r\n              }\r\n            }]\r\n          },\r\n          tooltips: {\r\n            callbacks: {\r\n              label: function (tooltipItem, data) {\r\n                return \"RD$ \" + CurrencyFormat(tooltipItem.yLabel);\r\n              }\r\n            }\r\n          },\r\n          title: {\r\n            display: true,\r\n            text: \"Datos del ultimo cierre. hecho por \" + data.autor + \" el dia \" + data.fecha\r\n          }\r\n        }\r\n      };\r\n      var mychart = new Chart(canvas, chartOptions);\r\n    }\r\n    \r\n    function yearChart(gastos,ganancias) {\r\n      var $canvas = $(\"#ganancias-mes-chart\");\r\n      var data = {\r\n          labels: meses,\r\n          datasets: [{\r\n            label: \"Gastos\",\r\n            backgroundColor: window.chartColors.red,\r\n            borderColor: window.chartColors.red,\r\n            data: gastos,\r\n            fill: false,\r\n          }, {\r\n            label: \"Banco(Ganancias)\",\r\n            fill: false,\r\n            backgroundColor: window.chartColors.blue,\r\n            borderColor: window.chartColors.blue,\r\n            data: ganancias,\r\n          }]\r\n        };\r\n    \r\n        var options = {\r\n          responsive: true,\r\n          maintainAspectRatio: false,\r\n          scales: {\r\n            yAxes: [{\r\n              ticks: {\r\n                callback: function (label, index, labels) {\r\n                  return \"RD$ \" + CurrencyFormat(label);\r\n                }\r\n              }\r\n            }]\r\n          },\r\n          tooltips: {\r\n            callbacks: {\r\n              label: function (tooltipItem, data) {\r\n                return \"RD$ \" + CurrencyFormat(tooltipItem.yLabel);\r\n              }\r\n            }\r\n          },\r\n          title: {\r\n            display: true,\r\n            text: \"Registros de cierre Este ultimo año\"\r\n          }\r\n        }\r\n    \r\n      var chart = new Chart($canvas, {\r\n        type: 'line',\r\n        data: data,\r\n        options: options\r\n      });\r\n    \r\n    }\r\n    \r\n    var cierre = { \r\n      autor: \"\",\r\n      banco: 0,\r\n      dinero_real_en_caja: 0,\r\n      fecha : '',\r\n      pago_de_facturas: 0,\r\n      pagos_de_extras: 0,\r\n      pagos_en_efectivo:0,\r\n      pagos_via_banco:0,\r\n      total_de_ingresos: 0,\r\n      total_descuadre:0 }\r\n    \r\n    var appVistaDetalle = new Vue({\r\n      el: '#app-vista-detalle',\r\n      data: {\r\n        cierre: cierre,\r\n      },\r\n    \r\n      filters: {\r\n        currencyFormat: function(number){\r\n          return \"RD$ \"+ CurrencyFormat(number);\r\n        }\r\n      },\r\n      methods:{\r\n        print: function(){\r\n          print()\r\n        }\r\n      }\r\n    })\r\n  })()\r\n}\r\n","if (isCurrentPage(\"notificaciones\")) {\r\n  (function () {\r\n    var RetirementReport = new Vue({\r\n      el: '#retiros',\r\n      data: {\r\n        table: '',\r\n        tableHTML: '',\r\n        between: {\r\n          first_date: '',\r\n          second_date: ''\r\n        }\r\n      },\r\n      mounted: function () {\r\n        if (currentPage == 'notificaciones') {\r\n          this.getReport();\r\n        }\r\n      },\r\n\r\n      methods: {\r\n        getReport: function () {\r\n          var self = this;\r\n          var form = 'data=' + JSON.stringify(this.between)\r\n          axios.post(BASE_URL + 'contract/getCancelations/', form)\r\n            .then(function (res) {\r\n              self.fillTable(res.data.content)\r\n            })\r\n        },\r\n\r\n        fillTable: function (content) {\r\n          var $table = $('#cancelation-table')\r\n          $table.bootstrapTable('destroy');\r\n          $table.find('tbody').html(content);\r\n          $table.bootstrapTable();\r\n          $table.find('tbody').css({\r\n            display: \"table-row-group\"\r\n          });\r\n        }\r\n      }\r\n    })\r\n  })()\r\n}","if (isCurrentPage(\"notificaciones\")) {\r\n  (function () {\r\n    var ticketListView = new Vue({\r\n      el: '#averias-list-view',\r\n      data: {\r\n        dataSearch: {\r\n          text: '',\r\n          state: 'por reparar',\r\n        },\r\n        tickets: [],\r\n        hide: false\r\n      },\r\n\r\n      mounted: function () {\r\n        this.itemClickListener();\r\n        var self = this\r\n        busAveria.$on('tickets-listed', function () {\r\n          self.itemClickListener()\r\n        });\r\n      },\r\n\r\n      methods: {\r\n        search: function () {\r\n          var self = this;\r\n          var form = 'data=' + JSON.stringify(this.dataSearch);\r\n          var send = axios.post(BASE_URL + 'api/averias/search', form);\r\n\r\n          send.then(function (res) {\r\n            self.fillAveriasList(res.data);\r\n          })\r\n\r\n          send.catch(function () {\r\n            console.error(res.data.mensaje);\r\n          })\r\n\r\n        },\r\n\r\n        fillAveriasList: function ($content) {\r\n          $('#averias-list').html($content);\r\n          ticketListView.itemClickListener();\r\n        },\r\n\r\n        itemClickListener: function () {\r\n          $('#averias-list-view .averia-item').on('click', function () {\r\n            var id_averia = $(this).find('.code').text().trim();\r\n            ticketView.getTicket(id_averia);\r\n          })\r\n        }\r\n      }\r\n    });\r\n\r\n    var emptyTicket = {\r\n      \"id_averia\": \"\",\r\n      \"id_cliente\": \"\",\r\n      \"cliente\": \"\",\r\n      \"direccion\": \"\",\r\n      \"descripcion\": \"\",\r\n      \"celular\": \"\",\r\n      \"fecha\": \"\",\r\n      \"estado\": \"\",\r\n      \"fecha_reparacion\": \"\",\r\n      \"tecnico\": \"\",\r\n      \"codigo\": '',\r\n    }\r\n\r\n    var ticketView = new Vue({\r\n      el: '#ticket-view',\r\n\r\n      data: {\r\n        classes: {\r\n          hide: true\r\n        },\r\n        mode: {\r\n          newComment: false,\r\n          edit: false,\r\n        },\r\n        new_comment: '',\r\n        comments: [],\r\n        ticket: emptyTicket\r\n      },\r\n      created: function () {\r\n        $('#ticket-view').removeClass('invisible')\r\n      },\r\n\r\n      methods: {\r\n        getTicket: function (id_averia) {\r\n          var form = 'data=' + JSON.stringify({\r\n            id_averia: id_averia\r\n          })\r\n          var send = axios.post(BASE_URL + 'api/averias/get_averia', form);\r\n\r\n          send.then(function (res) {\r\n            var data = res.data;\r\n            ticketView.classes.hide = false;\r\n            ticketListView.hide = true;\r\n            ticketView.ticket = data.ticket;\r\n            ticketView.comments = data.comments;\r\n          })\r\n        },\r\n\r\n        quit: function () {\r\n          this.ticket = emptyTicket;\r\n          this.comments = null;\r\n          this.classes.hide = true;\r\n          this.closeCommentMode();\r\n          ticketListView.hide = false;\r\n        },\r\n\r\n        print: function () {\r\n          print();\r\n        },\r\n\r\n        startComment: function () {\r\n          this.mode.newComment = true;\r\n        },\r\n\r\n        addComment: function () {\r\n          var form = getForm({\r\n            id_averia: this.ticket.id_averia,\r\n            descripcion: this.new_comment\r\n          });\r\n          var send = axios.post(BASE_URL + 'api/averias/add_comment', form);\r\n          var self = this;\r\n          send.then(function (res) {\r\n            self.getComments();\r\n            self.closeCommentMode()\r\n            displayMessage(res.data.mensaje);\r\n          });\r\n        },\r\n\r\n        _deleteComment: function (e) {\r\n          var commentItem = e.target.parentNode.parentNode\r\n          var idComment = e.target.parentNode.attributes['data-id'].value\r\n          var self = this;\r\n          commentItem.classList.add('to-delete');\r\n\r\n          swal({\r\n              title: 'Está Seguro?',\r\n              text: \"Seguro de que eliminar este reporte?\",\r\n              type: 'warning',\r\n              showCancelButton: true,\r\n              confirmButtonText: 'Eliminar',\r\n              cancelButtonText: 'Cancelar'\r\n            })\r\n            .then(function () {\r\n              self.deleteComment(idComment);\r\n              commentItem.classList.remove('to-delete')\r\n            })\r\n            .catch(function () {\r\n              commentItem.classList.remove('to-delete')\r\n            })\r\n        },\r\n\r\n        deleteComment: function (idComment) {\r\n          var self = this;\r\n          var form = getForm({\r\n            id_reporte: idComment\r\n          });\r\n          var send = axios.post(BASE_URL + 'api/averias/delete_comment', form);\r\n\r\n          send.then(function (res) {\r\n            self.getComments();\r\n            displayMessage(res.data.mensaje);\r\n          });\r\n        },\r\n\r\n        editComment: function () {\r\n\r\n        },\r\n\r\n        closeCommentMode: function () {\r\n          this.mode.newComment = false;\r\n          this.new_comment = '';\r\n        },\r\n\r\n        getComments: function () {\r\n          var form = getForm({\r\n            id_averia: this.ticket.id_averia\r\n          });\r\n          var send = axios.post(BASE_URL + 'api/averias/get_comments', form);\r\n          var self = this\r\n          send.then(function (res) {\r\n            self.comments = res.data.comments;\r\n          });\r\n        },\r\n\r\n        updateDescription: function () {\r\n          this.updateTicket(['id_averia', 'descripcion', 'tecnico', 'estado', 'fecha_reparacion']);\r\n        },\r\n\r\n        updateState: function () {\r\n          if (this.ticket.estado == 'por reparar') {\r\n            this.ticket.fecha_reparacion = ''\r\n          } else {\r\n            this.ticket.fecha_reparacion = moment().format('YYYY-MM-DD');\r\n          }\r\n        },\r\n\r\n        updateTicket: function (fields) {\r\n          this.closeEditMode();\r\n          var form = getForm(this.getFields(fields));\r\n          var send = axios.post(BASE_URL + 'api/averias/update_averia', form);\r\n\r\n          send.then(function (res) {\r\n            ticketListView.search();\r\n            displayMessage(res.data.mensaje)\r\n          })\r\n        },\r\n\r\n        deleteTicket: function () {\r\n          console.info('deleted');\r\n        },\r\n\r\n        closeEditMode: function () {\r\n          this.mode.edit = false;\r\n        },\r\n\r\n        enterEditMode: function () {\r\n          this.mode.edit = true;\r\n        },\r\n\r\n        getFields: function (fields) {\r\n          var selectedFields = {};\r\n          var self = this;\r\n          fields.forEach(function (field) {\r\n            selectedFields[field] = self.ticket[field]\r\n          }, this);\r\n\r\n          return selectedFields;\r\n        }\r\n\r\n      }\r\n    })\r\n\r\n    function getForm(object) {\r\n      return \"data=\" + JSON.stringify(object);\r\n    }\r\n  })()\r\n}"]}