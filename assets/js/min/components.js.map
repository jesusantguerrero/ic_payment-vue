{"version":3,"sources":["A-Lib.js","Acount.js","cierreCaja.js","closeReport.js","ExpensesReport.js","extras.js","ExtraSection.js","Payments.js","ReportesGraficos.js","Retirements.js","Tickets.js"],"names":["isCurrentPage","pageName","getCurrentPage","currentPage","$","text","split","toLowerCase","trim","fillBSTable","tableId","content","$table","bootstrapTable","find","html","addClass","css","display","filterBSTable","state","estado","Vue","el","data","user","user_id","nickname","name","lastname","dni","type","email","isChangePassword","currentPassword","newPassword","passwordConfirm","states","has-error","has-success","button","mounted","this","getUser","methods","self","val","form","JSON","stringify","axios","post","BASE_URL","then","res","updateInfo","changePassword","changeEmail","current_password","new_password","displayMessage","message","window","location","swal","title","input","password","field","value","confirmPasswordServer","Promise","resolve","reject","is_correct","confirmPassword","checkPassword","setStates","success","error","sumar","valores","suma","i","length","parseFloat","now","moment","format","totales","total1","total5","total10","total20","total25","total50","total100","total200","total500","total1000","total2000","gasto","fecha","descripcion","monto","gastos","id_gasto","autor","appCierre","isHide","data_cierre","pagos_facturas","pagos_extras","pagos_efectivo","pagos_banco","total_ingresos","efectivo_caja","total_descuadre","total_gastos","banco","conteo","getGastos","setIngresos","created","visibility","filters","currencyFormat","number","CurrencyFormat","changeTotal","e","unit","srcElement","attributes","cantidad","addGasto","send","response","mensaje","fillGastos","setGastoTotal","catch","console","log","gastos_servidor","mode","push","parse","totalGastos","getGasto","connectAndSend","deleteGasto","caller","target","localname","parentElement","id","showCancelButton","confirmButtonText","cancelButtonText","cerrarCaja","cierre","cerrar","appSummaryView","computed","getTotal","t","toFixed","decimals","forEach","back","link","foward","spanishDateFormat","date","locale","goBack","removeClass","print","_print","apply","arguments","toString","table","tableHTML","hasTotals","totals","between","first_date","second_date","getReport","fillTable","acum","total","listExtras","reciboReset","id_pago","id_contrato","id_servicio","id_empleado","fecha_pago","concepto","detalles_extra","cuota","mora","monto_extra","fecha_limite","complete_date","descuento","razon_descuento","deuda","abono_a","tipo","generado","appPagoExtra","recibo","visible","pagado","extra","controls","id_extra","checkbox","ultimo_pago","monto_pagado","monto_total","firstControls","hide","url_recibo","hide_recibo","isPagado","extraTable","parents","refresh","generatePayment","selectExtraPayment","pagos","change","MESSAGE_INFO","getPayment","applyPayment","sender","editPayment","endpoint","preparedData","prepareData","info","extras","getPayments","deletePayment","bus","$on","row","on","search","pendiente","total_vendido","getData","filter","filterValue","cajaWeekChart","canvas","chartOptions","labels","datasets","label","values","backgroundColor","colors","lightBlue6","blue7","chartColors","blue","green","blueGreen","red","options","responsive","maintainAspectRatio","scales","yAxes","ticks","callback","index","xAxes","replace","tooltips","callbacks","tooltipItem","yLabel","Chart","yearChart","ganancias","$canvas","meses","borderColor","fill","get","appVistaDetalle","year","fetchReportData","orange","yellow","purple","grey","red3","deepOrange4","dinero_real_en_caja","pago_de_facturas","pagos_de_extras","pagos_en_efectivo","pagos_via_banco","total_de_ingresos","getForm","object","ticketListView","dataSearch","tickets","itemClickListener","busAveria","fillAveriasList","$content","id_averia","ticketView","getTicket","emptyTicket","id_cliente","cliente","direccion","celular","fecha_reparacion","tecnico","codigo","classes","newComment","edit","new_comment","comments","ticket","quit","closeCommentMode","startComment","addComment","getComments","_deleteComment","commentItem","parentNode","idComment","classList","add","deleteComment","remove","id_reporte","editComment","updateDescription","updateTicket","updateState","fields","closeEditMode","getFields","deleteTicket","enterEditMode","selectedFields"],"mappings":"aAAA,SAASA,cAAcC,GACrB,OAAGC,kBAAoBD,EAMzB,SAASC,iBACP,IAAIC,EAAcC,EAAE,SAASC,OAAOC,MAAM,KAE1C,OADAH,EAAcA,EAAY,GAAGI,cAAcC,OAI7C,SAASC,YAAYC,EAASC,GAC5B,IAAIC,EAASR,EAAEM,GACfE,EAAOC,eAAe,WACtBD,EAAOE,KAAK,SAASC,KAAKJ,GAC1BC,EAAOC,iBACPT,EAAE,sBAAsBY,SAAS,QACjCJ,EAAOE,KAAK,SAASG,KAAKC,QAAQ,oBAClCN,EAAOI,SAAS,cAIlB,SAASG,cAAcT,EAASU,GAC9BhB,EAAEM,GAASG,eAAe,YACxBQ,OAAQD,IC1BPpB,cAAc,WAEG,IAAIsB,KACnBC,GAAI,kBACJC,MACEC,MACEC,QAAS,GACTC,SAAU,GACVC,KAAM,GACNC,SAAU,GACVC,IAAK,GACLC,KAAM,GACNC,MAAO,IAETC,kBAAkB,EAClBC,gBAAiB,GACjBC,YAAa,GACbC,gBAAiB,GACjBC,QACEC,aAAa,EACbC,eAAe,EACfC,QAAQ,IAKZC,QAAS,WACY,UAAftC,aACFuC,KAAKC,WAITC,SACED,QAAS,WACP,IAAIE,EAAOH,KACPhB,EAAUtB,EAAE,mBAAmB0C,MAC/BC,EAAO,QAAUC,KAAKC,WACxBvB,QAASA,IAGXwB,MAAMC,KAAKC,SAAW,gBAAiBL,GACpCM,KAAK,SAAUC,GACd,IAAI7B,EAAO6B,EAAI9B,KAAKC,KACpBA,EAAA,SAAmBA,EAAKG,KAAO,IAAMH,EAAKI,SAC1CgB,EAAKpB,KAAOA,KAIlB8B,WAAY,WACNb,KAAKT,iBACPS,KAAKc,iBAELd,KAAKe,eAITD,eAAgB,WACd,GAAId,KAAKL,OAAO,eAAgB,CAC9B,IAAIU,EAAO,QAAUC,KAAKC,WACxBvB,QAASgB,KAAKjB,KAAKC,QACnBgC,iBAAkBhB,KAAKR,gBACvByB,aAAcjB,KAAKP,cAGrBe,MAAMC,KAAKC,SAAW,uBAAwBL,GAC3CM,KAAK,SAAUC,GACdM,eAAeN,EAAI9B,KAAKqC,SACxBC,OAAOC,SAAWX,SAAW,mBAGjCQ,eAAe,gCAInBH,YAAa,WACX,IACIhC,EAAOiB,KAAKjB,KAEhBuC,MACIC,MAAS,aACTC,MAAS,aAEVb,KAAK,SAAUc,GACd,IAAIpB,EAAO,QAAUC,KAAKC,WACxBvB,QAAWD,EAAKC,QAChByC,SAAYA,EACZC,MAAS,QACTC,MAAS5C,EAAKO,QAGhBkB,MAAMC,KAAKC,SAAW,oBAAqBL,GACxCM,KAAK,SAAUC,GACdM,eAAeN,EAAI9B,KAAKqC,cAKlCS,sBAAuB,SAAUH,GAC/B,IAAIpB,EAAO,QAAUC,KAAKC,WACxBvB,QAASgB,KAAKjB,KAAKC,QACnBgC,iBAAkBS,IAGpB,OAAO,IAAII,QAAQ,SAAUC,EAASC,GACpCvB,MAAMC,KAAKC,SAAW,wBAAyBL,GAC5CM,KAAK,SAAUC,GACdkB,EAAQlB,EAAI9B,KAAKkD,iBAKzBC,gBAAiB,WACf,IAAI9B,EAAOH,KACXA,KAAK4B,sBAAsB5B,KAAKR,iBAC7BmB,KAAK,SAAUqB,GACd7B,EAAKZ,iBAAmByC,KAI9BE,cAAe,WACRlC,KAAKP,aAAeO,KAAKN,iBAAoBM,KAAKc,gBACrDd,KAAKmC,WAAU,GAAM,GACrBnC,KAAKL,OAAOG,QAAS,GACZE,KAAKc,gBACdd,KAAKmC,WAAU,GAAO,GACtBnC,KAAKL,OAAOG,QAAS,GAErBE,KAAKmC,WAAU,GAAO,IAI1BA,UAAW,SAAUC,EAASC,GAC5BrC,KAAKL,OAAO,eAAiByC,EAC7BpC,KAAKL,OAAO,aAAe0C,MCrIlC/E,cAAc,WAChB,WAwPE,SAASgF,EAAMC,GAEb,IAAK,IADDC,EAAO,EACFC,EAAI,EAAGA,EAAIF,EAAQG,OAAQD,IAClCD,GAAQG,WAAWJ,EAAQE,IAE7B,OAAOD,EAGT,SAASI,IACP,OAAOC,SAASC,OAAO,cAhQzB,IAAIC,GACFC,OAAQ,EACRC,OAAQ,EACRC,QAAS,EACTC,QAAS,EACTC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,SAAU,EACVC,SAAU,EACVC,UAAW,EACXC,UAAW,GAGTC,GACFC,MAAS,GACTC,YAAe,GACfC,MAAS,IAGPC,IACFH,MAAOhB,IACPiB,YAAa,OACbC,MAAO,IACPE,SAAU,IAERC,EAAQvG,EAAE,iBAAiBC,OAAOG,OAElCoG,EAAY,IAAItF,KAClBC,GAAI,cACJC,MACEqF,QAAQ,EACRP,MAAOhB,IACPwB,aACEH,MAAOA,EACPI,eAAgB,EAChBC,aAAc,EACdC,eAAgB,EAChBC,YAAa,EACbC,eAAgB,EAChBC,cAAe,EACfC,gBAAiB,EACjBC,aAAc,EACdC,MAAO,GAETC,OAAQ/B,EACRP,KAAM,EACNmB,MAAOA,EACPI,OAAQA,GAGVhE,QAAS,WACPC,KAAK+E,YACL/E,KAAKgF,eAGPC,QAAS,WACPvH,EAAE,cAAca,KACd2G,WAAY,aAIhBC,SACEC,eAAgB,SAAUC,GACxB,OAAOC,eAAeD,KAI1BnF,SACEqF,YAAa,SAAUC,GACrB,IAAIC,EAAOD,EAAEE,WAAWC,WAAW,aAAahE,MAC5CiE,EAAWJ,EAAEE,WAAW/D,MAE5BoB,EAAQ,QAAU0C,GAAQG,EAAWH,EAAO,GAG9CI,SAAU,SAAUL,GAClB,IAAI7B,EAAQ3D,KAAK2D,MACjBA,EAAMC,MAAQhB,IACd,IAAIvC,EAAO,QAAUC,KAAKC,UAAUoD,GAChCmC,EAAOtF,MAAMC,KAAKC,SAAW,iBAAkBL,GACnDyF,EAAKnF,KAAK,SAAUoF,GAClB,IAAIjH,EAAOiH,EAASjH,KACpBoC,eAAepC,EAAKkH,SACpB9B,EAAU+B,WAAWnH,EAAKiF,OAAQ,UAClCG,EAAUgC,cAAcpH,EAAK8F,gBAE/BkB,EAAKK,MAAM,WACTC,QAAQC,IAAIhE,UAIhB4D,WAAY,SAAUK,EAAiBC,GACzB,SAARA,EACqB,MAAnBD,GAA2BA,EAAgB5D,OAAS,EACtDwB,EAAUH,OAASuC,EAEnBpC,EAAUH,UAGZG,EAAUH,OAAOyC,KAAKlG,KAAKmG,MAAMH,GAAiB,KAItDJ,cAAe,SAAUQ,GACvB1G,KAAKoE,YAAYQ,aAAe8B,GAGlCC,SAAU,SAAUnB,GAClB,IAAI7B,EAAQ3D,KAAK2D,MACbtD,EAAO,QAAUC,KAAKC,UAAUoD,GACpCiD,eAAe,kBAAkB,EAAO,KAAM1C,EAAU+B,WAAY5F,EAAM,KAAM,OAGlFwG,YAAa,SAAUrB,GACrB,IAAIsB,EAAStB,EAAEuB,OACS,KAApBD,EAAOE,YACTF,EAASA,EAAOG,eAElB,IAAIC,EAAKJ,EAAOnB,WAAW,WAAWhE,MACtCL,MACEC,MAAO,eACP5D,KAAM,4CACN0B,KAAM,UACN8H,kBAAkB,EAClBC,kBAAmB,gBACnBC,iBAAkB,aACjB1G,KAAK,WACN,IAAIN,EAAO,QAAUC,KAAKC,WACxB2G,GAAIA,EACJtD,MAAOhB,MAELkD,EAAOtF,MAAMC,KAAKC,SAAW,oBAAqBL,GACtDyF,EAAKnF,KAAK,SAAUoF,GAClB,IAAIjH,EAAOiH,EAASjH,KACpBoC,eAAepC,EAAKkH,SACpB9B,EAAU+B,WAAWnH,EAAKiF,OAAQ,SAClCG,EAAUgC,cAAcpH,EAAK8F,gBAE/BkB,EAAKK,MAAM,SAAU9D,SAMzB0C,UAAW,WACT,IAAIjG,GACF8E,MAAOhB,KAELvC,EAAO,QAAUC,KAAKC,UAAUzB,GAChCgH,EAAOtF,MAAMC,KAAKC,SAAW,kBAAmBL,GACpDyF,EAAKnF,KAAK,SAAUoF,GAClB,IAAIjH,EAAOiH,EAASjH,KACpBoC,eAAepC,EAAKkH,SACpB9B,EAAU+B,WAAWnH,EAAKiF,OAAQ,SAClCG,EAAUgC,cAAcpH,EAAK8F,gBAE/BkB,EAAKK,MAAM,WACTC,QAAQC,IAAIhE,UAIhB2C,YAAa,WACX,IAAI3E,EAAO,QAAUC,KAAKC,WACxBqD,MAAOhB,MAELzC,EAAOH,KAAKoE,YACZ0B,EAAOtF,MAAMC,KAAKC,SAAW,oBAAqBL,GACtDyF,EAAKnF,KAAK,SAAUoF,GAClB,IAAIjH,EAAOiH,EAASjH,KACpBqB,EAAKkE,eAAiBvF,EAAKuF,eAC3BlE,EAAKmE,aAAexF,EAAKwF,aACzBnE,EAAKoE,eAAiBzF,EAAKyF,eAC3BpE,EAAKqE,YAAc1F,EAAK0F,YACxBrE,EAAKsE,eAAiB9B,WAAW7D,EAAKuF,gBAAkB1B,WAAWxC,EAAKmE,cACxEnE,EAAKwE,iBAAmBxE,EAAKoE,eAAiBpE,EAAKuE,gBAErDoB,EAAKK,MAAM,WACTC,QAAQC,IAAIhE,UAIhBiF,WAAY,WACV,IAAInH,EAAOH,KACPuH,EAASvH,KAAKoE,YAClBhD,OAAOmG,OAASA,EACc,GAA1BA,EAAO5C,gBACTrD,MACEC,MAAO,eACP5D,KAAM,sEACN0B,KAAM,UACN8H,kBAAkB,EAClBC,kBAAmB,KACnBC,iBAAkB,OACjB1G,KAAK,WACNR,EAAKqH,OAAOD,KAGdpH,EAAKqH,OAAOD,IAIhBC,OAAQ,SAAUD,GAEhBA,EAAO3D,MAAQhB,IACf,IAAIvC,EAAO,QAAUC,KAAKC,UAAUgH,GAChCzB,EAAOtF,MAAMC,KAAKC,SAAW,kBAAmBL,GACpDyF,EAAKnF,KAAK,SAAUoF,GAClB,IAAIjH,EAAOiH,EAASjH,KACpBoC,eAAepC,EAAKkH,SACpB7F,KAAKgE,QAAS,EACdsD,EAAetD,QAAS,EACxBsD,EAAeF,OAASA,EACxB7J,EAAE,eAAeY,SAAS,QAC1BZ,EAAE,YAAYY,SAAS,QACvBZ,EAAE,eAAea,KACf2G,WAAY,cAIhBY,EAAKK,MAAM,WACTC,QAAQC,IAAIhE,WAKlBqF,UACEC,SAAU,SAAUnC,GAClB,IAAIoC,EAAI7E,EACJ5C,EAAOH,KAAKoE,YACZ5B,EAAOF,GAAOsF,EAAE5E,OAAQ4E,EAAE3E,OAAQ2E,EAAE1E,QAAS0E,EAAEzE,QAASyE,EAAExE,QAASwE,EAAEvE,QAASuE,EAAEtE,SAAUsE,EAAErE,SAAUqE,EAAEpE,SAAUoE,EAAEnE,UAAWmE,EAAElE,YAKrI,OAJA1D,KAAKwC,KAAOA,EACZrC,EAAKuE,cAAgBlC,EAAKqF,QAAQ,GAClC1H,EAAKwE,gBAAkBhC,YAAYxC,EAAKoE,gBAAkB5B,WAAWxC,EAAKuE,eAC1EvE,EAAK0E,MAAQlC,WAAWxC,EAAKqE,aAAe7B,WAAWxC,EAAKoE,gBAAkB5B,WAAWxC,EAAKyE,cAAgBjC,WAAWxC,EAAKwE,iBACvH3E,KAAKwC,MAGdsF,SAAU,YACM,iBAAkB,cAAe,iBAAkB,cAAe,iBAAkB,gBAAiB,kBAAmB,cAAe,SAC9IC,QAAQ,SAAUrG,GACvB1B,KAAKoE,YAAY1C,GAAS1B,KAAKoE,YAAY1C,GAAOmG,QAAQ,IACzD7H,UAiBLyH,EAAiB,IAAI7I,KACvBC,GAAI,cACJC,MACEqF,QAAQ,EACR6D,MACEC,KAAM,WACNtK,KAAM,mBAERuK,QACED,KAAMvH,SAAW,aACjB/C,KAAM,kBAER4J,QACEtD,MAAO,GACPI,eAAgB,EAChBC,aAAc,EACdC,eAAgB,EAChBC,YAAa,EACbC,eAAgB,EAChBC,cAAe,EACfC,gBAAiB,EACjBC,aAAc,EACdC,MAAO,IAGXM,SACEC,eAAgB,SAAUC,GACxB,MAAO,OAASC,eAAeD,IAGjC8C,kBAAmB,SAAUC,GAE3B,OADAvF,OAAOwF,OAAO,SACPxF,OAAOuF,GAAMtF,OAAO,kCAG/B5C,SACEoI,OAAQ,WACNb,EAAetD,QAAS,EACxBD,EAAUC,QAAS,EACnBhE,KAAKgE,QAAS,EACdzG,EAAE,YAAY6K,YAAY,QAC1B7K,EAAE,eAAe6K,YAAY,SAE/BC,MAAAA,SAAAA,GAAA,SAAAA,IAAA,OAAAC,EAAAC,MAAA1I,KAAA2I,WAAA,OAAAH,EAAAI,SAAA,WAAA,OAAAH,EAAAG,YAAAJ,EAAAA,CAAO,WACLA,aAhTR,GCDElL,cAAc,aAEI,IAAIsB,KACpBC,GAAI,WACJC,MACC+J,MAAO,GACPC,UAAW,GACXC,WAAW,EACXC,QAAQ,EACRC,SACEC,WAAY,GACZC,YAAa,GACbxL,KAAM,KAIToC,QAAS,WACY,YAAftC,aACFuC,KAAKoJ,aAITjE,SACEC,eAAgB,SAASC,GACvB,MAAO,OAAQC,eAAeD,KAIlCnF,SACEkJ,UAAW,WACT,IAAIjJ,EAAOH,KACPK,EAAO,QAAUC,KAAKC,UAAUP,KAAKiJ,SACzCzI,MAAMC,KAAKC,SAAW,wBAAyBL,GAC9CM,KAAK,SAAUC,GACdT,EAAKkJ,UAAUzI,EAAI9B,KAAKb,SACxBkC,EAAK4I,WAAY,EACjB5I,EAAK6I,OAAYpI,EAAI9B,KAAKwK,QAI9BD,UAAW,SAASpL,GAClBF,YAAY,iBAAkBE,OCzCpCX,cAAc,aAEO,IAAIsB,KACvBC,GAAI,UACJC,MACC+J,MAAO,GACPC,UAAW,GACXS,MAAO,GACPN,SACEC,WAAY,GACZC,YAAa,GACbxL,KAAM,KAIToC,QAAS,WACY,YAAftC,aACFuC,KAAKoJ,aAITjE,SACEC,eAAgB,SAASC,GACvB,MAAO,OAAQC,eAAeD,KAIlCnF,SACEkJ,UAAW,WACT,IAAIjJ,EAAOH,KACPK,EAAO,QAAUC,KAAKC,UAAUP,KAAKiJ,SACzCzI,MAAMC,KAAKC,SAAW,uBAAwBL,GAC7CM,KAAK,SAAUC,GACdT,EAAKkJ,UAAUzI,EAAI9B,KAAKb,SACxBkC,EAAKoJ,MAAQ3I,EAAI9B,KAAKwK,QAI1BD,UAAW,SAASpL,GAClBF,YAAY,gBAAiBE,OCvCnCX,cAAc,aAChB,WACE,IAAIkM,EAAa,GACbC,GACFC,QAAS,EACTC,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,WAAa,GACbC,SAAW,QACXC,eAAiB,GACjBC,MAAO,GACPC,KAAO,GACPC,YAAa,GACbZ,MAAO,GACP5K,OAAQ,GACRyL,aAAc,GACdC,cAAgB,GAChBC,UAAW,GACXC,gBAAiB,GACjBC,MAAO,GACPC,QAAS,GACTC,KAAM,GACNC,SAAU,IAGRC,EAAe,IAAIhM,KACrBC,GAAI,kBACJC,MACE+L,QACGnB,QAAS,EACTC,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,WAAa,aACbC,SAAW,QACXC,eAAiB,GACjBC,MAAO,GACPC,KAAO,GACPC,YAAa,GACbZ,MAAO,GACP5K,OAAQ,GACRyL,aAAc,GACdC,cAAgB,GAChBC,UAAW,GACXC,gBAAiB,GACjBC,MAAO,GACPC,QAAS,GACTC,KAAM,GACNC,SAAU,IAGbG,SAAS,EACTC,QAAQ,EACRC,OACEC,SAAY,GACZC,SAAY,GACZtB,YAAe,GACfuB,SAAY,GACZvH,MAAS,GACTmG,SAAY,GACZqB,YAAe,GACfC,aAAgB,GAChBC,YAAe,GACf3M,OAAU,IAEZ4M,eACEC,MAAM,IAGVrG,WAGAuC,UACE+D,WAAY,WACV,OAAO/K,SAAW,qBAAuBV,KAAK6K,OAAOnB,SAGvDgC,YAAa,WACX,MAAyB,UAAtB1L,KAAK6K,OAAOlM,SAGPqB,KAAK0L,aAAc,IAG7BC,SAAU,WAER,OADA3L,KAAK+K,OAAgC,UAAtB/K,KAAK6K,OAAOlM,OACpBqB,KAAK+K,SAIhB7K,SAEEoI,OAAQ,WACNsD,WAAW/M,GAAGgN,QAAQ,oBAAoBtD,YAAY,QACtDvI,KAAK8K,SAAU,EACf9K,KAAKgL,OAASjB,SAAU,IACxB6B,WAAWE,QAAQtC,IAGrBuC,gBAAiB,WACf,GAAI/L,KAAK+K,QAAiC,GAAvB/K,KAAK6K,OAAOnB,QAAc,CAC3C,IAAIrJ,EAAO,QAAUC,KAAKC,UAAUP,KAAKgL,OACrClF,EAAOtF,MAAMC,KAAMC,SAAW,+BAA+BL,GACjEyF,EAAKnF,KAAK,SAASC,GACjB,IAAI9B,EAAO8B,EAAI9B,KACfoC,eAAepC,EAAKkH,SACpBgG,EAAmB3N,KAAKS,EAAKmN,OAAOC,WAEtCpG,EAAKK,MAAM,mBAIXjF,eAAgBiL,aAAe,sDAInCC,WAAY,SAAU1C,GACpB,IAAIrJ,EAAO,QAAUC,KAAKC,WAAWmJ,QAASA,IAC1CvJ,EAAOH,KACAQ,MAAMC,KAAMC,SAAW,oBAAoBL,GACjDM,KAAK,SAASC,GACjB,IAAI9B,EAAO8B,EAAI9B,KACZA,EAAK+L,SACN1K,EAAK0K,OAAS/L,EAAK+L,WAKzBwB,aAAc,WACe,GAAvBrM,KAAK6K,OAAOnB,QACd1J,KAAKsM,OAAO,uBAEZpL,eAAgBiL,aAAe,kCAInCI,YAAa,WACXvM,KAAKsM,OAAO,uBAGdA,OAAQ,SAASE,GACf,IAAIrM,EAAOH,KACPyM,EAAezM,KAAK0M,cACpBC,EAAOF,EAAaE,KACpB7N,EAAO2N,EAAa3N,KAEpBuB,EAAO,QAASC,KAAKC,UAAUzB,GAAQ,SAAUwB,KAAKC,UAAUoM,GAChE7G,EAAOtF,MAAMC,KAAKC,SAAW8L,EAASnM,GAE1CyF,EAAKnF,KAAK,SAAUC,GAClB,IAAI9B,EAAO8B,EAAI9B,KACXA,EAAK8N,SACPpD,EAAa1K,EAAK8N,QAGhB9N,EAAKkH,SACP9E,eAAepC,EAAKkH,SAGtB7F,EAAK0M,YAAY1M,EAAK6K,MAAME,YAG9BpF,EAAKK,MAAM,SAAS9D,GAClB+D,QAAQC,IAAIhE,MAIhBqK,YAAa,SAAU7B,GAmBrB,OAAQ/L,MAfNiL,SAAU,UACVC,gBAJEa,EAAS7K,KAAK6K,QAIOb,eACvBF,WAAYe,EAAOf,WACnBG,MAAOY,EAAOZ,MACdV,MAAOsB,EAAOZ,MACdtL,OAAQ,SACR+L,KAAMG,EAAOH,KACbC,UAAU,GAQQgC,MAJlBzB,SAAUL,EAAOK,SACjBxB,QAASmB,EAAOnB,WAMpBmD,YAAa,SAAU3B,GACrB,IAAI/K,EAAOH,KACPK,EAAO,QAASC,KAAKC,WAAW2K,SAAUA,IACnC1K,MAAMC,KAAKC,SAAW,6BAA8BL,GAC1DM,KAAK,SAASC,GACjB,IAAI9B,EAAO8B,EAAI9B,KAEXA,EAAKmN,QACP9L,EAAK0K,OAASpB,GAGhBuC,EAAmB3N,KAAKS,EAAKmN,OAAOC,YAKxCY,cAAe,WACb,IAAI3M,EAAOH,KACP6K,EAAS7K,KAAK6K,OACd/L,GACFoM,SAAYL,EAAOK,SACnBxB,QAAWmB,EAAOnB,SAGhBrJ,EAAO,QAASC,KAAKC,UAAUzB,GAC/BgH,EAAOtF,MAAMC,KAAKC,SAAW,uBAAuBL,GAExDyF,EAAKnF,KAAK,SAAUC,GAClB,IAAI9B,EAAO8B,EAAI9B,KACfoC,eAAepC,EAAKkH,SACpB7F,EAAK0M,YAAY1M,EAAK6K,MAAME,YAE9BpF,EAAKK,MAAM,SAAS9D,GAClB+D,QAAQC,IAAIhE,SAMpB0K,IAAIC,IAAI,eAAe,SAAUC,GAC/BrB,WAAW/M,GAAGgN,QAAQ,oBAAoBvN,SAAS,QACnDsM,EAAaE,SAAU,EACvBF,EAAaI,MAAQiC,EACrBzD,EAAaoC,WAAW/M,GAAGT,KAAK,SAASC,OACzCuM,EAAaiC,YAAYI,EAAI/B,YAG/B,IAAIc,EAAqBtO,EAAE,yBAC3BsO,EAAmBkB,GAAG,SAAS,WAC7B,IAAIxD,EAAUsC,EAAmB5L,MACjCwK,EAAawB,WAAW1C,KA/O5B,GCDEpM,cAAc,WAEK,IAAIsB,KACrBC,GAAI,iBACJC,MACEb,QAAS,GACTkP,QACExP,KAAM,GACNe,MAAO,UAETqE,SACEgI,OAAQ,EACRqC,UAAW,EACXC,cAAe,GAEjBrP,QAAS,qBAEX+B,QAAS,WACY,UAAftC,aACFuC,KAAKsN,WAITnI,SACEC,eAAgB,SAAUC,GACxB,MAAO,OAASC,eAAeD,KAInCnF,SACEqN,OAAQ,SAAU/H,GAChB/G,cAAcuB,KAAKhC,QAASgC,KAAKwN,cAGnCF,QAAS,WACP,IAAInN,EAAOH,KACPK,EAAO,QAAUC,KAAKC,UAAUP,KAAKmN,QACzC3M,MAAMC,KAAKC,SAAW,gBAAiBL,GACpCM,KAAK,SAAUC,GACdT,EAAKkJ,UAAUzI,EAAI9B,KAAKb,SACxBkC,EAAK4C,QAAUnC,EAAI9B,KAAKiE,WAI9BsG,UAAW,SAAUpL,GACnBF,YAAY,oBAAqBE,OC7CvCX,cAAc,mBAEO,IAAIsB,KACvBC,GAAI,WACJC,MACC+J,MAAO,GACPC,UAAW,GACXS,MAAO,GACPN,SACEC,WAAY,GACZC,YAAa,GACbxL,KAAM,KAGToC,QAAS,WACY,kBAAftC,aACFuC,KAAKoJ,aAGTjE,SACEC,eAAgB,SAASC,GACvB,MAAO,OAAQC,eAAeD,KAIlCnF,SACEkJ,UAAW,WACT,IAAIjJ,EAAOH,KACPK,EAAO,QAAUC,KAAKC,UAAUP,KAAKiJ,SACzCzI,MAAMC,KAAKC,SAAW,wBAAyBL,GAC9CM,KAAK,SAAUC,GACdT,EAAKkJ,UAAUzI,EAAI9B,KAAKb,SACxBkC,EAAKoJ,MAAQ3I,EAAI9B,KAAKwK,QAI1BD,UAAW,SAASpL,GAClB,IAAIC,EAASR,EAAE,mBACfQ,EAAOC,eAAe,WACtBD,EAAOE,KAAK,SAASC,KAAKJ,GAC1BC,EAAOC,iBACPD,EAAOE,KAAK,SAASG,KAAKC,QAAQ,wBCzCxClB,cAAc,aAChB,WA4CE,SAASmQ,EAAc3O,GACrB,IAAI4O,EAAShQ,EAAE,oBACXiQ,GACFtO,KAAM,MACNP,MACE8O,OAAQ9O,EAAK8O,OACbC,WACEC,MAAO,UACPhP,KAAMA,EAAKiP,OACXC,iBAAkBC,EAAOC,WAAYD,EAAOC,WAAYD,EAAOE,MAAO/M,OAAOgN,YAAYC,KAAKjN,OAAOgN,YAAYE,MAAOL,EAAOM,UAAWnN,OAAOgN,YAAYI,IAAIpN,OAAOgN,YAAYI,IAAMpN,OAAOgN,YAAYC,SAGjNI,SACEC,YAAY,EACZC,qBAAqB,EACrBC,QACEC,QACEC,OACEC,SAAU,SAAUjB,EAAOkB,EAAOpB,GAEhC,MADa,IAATE,GAAwB,MAATA,IAAeA,EAAQ,GACnC,OAASxI,eAAewI,OAIrCmB,QACEH,OACEC,SAAU,SAAUjB,EAAOkB,EAAOpB,GAChC,OAAOE,EAAMoB,QAAQ,KAAM,UAKnCC,UACEC,WACEtB,MAAO,SAAUuB,EAAavQ,GAC5B,MAAO,OAASwG,eAAe+J,EAAYC,WAIjD/N,OACE/C,SAAS,EACTb,KAAM,sCAAwCmB,EAAKmF,MAAQ,WAAanF,EAAK8E,SAIrE,IAAI2L,MAAM7B,EAAQC,GAGlC,SAAS6B,EAAUzL,EAAO0L,GACxB,IAAIC,EAAUhS,EAAE,wBACZoB,GACA8O,OAAQ+B,EACR9B,WACEC,MAAO,SACPE,gBAAiB5M,OAAOgN,YAAYI,IACpCoB,YAAaxO,OAAOgN,YAAYI,IAChC1P,KAAMiF,EACN8L,MAAM,IAEN/B,MAAO,mBACP+B,MAAM,EACN7B,gBAAiB5M,OAAOgN,YAAYC,KACpCuB,YAAaxO,OAAOgN,YAAYC,KAChCvP,KAAM2Q,KAINhB,GACFC,YAAY,EACZC,qBAAqB,EACrBC,QACEC,QACEC,OACEC,SAAU,SAAUjB,EAAOkB,EAAOpB,GAChC,MAAO,OAAStI,eAAewI,QAKvCqB,UACEC,WACEtB,MAAO,SAAUuB,EAAavQ,GAC5B,MAAO,OAASwG,eAAe+J,EAAYC,WAIjD/N,OACE/C,SAAS,EACTb,KAAM,wCAIA,IAAI4R,MAAMG,GACpBrQ,KAAM,OACNP,KAAMA,EACN2P,QAASA,IA1IM,YAAfhR,aAGJ,WACE,IAAIqI,EAAOtF,MAAMsP,IAAIpP,SAAW,wBAChCoF,EAAKnF,KAAK,SAAUoF,GAClB0H,EAAc1H,EAASjH,MACvBiR,EAAgBxI,OAASxB,EAASjH,KAAKyI,SAEzCzB,EAAKK,MAAM,SAAU9D,MAIrB,IAAIhC,EAAO,QAASC,KAAKC,WAAWyP,KAAKnN,SAASC,OAAO,UAC7CtC,MAAMC,KAAKC,SAAW,qBAAqBL,GACjDM,KAAK,SAASC,GAGlB4O,EAFgB5O,EAAI9B,KAAKiF,OACTnD,EAAI9B,KAAK2Q,aAhB3BQ,GAsBF7O,OAAOgN,aACLI,IAAK,oBACL0B,OAAQ,oBACRC,OAAQ,oBACR7B,MAAO,oBACPD,KAAM,oBACN+B,OAAQ,qBACRC,KAAM,sBAER,IAAIV,GAAS,QAAS,UAAW,QAAS,QAAS,OAAQ,QAAS,QAAS,SAAU,aAAc,UAAW,YAAa,aAEzH1B,GACFK,MAAO,qBACPC,UAAW,sBACXJ,MAAO,sBACPD,WAAY,qBACZoC,KAAM,uBACNC,YAAa,uBAuGXhJ,GACFtD,MAAO,GACPY,MAAO,EACP2L,oBAAqB,EACrB5M,MAAQ,GACR6M,iBAAkB,EAClBC,gBAAiB,EACjBC,kBAAkB,EAClBC,gBAAgB,EAChBC,kBAAmB,EACnBlM,gBAAgB,GAEdoL,EAAkB,IAAInR,KACxBC,GAAI,qBACJC,MACEyI,OAAQA,GAGVpC,SACEC,eAAgB,SAASC,GACvB,MAAO,OAAQC,eAAeD,KAGlCnF,SACEsI,MAAAA,SAAAA,GAAA,SAAAA,IAAA,OAAAC,EAAAC,MAAA1I,KAAA2I,WAAA,OAAAH,EAAAI,SAAA,WAAA,OAAAH,EAAAG,YAAAJ,EAAAA,CAAO,WACLA,aAzKR,GCDElL,cAAc,mBAES,IAAIsB,KACzBC,GAAI,WACJC,MACE+J,MAAO,GACPC,UAAW,GACXG,SACEC,WAAY,GACZC,YAAa,KAGjBpJ,QAAS,WACY,kBAAftC,aACFuC,KAAKoJ,aAITlJ,SACEkJ,UAAW,WACT,IAAIjJ,EAAOH,KACPK,EAAO,QAAUC,KAAKC,UAAUP,KAAKiJ,SACzCzI,MAAMC,KAAKC,SAAW,4BAA6BL,GAChDM,KAAK,SAAUC,GACdT,EAAKkJ,UAAUzI,EAAI9B,KAAKb,YAI9BoL,UAAW,SAAUpL,GACnB,IAAIC,EAASR,EAAE,sBACfQ,EAAOC,eAAe,WACtBD,EAAOE,KAAK,SAASC,KAAKJ,GAC1BC,EAAOC,iBACPD,EAAOE,KAAK,SAASG,KACnBC,QAAS,wBClCjBlB,cAAc,mBAChB,WAyOE,SAASwT,EAAQC,GACf,MAAO,QAAUzQ,KAAKC,UAAUwQ,GAzOlC,IAAIC,EAAiB,IAAIpS,KACvBC,GAAI,qBACJC,MACEmS,YACEtT,KAAM,GACNe,MAAO,eAETwS,WACA1F,MAAM,GAGRzL,QAAS,WACPC,KAAKmR,oBACL,IAAIhR,EAAOH,KACXoR,UAAUpE,IAAI,iBAAkB,WAC9B7M,EAAKgR,uBAITjR,SACEiN,OAAQ,WACN,IAAIhN,EAAOH,KACPK,EAAO,QAAUC,KAAKC,UAAUP,KAAKiR,YACrCnL,EAAOtF,MAAMC,KAAKC,SAAW,qBAAsBL,GAEvDyF,EAAKnF,KAAK,SAAUC,GAClBT,EAAKkR,gBAAgBzQ,EAAI9B,QAG3BgH,EAAKK,MAAM,WACTC,QAAQ/D,MAAMzB,IAAI9B,KAAKkH,YAK3BqL,gBAAiB,SAAUC,GACzB5T,EAAE,iBAAiBW,KAAKiT,GACxBN,EAAeG,qBAGjBA,kBAAmB,WACjBzT,EAAE,mCAAmCwP,GAAG,QAAS,WAC/C,IAAIqE,EAAY7T,EAAEsC,MAAM5B,KAAK,SAAST,OAAOG,OAC7C0T,EAAWC,UAAUF,SAMzBG,GACFH,UAAa,GACbI,WAAc,GACdC,QAAW,GACXC,UAAa,GACbhO,YAAe,GACfiO,QAAW,GACXlO,MAAS,GACTjF,OAAU,GACVoT,iBAAoB,GACpBC,QAAW,GACXC,OAAU,IAGRT,EAAa,IAAI5S,KACnBC,GAAI,eAEJC,MACEoT,SACE1G,MAAM,GAERjF,MACE4L,YAAY,EACZC,MAAM,GAERC,YAAa,GACbC,YACAC,OAAQb,GAEVzM,QAAS,WACPvH,EAAE,gBAAgB6K,YAAY,cAGhCrI,SACEuR,UAAW,SAAUF,GACnB,IAAIlR,EAAO,QAAUC,KAAKC,WACxBgR,UAAWA,IAEF/Q,MAAMC,KAAKC,SAAW,yBAA0BL,GAEtDM,KAAK,SAAUC,GAClB,IAAI9B,EAAO8B,EAAI9B,KACf0S,EAAWU,QAAQ1G,MAAO,EAC1BwF,EAAexF,MAAO,EACtBgG,EAAWe,OAASzT,EAAKyT,OACzBf,EAAWc,SAAWxT,EAAKwT,YAI/BE,KAAM,WACJxS,KAAKuS,OAASb,EACd1R,KAAKsS,SAAW,KAChBtS,KAAKkS,QAAQ1G,MAAO,EACpBxL,KAAKyS,mBACLzB,EAAexF,MAAO,GAGxBhD,MAAAA,SAAAA,GAAA,SAAAA,IAAA,OAAAC,EAAAC,MAAA1I,KAAA2I,WAAA,OAAAH,EAAAI,SAAA,WAAA,OAAAH,EAAAG,YAAAJ,EAAAA,CAAO,WACLA,UAGFkK,aAAc,WACZ1S,KAAKuG,KAAK4L,YAAa,GAGzBQ,WAAY,WACV,IAAItS,EAAOyQ,GACTS,UAAWvR,KAAKuS,OAAOhB,UACvB1N,YAAa7D,KAAKqS,cAGhBlS,EAAOH,KADAQ,MAAMC,KAAKC,SAAW,0BAA2BL,GAEvDM,KAAK,SAAUC,GAClBT,EAAKyS,cACLzS,EAAKsS,mBACLvR,eAAeN,EAAI9B,KAAKkH,YAI5B6M,eAAgB,SAAUrN,GACxB,IAAIsN,EAActN,EAAEuB,OAAOgM,WAAWA,WAClCC,EAAYxN,EAAEuB,OAAOgM,WAAWpN,WAAW,WAAWhE,MACtDxB,EAAOH,KACX8S,EAAYG,UAAUC,IAAI,aAE1B5R,MACIC,MAAO,eACP5D,KAAM,uCACN0B,KAAM,UACN8H,kBAAkB,EAClBC,kBAAmB,WACnBC,iBAAkB,aAEnB1G,KAAK,WACJR,EAAKgT,cAAcH,GACnBF,EAAYG,UAAUG,OAAO,eAE9BjN,MAAM,WACL2M,EAAYG,UAAUG,OAAO,gBAInCD,cAAe,SAAUH,GACvB,IAAI7S,EAAOH,KACPK,EAAOyQ,GACTuC,WAAYL,IAEHxS,MAAMC,KAAKC,SAAW,6BAA8BL,GAE1DM,KAAK,SAAUC,GAClBT,EAAKyS,cACL1R,eAAeN,EAAI9B,KAAKkH,YAI5BsN,YAAa,aAIbb,iBAAkB,WAChBzS,KAAKuG,KAAK4L,YAAa,EACvBnS,KAAKqS,YAAc,IAGrBO,YAAa,WACX,IAAIvS,EAAOyQ,GACTS,UAAWvR,KAAKuS,OAAOhB,YAGrBpR,EAAOH,KADAQ,MAAMC,KAAKC,SAAW,2BAA4BL,GAExDM,KAAK,SAAUC,GAClBT,EAAKmS,SAAW1R,EAAI9B,KAAKwT,YAI7BiB,kBAAmB,WACjBvT,KAAKwT,cAAc,YAAa,cAAe,UAAW,SAAU,sBAGtEC,YAAa,WACe,eAAtBzT,KAAKuS,OAAO5T,OACdqB,KAAKuS,OAAOR,iBAAmB,GAE/B/R,KAAKuS,OAAOR,iBAAmBlP,SAASC,OAAO,eAInD0Q,aAAc,SAAUE,GACtB1T,KAAK2T,gBACL,IAAItT,EAAOyQ,EAAQ9Q,KAAK4T,UAAUF,IACvBlT,MAAMC,KAAKC,SAAW,4BAA6BL,GAEzDM,KAAK,SAAUC,GAClBoQ,EAAe7D,SACfjM,eAAeN,EAAI9B,KAAKkH,YAI5B6N,aAAc,WACZzN,QAAQuG,KAAK,YAGfgH,cAAe,WACb3T,KAAKuG,KAAK6L,MAAO,GAGnB0B,cAAe,WACb9T,KAAKuG,KAAK6L,MAAO,GAGnBwB,UAAW,SAAUF,GACnB,IAAIK,KACA5T,EAAOH,KAKX,OAJA0T,EAAO3L,QAAQ,SAAUrG,GACvBqS,EAAerS,GAASvB,EAAKoS,OAAO7Q,IACnC1B,MAEI+T,MAnOf","file":"components.js","sourcesContent":["function isCurrentPage(pageName){\r\n  if(getCurrentPage() == pageName){\r\n    return true\r\n  }  \r\n  return false;\r\n}\r\n\r\nfunction getCurrentPage(){\r\n  var currentPage = $(\"title\").text().split(\" \");\r\n  currentPage = currentPage[4].toLowerCase().trim();\r\n  return currentPage;\r\n}\r\n\r\nfunction fillBSTable(tableId, content) {\r\n  var $table = $(tableId);\r\n  $table.bootstrapTable('destroy');\r\n  $table.find('tbody').html(content);\r\n  $table.bootstrapTable();\r\n  $('.pull-right.search').addClass('hide')\r\n  $table.find('tbody').css({display:\"table-row-group\"});\r\n  $table.addClass('innertable');\r\n\r\n}\r\n\r\nfunction filterBSTable(tableId, state) {\r\n  $(tableId).bootstrapTable('filterBy',{\r\n    estado: state\r\n  });\r\n}"," if (isCurrentPage(\"cuenta\")) {\r\n   (function () {\r\n     var acountView = new Vue({\r\n       el: '#acount-section',\r\n       data: {\r\n         user: {\r\n           user_id: '',\r\n           nickname: '',\r\n           name: '',\r\n           lastname: '',\r\n           dni: '',\r\n           type: '',\r\n           email: ''\r\n         },\r\n         isChangePassword: false,\r\n         currentPassword: '',\r\n         newPassword: '',\r\n         passwordConfirm: '',\r\n         states: {\r\n           'has-error': false,\r\n           'has-success': false,\r\n           button: true,\r\n         }\r\n\r\n       },\r\n\r\n       mounted: function () {\r\n         if (currentPage == 'cuenta') {\r\n           this.getUser();\r\n         }\r\n       },\r\n\r\n       methods: {\r\n         getUser: function () {\r\n           var self = this;\r\n           var user_id = $('#acount-user-id').val();\r\n           var form = 'data=' + JSON.stringify({\r\n             user_id: user_id\r\n           });\r\n\r\n           axios.post(BASE_URL + 'user/get_user', form)\r\n             .then(function (res) {\r\n               var user = res.data.user;\r\n               user['fullname'] = user.name + ' ' + user.lastname;\r\n               self.user = user;\r\n             })\r\n         },\r\n\r\n         updateInfo: function () {\r\n           if (this.isChangePassword) {\r\n             this.changePassword()\r\n           } else {\r\n             this.changeEmail()\r\n           }\r\n         },\r\n\r\n         changePassword: function () {\r\n           if (this.states['has-success']) {\r\n             var form = 'data=' + JSON.stringify({\r\n               user_id: this.user.user_id,\r\n               current_password: this.currentPassword,\r\n               new_password: this.newPassword\r\n             });\r\n\r\n             axios.post(BASE_URL + 'user/update_password', form)\r\n               .then(function (res) {\r\n                 displayMessage(res.data.message);\r\n                 window.location = BASE_URL + 'app/logut';\r\n               })\r\n           } else {\r\n             displayMessage(\"Las contraseñas no conciden\")\r\n           }\r\n         },\r\n\r\n         changeEmail: function () {\r\n           var self = this\r\n           var user = this.user\r\n\r\n           swal({\r\n               'title': 'Contraseña',\r\n               'input': 'password',\r\n             })\r\n             .then(function (password) {\r\n               var form = 'data=' + JSON.stringify({\r\n                 'user_id': user.user_id,\r\n                 'password': password,\r\n                 'field': 'email',\r\n                 'value': user.email\r\n               });\r\n\r\n               axios.post(BASE_URL + 'user/update_field', form)\r\n                 .then(function (res) {\r\n                   displayMessage(res.data.message);\r\n                 })\r\n             })\r\n         },\r\n\r\n         confirmPasswordServer: function (password) {\r\n           var form = 'data=' + JSON.stringify({\r\n             user_id: this.user.user_id,\r\n             current_password: password\r\n           });\r\n\r\n           return new Promise(function (resolve, reject) {\r\n             axios.post(BASE_URL + 'user/confirm_password', form)\r\n               .then(function (res) {\r\n                 resolve(res.data.is_correct);\r\n               })\r\n           })\r\n         },\r\n\r\n         confirmPassword: function () {\r\n           var self = this;\r\n           this.confirmPasswordServer(this.currentPassword)\r\n             .then(function (is_correct) {\r\n               self.isChangePassword = is_correct\r\n             })\r\n         },\r\n\r\n         checkPassword: function () {\r\n           if ((this.newPassword == this.passwordConfirm) && this.changePassword) {\r\n             this.setStates(true, false);\r\n             this.states.button = true;\r\n           } else if (this.changePassword) {\r\n             this.setStates(false, true);\r\n             this.states.button = false;\r\n           } else {\r\n             this.setStates(false, false);\r\n           }\r\n         },\r\n\r\n         setStates: function (success, error) {\r\n           this.states['has-success'] = success;\r\n           this.states['has-error'] = error;\r\n         },\r\n       },\r\n\r\n     })\r\n   })()\r\n }","if (isCurrentPage(\"cierre\")) {\r\n  (function () {\r\n    var totales = {\r\n      total1: 0,\r\n      total5: 0,\r\n      total10: 0,\r\n      total20: 0,\r\n      total25: 0,\r\n      total50: 0,\r\n      total100: 0,\r\n      total200: 0,\r\n      total500: 0,\r\n      total1000: 0,\r\n      total2000: 0\r\n    }\r\n\r\n    var gasto = {\r\n      'fecha': '',\r\n      'descripcion': '',\r\n      'monto': '',\r\n    }\r\n\r\n    var gastos = [{\r\n      fecha: now(),\r\n      descripcion: \"hola\",\r\n      monto: 2000,\r\n      id_gasto: 1\r\n    }]\r\n    var autor = $('#autor-cierre').text().trim()\r\n\r\n    var appCierre = new Vue({\r\n      el: '#app-cierre',\r\n      data: {\r\n        isHide: false,\r\n        fecha: now(),\r\n        data_cierre: {\r\n          autor: autor,\r\n          pagos_facturas: 0,\r\n          pagos_extras: 0,\r\n          pagos_efectivo: 0,\r\n          pagos_banco: 0,\r\n          total_ingresos: 0,\r\n          efectivo_caja: 0,\r\n          total_descuadre: 0,\r\n          total_gastos: 0,\r\n          banco: 0\r\n        },\r\n        conteo: totales,\r\n        suma: 0,\r\n        gasto: gasto,\r\n        gastos: gastos\r\n      },\r\n\r\n      mounted: function () {\r\n        this.getGastos();\r\n        this.setIngresos();\r\n      },\r\n\r\n      created: function () {\r\n        $('.will-load').css({\r\n          visibility: \"visible\"\r\n        })\r\n      },\r\n\r\n      filters: {\r\n        currencyFormat: function (number) {\r\n          return CurrencyFormat(number);\r\n        }\r\n      },\r\n\r\n      methods: {\r\n        changeTotal: function (e) {\r\n          var unit = e.srcElement.attributes['data-unit'].value\r\n          var cantidad = e.srcElement.value\r\n          var total = cantidad * unit\r\n          totales['total' + unit] = cantidad * unit * 1.00\r\n        },\r\n\r\n        addGasto: function (e) {\r\n          var gasto = this.gasto;\r\n          gasto.fecha = now();\r\n          var form = 'data=' + JSON.stringify(gasto);\r\n          var send = axios.post(BASE_URL + 'caja/add_gasto', form)\r\n          send.then(function (response) {\r\n            var data = response.data\r\n            displayMessage(data.mensaje)\r\n            appCierre.fillGastos(data.gastos, \"normal\")\r\n            appCierre.setGastoTotal(data.total_gastos)\r\n          });\r\n          send.catch(function () {\r\n            console.log(error);\r\n          });\r\n        },\r\n\r\n        fillGastos: function (gastos_servidor, mode) {\r\n          if (mode == \"group\") {\r\n            if (gastos_servidor != null || gastos_servidor.length > 0) {\r\n              appCierre.gastos = gastos_servidor;\r\n            } else {\r\n              appCierre.gastos = [];\r\n            }\r\n          } else {\r\n            appCierre.gastos.push(JSON.parse(gastos_servidor)[0]);\r\n          }\r\n        },\r\n\r\n        setGastoTotal: function (totalGastos) {\r\n          this.data_cierre.total_gastos = totalGastos\r\n        },\r\n\r\n        getGasto: function (e) {\r\n          var gasto = this.gasto;\r\n          var form = 'data=' + JSON.stringify(gasto);\r\n          connectAndSend('caja/get_gasto', false, null, appCierre.fillGastos, form, null, null);\r\n        },\r\n\r\n        deleteGasto: function (e) {\r\n          var caller = e.target;\r\n          if (caller.localname == \"i\") {\r\n            caller = caller.parentElement;\r\n          }\r\n          var id = caller.attributes['data-id'].value\r\n          swal({\r\n            title: 'Está Seguro?',\r\n            text: \"Seguro de que quiere eliminar este gasto?\",\r\n            type: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonText: 'Estoy Seguro!',\r\n            cancelButtonText: 'Cancelar'\r\n          }).then(function () {\r\n            var form = 'data=' + JSON.stringify({\r\n              id: id,\r\n              fecha: now()\r\n            })\r\n            var send = axios.post(BASE_URL + 'caja/delete_gasto', form)\r\n            send.then(function (response) {\r\n              var data = response.data\r\n              displayMessage(data.mensaje)\r\n              appCierre.fillGastos(data.gastos, \"group\")\r\n              appCierre.setGastoTotal(data.total_gastos)\r\n            });\r\n            send.catch(function (error) {\r\n\r\n            });\r\n          });\r\n        },\r\n\r\n        getGastos: function () {\r\n          var data = {\r\n            fecha: now()\r\n          }\r\n          var form = 'data=' + JSON.stringify(data)\r\n          var send = axios.post(BASE_URL + 'caja/get_gastos', form)\r\n          send.then(function (response) {\r\n            var data = response.data\r\n            displayMessage(data.mensaje)\r\n            appCierre.fillGastos(data.gastos, \"group\")\r\n            appCierre.setGastoTotal(data.total_gastos)\r\n          });\r\n          send.catch(function () {\r\n            console.log(error);\r\n          })\r\n        },\r\n\r\n        setIngresos: function () {\r\n          var form = 'data=' + JSON.stringify({\r\n            fecha: now()\r\n          })\r\n          var self = this.data_cierre;\r\n          var send = axios.post(BASE_URL + 'caja/get_ingresos', form)\r\n          send.then(function (response) {\r\n            var data = response.data\r\n            self.pagos_facturas = data.pagos_facturas;\r\n            self.pagos_extras = data.pagos_extras;\r\n            self.pagos_efectivo = data.pagos_efectivo;\r\n            self.pagos_banco = data.pagos_banco;\r\n            self.total_ingresos = parseFloat(data.pagos_facturas) + parseFloat(self.pagos_extras);\r\n            self.total_descuadre = -self.pagos_efectivo + self.efectivo_caja;\r\n          });\r\n          send.catch(function () {\r\n            console.log(error);\r\n          })\r\n        },\r\n\r\n        cerrarCaja: function () {\r\n          var self = this;\r\n          var cierre = this.data_cierre;\r\n          window.cierre = cierre;\r\n          if (cierre.total_descuadre != 0) {\r\n            swal({\r\n              title: 'Está Seguro?',\r\n              text: \"Hay un descuadre en la caja, quiere hacer el cierre de todos modos?\",\r\n              type: 'warning',\r\n              showCancelButton: true,\r\n              confirmButtonText: 'Si',\r\n              cancelButtonText: 'No'\r\n            }).then(function () {\r\n              self.cerrar(cierre)\r\n            })\r\n          } else {\r\n            self.cerrar(cierre);\r\n          }\r\n        },\r\n\r\n        cerrar: function (cierre) {\r\n\r\n          cierre.fecha = now();\r\n          var form = 'data=' + JSON.stringify(cierre);\r\n          var send = axios.post(BASE_URL + 'caja/add_cierre', form)\r\n          send.then(function (response) {\r\n            var data = response.data\r\n            displayMessage(data.mensaje)\r\n            self.isHide = true;\r\n            appSummaryView.isHide = false;\r\n            appSummaryView.cierre = cierre;\r\n            $(\"#app-cierre\").addClass('hide');\r\n            $(\".top-nav\").addClass('hide');\r\n            $(\"#print-view\").css({\r\n              visibility: \"visible\"\r\n            })\r\n\r\n          });\r\n          send.catch(function () {\r\n            console.log(error);\r\n          });\r\n        }\r\n      },\r\n\r\n      computed: {\r\n        getTotal: function (e) {\r\n          var t = totales;\r\n          var self = this.data_cierre;\r\n          var suma = sumar([t.total1, t.total5, t.total10, t.total20, t.total25, t.total50, t.total100, t.total200, t.total500, t.total1000, t.total2000]);\r\n          this.suma = suma;\r\n          self.efectivo_caja = suma.toFixed(2);\r\n          self.total_descuadre = parseFloat(-self.pagos_efectivo) + parseFloat(self.efectivo_caja);\r\n          self.banco = parseFloat(self.pagos_banco) + parseFloat(self.pagos_efectivo) - parseFloat(self.total_gastos) + parseFloat(self.total_descuadre)\r\n          return this.suma;\r\n        },\r\n\r\n        decimals: function () {\r\n          var fields = [\"pagos_facturas\", \"pagos_extra\", \"pagos_efectivo\", \"pagos_banco\", \"total_ingresos\", \"efectivo_caja\", \"total_descuadre\", \"total_gasto\", \"banco\"];\r\n          fields.forEach(function (field) {\r\n            this.data_cierre[field] = this.data_cierre[field].toFixed(2)\r\n          }, this);\r\n        }\r\n      }\r\n    })\r\n\r\n    function sumar(valores) {\r\n      var suma = 0;\r\n      for (var i = 0; i < valores.length; i++) {\r\n        suma += parseFloat(valores[i]);\r\n      }\r\n      return suma;\r\n    }\r\n\r\n    function now() {\r\n      return moment().format(\"YYYY-MM-DD\");\r\n    }\r\n\r\n    var appSummaryView = new Vue({\r\n      el: \"#print-view\",\r\n      data: {\r\n        isHide: true,\r\n        back: {\r\n          link: \"somelink\",\r\n          text: \"volver a cierre\"\r\n        },\r\n        foward: {\r\n          link: BASE_URL + \"app/logout\",\r\n          text: \"cerrar session\"\r\n        },\r\n        cierre: {\r\n          autor: '',\r\n          pagos_facturas: 0,\r\n          pagos_extras: 0,\r\n          pagos_efectivo: 0,\r\n          pagos_banco: 0,\r\n          total_ingresos: 0,\r\n          efectivo_caja: 0,\r\n          total_descuadre: 0,\r\n          total_gastos: 0,\r\n          banco: 0\r\n        }\r\n      },\r\n      filters: {\r\n        currencyFormat: function (number) {\r\n          return \"RD$ \" + CurrencyFormat(number);\r\n        },\r\n\r\n        spanishDateFormat: function (date) {\r\n          moment.locale('es-DO');\r\n          return moment(date).format('dddd DD [de] MMMM [del] YYYY')\r\n        }\r\n      },\r\n      methods: {\r\n        goBack: function () {\r\n          appSummaryView.isHide = true;\r\n          appCierre.isHide = false;\r\n          self.isHide = true;\r\n          $(\".top-nav\").removeClass('hide');\r\n          $(\"#app-cierre\").removeClass('hide');\r\n        },\r\n        print: function () {\r\n          print()\r\n        }\r\n      }\r\n    })\r\n  })()\r\n}","if (isCurrentPage(\"informes\")) {\n  (function(){\n    var closeReport = new Vue({\n      el: '#cierres',\n      data: {\n       table: '',\n       tableHTML: '',\n       hasTotals: false,\n       totals: false,\n       between: {\n         first_date: '',\n         second_date: '',\n         text: ''\n       }\n      },\n\n      mounted: function () {\n        if (currentPage == 'informes') {\n          this.getReport();\n        }\n      },\n\n      filters: {\n        currencyFormat: function(number){\n          return \"RD$ \"+ CurrencyFormat(number);\n        },\n      },\n\n      methods: {\n        getReport: function () {\n          var self = this;\n          var form = 'data=' + JSON.stringify(this.between)\n          axios.post(BASE_URL + 'caja/get_cierres/true', form)\n          .then(function (res) {\n            self.fillTable(res.data.content);\n            self.hasTotals = true;\n            self.totals    = res.data.acum;\n          })\n        },\n\n        fillTable: function(content) {\n          fillBSTable('#cierres-table', content);\n        }\n      }\n    })\n  })()\n}\n","if (isCurrentPage(\"informes\")) {\r\n  (function(){\r\n    var expensesReport = new Vue({\r\n      el: '#gastos',\r\n      data: {\r\n       table: '',\r\n       tableHTML: '',\r\n       total: '',\r\n       between: {\r\n         first_date: '',\r\n         second_date: '',\r\n         text: ''\r\n       }\r\n      },\r\n    \r\n      mounted: function () {\r\n        if (currentPage == 'informes') {\r\n          this.getReport();\r\n        }\r\n      },\r\n    \r\n      filters: {\r\n        currencyFormat: function(number){\r\n          return \"RD$ \"+ CurrencyFormat(number);\r\n        },\r\n      },\r\n    \r\n      methods: {\r\n        getReport: function () {\r\n          var self = this;\r\n          var form = 'data=' + JSON.stringify(this.between)\r\n          axios.post(BASE_URL + 'caja/get_gastos/true', form)\r\n          .then(function (res) {\r\n            self.fillTable(res.data.content)\r\n            self.total = res.data.acum;\r\n          })\r\n        },\r\n    \r\n        fillTable: function(content) {\r\n          fillBSTable('#gastos-table', content);\r\n        }\r\n      }\r\n    })\r\n  })()\r\n}\r\n","if (isCurrentPage(\"detalles\")) {\r\n  (function(){\r\n    var listExtras = '';\r\n    var reciboReset = {\r\n      id_pago: 0,\r\n      id_contrato: 0,\r\n      id_servicio: 0,\r\n      id_empleado: 0,\r\n      fecha_pago : '',\r\n      concepto : 'extra',\r\n      detalles_extra : '',\r\n      cuota: '',\r\n      mora : '',\r\n      monto_extra: '',\r\n      total: '',\r\n      estado: '',\r\n      fecha_limite: '',\r\n      complete_date : '',\r\n      descuento: '',\r\n      razon_descuento: '',\r\n      deuda: '',\r\n      abono_a: '',\r\n      tipo: '',\r\n      generado: ''\r\n    }\r\n    \r\n    var appPagoExtra = new Vue({\r\n      el: \"#app-pago-extra\",\r\n      data: {\r\n        recibo:{\r\n           id_pago: 0,\r\n           id_contrato: 0,\r\n           id_servicio: 0,\r\n           id_empleado: 0,\r\n           fecha_pago : 'dd/mm/yyyy',\r\n           concepto : 'extra',\r\n           detalles_extra : '',\r\n           cuota: '',\r\n           mora : '',\r\n           monto_extra: '',\r\n           total: '',\r\n           estado: '',\r\n           fecha_limite: '',\r\n           complete_date : '',\r\n           descuento: '',\r\n           razon_descuento: '',\r\n           deuda: '',\r\n           abono_a: '',\r\n           tipo: '',\r\n           generado: ''\r\n        },\r\n    \r\n        visible: false,\r\n        pagado: false,\r\n        extra:{\r\n          \"controls\": '',\r\n          \"id_extra\": '',\r\n          \"id_servicio\": '',\r\n          \"checkbox\": '',\r\n          \"fecha\": '',\r\n          \"concepto\": '',\r\n          \"ultimo_pago\": '',\r\n          \"monto_pagado\": '',\r\n          \"monto_total\": '',\r\n          \"estado\": ''\r\n        },\r\n        firstControls: {\r\n          hide: false\r\n        },\r\n      },\r\n      filters: {\r\n    \r\n      },\r\n      computed: {\r\n        url_recibo: function () {\r\n          return BASE_URL + 'process/getrecibo/' + this.recibo.id_pago;\r\n        },\r\n    \r\n        hide_recibo: function () {\r\n          if(this.recibo.estado == \"pagado\"){\r\n            return false\r\n          }\r\n           return this.hide_recibo = true; \r\n        },\r\n    \r\n        isPagado: function () {\r\n          this.pagado = (this.recibo.estado == 'pagado');\r\n          return this.pagado;\r\n        }\r\n      },\r\n    \r\n      methods:{\r\n    \r\n        goBack: function () {\r\n          extraTable.el.parents(\".bootstrap-table\").removeClass(\"hide\");\r\n          this.visible = false\r\n          this.extra = {concepto: ''}\r\n          extraTable.refresh(listExtras);\r\n        },\r\n    \r\n        generatePayment: function () {\r\n          if (this.pagado || this.recibo.id_pago == 0) {\r\n            var form = 'data=' + JSON.stringify(this.extra);\r\n            var send = axios.post( BASE_URL + 'extra/generate_extra_payment',form);\r\n            send.then(function(res){\r\n              var data = res.data;\r\n              displayMessage(data.mensaje);\r\n              selectExtraPayment.html(data.pagos).change();\r\n            });\r\n            send.catch(function(){\r\n              \r\n            })\r\n          } else {\r\n            displayMessage( MESSAGE_INFO + ' Debe realizar este pago antes de crear uno nuevo');\r\n          }\r\n        },\r\n    \r\n        getPayment: function (id_pago) {\r\n          var form = \"data=\" + JSON.stringify({id_pago: id_pago});\r\n          var self = this\r\n          var send = axios.post( BASE_URL + 'extra/get_payment',form);\r\n          send.then(function(res){\r\n            var data = res.data \r\n            if(data.recibo){\r\n              self.recibo = data.recibo\r\n            }\r\n          })\r\n        },\r\n    \r\n        applyPayment: function () {\r\n          if (this.recibo.id_pago != 0) {\r\n            this.sender('extra/apply_payment');\r\n          } else {\r\n            displayMessage( MESSAGE_INFO + ' Debe generar un pago primero');\r\n          }\r\n        },\r\n    \r\n        editPayment: function () {\r\n          this.sender('extra/edit_payment');\r\n        },\r\n    \r\n        sender: function(endpoint) {\r\n          var self = this;\r\n          var preparedData = this.prepareData()\r\n          var info = preparedData.info;\r\n          var data = preparedData.data;\r\n    \r\n          var form = 'data='+ JSON.stringify(data) + '&info='+ JSON.stringify(info)\r\n          var send = axios.post(BASE_URL + endpoint,form)\r\n    \r\n          send.then(function (res) {\r\n            var data = res.data\r\n            if (data.extras) {\r\n              listExtras = data.extras;\r\n            }\r\n\r\n            if (data.mensaje){\r\n              displayMessage(data.mensaje);\r\n            }\r\n\r\n            self.getPayments(self.extra.id_extra);\r\n          })\r\n          \r\n          send.catch(function(error){\r\n            console.log(error);\r\n          })\r\n        },\r\n    \r\n        prepareData: function (recibo) {\r\n          var recibo = this.recibo;\r\n          \r\n          var data = {\r\n            concepto: 'extra -', \r\n            detalles_extra: recibo.detalles_extra,\r\n            fecha_pago: recibo.fecha_pago,\r\n            cuota: recibo.cuota,\r\n            total: recibo.cuota,\r\n            estado: 'pagado',\r\n            tipo: recibo.tipo,\r\n            generado: true\r\n          };\r\n          \r\n          var info = {\r\n            id_extra: recibo.id_extra,\r\n            id_pago: recibo.id_pago\r\n          };\r\n        \r\n          return {data: data, info: info};\r\n        },\r\n        \r\n        getPayments: function (id_extra) {\r\n          var self = this;\r\n          var form = \"data=\"+ JSON.stringify({id_extra: id_extra})\r\n          var send = axios.post(BASE_URL + 'extra/get_extra_payment_of', form)\r\n          send.then(function(res){\r\n            var data = res.data;\r\n    \r\n            if(!data.pagos){\r\n              self.recibo = reciboReset\r\n            }\r\n    \r\n            selectExtraPayment.html(data.pagos).change()\r\n    \r\n          })\r\n        },\r\n    \r\n        deletePayment: function () {\r\n          var self = this;\r\n          var recibo = this.recibo\r\n          var data = {\r\n            'id_extra': recibo.id_extra,\r\n            'id_pago': recibo.id_pago\r\n          }\r\n    \r\n          var form = 'data='+ JSON.stringify(data)\r\n          var send = axios.post(BASE_URL + 'extra/delete_payment',form)\r\n    \r\n          send.then(function (res) {\r\n            var data = res.data\r\n            displayMessage(data.mensaje);\r\n            self.getPayments(self.extra.id_extra);\r\n          })\r\n          send.catch(function(error){\r\n            console.log(error);\r\n          })\r\n        }\r\n      }\r\n    });\r\n    \r\n    bus.$on('row-selected',function (row) {\r\n      extraTable.el.parents(\".bootstrap-table\").addClass(\"hide\");\r\n      appPagoExtra.visible = true\r\n      appPagoExtra.extra = row\r\n      listExtras = extraTable.el.find('tbody').html();\r\n      appPagoExtra.getPayments(row.id_extra);\r\n    })\r\n    \r\n    var selectExtraPayment = $(\"#select-extra-payment\");\r\n    selectExtraPayment.on('change',function(){\r\n      var id_pago = selectExtraPayment.val()\r\n      appPagoExtra.getPayment(id_pago)\r\n    })\r\n  })()\r\n}\r\n","if (isCurrentPage(\"extras\")) {\r\n  (function () {\r\n    var extraSection = new Vue({\r\n      el: '#extra-section',\r\n      data: {\r\n        content: '',\r\n        search: {\r\n          text: '',\r\n          state: 'activo'\r\n        },\r\n        totales: {\r\n          pagado: 0,\r\n          pendiente: 0,\r\n          total_vendido: 0\r\n        },\r\n        tableId: '#extra-table-full'\r\n      },\r\n      mounted: function () {\r\n        if (currentPage == 'extras') {\r\n          this.getData();\r\n        }\r\n      },\r\n\r\n      filters: {\r\n        currencyFormat: function (number) {\r\n          return \"RD$ \" + CurrencyFormat(number);\r\n        },\r\n      },\r\n\r\n      methods: {\r\n        filter: function (e) {\r\n          filterBSTable(this.tableId, this.filterValue);\r\n        },\r\n\r\n        getData: function () {\r\n          var self = this;\r\n          var form = 'data=' + JSON.stringify(this.search)\r\n          axios.post(BASE_URL + 'extra/get_all', form)\r\n            .then(function (res) {\r\n              self.fillTable(res.data.content);\r\n              self.totales = res.data.totales;\r\n            })\r\n        },\r\n\r\n        fillTable: function (content) {\r\n          fillBSTable('#extra-table-full', content)\r\n        }\r\n      }\r\n    });\r\n\r\n  })()\r\n}","if (isCurrentPage(\"notificaciones\")) {\r\n  (function(){\r\n    var paymentsReport = new Vue({\r\n      el: '#recibos',\r\n      data: {\r\n       table: '',\r\n       tableHTML: '',\r\n       total: '',\r\n       between: {\r\n         first_date: '',\r\n         second_date: '',\r\n         text: ''\r\n       }\r\n      },\r\n      mounted: function () {\r\n        if (currentPage == 'notificaciones') {\r\n          this.getReport();\r\n        }\r\n      },\r\n      filters: {\r\n        currencyFormat: function(number){\r\n          return \"RD$ \"+ CurrencyFormat(number);\r\n        },\r\n      },\r\n    \r\n      methods: {\r\n        getReport: function () {\r\n          var self = this;\r\n          var form = 'data=' + JSON.stringify(this.between)\r\n          axios.post(BASE_URL + 'payment/get_receipts/', form)\r\n          .then(function (res) {\r\n            self.fillTable(res.data.content)\r\n            self.total = res.data.acum;\r\n          })\r\n        },\r\n    \r\n        fillTable: function(content) {\r\n          var $table = $('#receipts-table')\r\n          $table.bootstrapTable('destroy');\r\n          $table.find('tbody').html(content);\r\n          $table.bootstrapTable();\r\n          $table.find('tbody').css({display:\"table-row-group\"});\r\n        }\r\n      }\r\n    })\r\n  })()\r\n}\r\n","if (isCurrentPage(\"reportes\")) {\r\n  (function(){\r\n    if (currentPage == 'reportes'){\r\n      fetchReportData();\r\n    }\r\n    function fetchReportData() {\r\n      var send = axios.get(BASE_URL + 'caja/get_last_cierre')\r\n      send.then(function (response) {\r\n        cajaWeekChart(response.data);\r\n        appVistaDetalle.cierre = response.data.cierre;\r\n      })\r\n      send.catch(function (error) {\r\n      \r\n      })\r\n      \r\n      var form = \"data=\"+ JSON.stringify({year:moment().format(\"YYYY\")})\r\n      var send2 = axios.post(BASE_URL + 'caja/get_year_info',form)\r\n      send2.then(function(res){\r\n        var gastos    = res.data.gastos;\r\n        var ganancias = res.data.ganancias;\r\n        yearChart(gastos,ganancias);\r\n      })\r\n    }\r\n    \r\n    \r\n    window.chartColors = {\r\n      red: 'rgb(255, 99, 132)',\r\n      orange: 'rgb(255, 159, 64)',\r\n      yellow: 'rgb(255, 205, 86)',\r\n      green: 'rgb(75, 192, 192)',\r\n      blue: 'rgb(54, 162, 235)',\r\n      purple: 'rgb(153, 102, 255)',\r\n      grey: 'rgb(201, 203, 207)'\r\n    };\r\n    var meses = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"];\r\n    \r\n    var colors = {\r\n      green: 'rgba(0,230,118 ,1)',\r\n      blueGreen: 'rgba(29,233,182 ,1)',\r\n      blue7: 'rgba(25,118,210 ,1)',\r\n      lightBlue6: 'rgba(3,155,229 ,1)',\r\n      red3: 'rgba(229,115,115 ,1)',\r\n      deepOrange4: 'rgba(255,112,67 ,1)'\r\n    }\r\n    \r\n    function cajaWeekChart(data) {\r\n      var canvas = $(\"#ganancias-chart\");\r\n      var chartOptions = {\r\n        type: 'bar',\r\n        data: {\r\n          labels: data.labels,\r\n          datasets: [{\r\n            label: \"Valores\",\r\n            data: data.values,\r\n            backgroundColor: [colors.lightBlue6, colors.lightBlue6, colors.blue7, window.chartColors.blue,window.chartColors.green, colors.blueGreen, window.chartColors.red,window.chartColors.red,  window.chartColors.blue],\r\n          }]\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          maintainAspectRatio: false,\r\n          scales: {\r\n            yAxes: [{\r\n              ticks: {\r\n                callback: function (label, index, labels) {\r\n                  if (label == '' || label == null) label = 0;\r\n                  return \"RD$ \" + CurrencyFormat(label);\r\n                }\r\n              }\r\n            }],\r\n            xAxes: [{\r\n              ticks: {\r\n                callback: function (label, index, labels) {\r\n                  return label.replace(/_/g, \" \");\r\n                }\r\n              }\r\n            }]\r\n          },\r\n          tooltips: {\r\n            callbacks: {\r\n              label: function (tooltipItem, data) {\r\n                return \"RD$ \" + CurrencyFormat(tooltipItem.yLabel);\r\n              }\r\n            }\r\n          },\r\n          title: {\r\n            display: true,\r\n            text: \"Datos del ultimo cierre. hecho por \" + data.autor + \" el dia \" + data.fecha\r\n          }\r\n        }\r\n      };\r\n      var mychart = new Chart(canvas, chartOptions);\r\n    }\r\n    \r\n    function yearChart(gastos,ganancias) {\r\n      var $canvas = $(\"#ganancias-mes-chart\");\r\n      var data = {\r\n          labels: meses,\r\n          datasets: [{\r\n            label: \"Gastos\",\r\n            backgroundColor: window.chartColors.red,\r\n            borderColor: window.chartColors.red,\r\n            data: gastos,\r\n            fill: false,\r\n          }, {\r\n            label: \"Banco(Ganancias)\",\r\n            fill: false,\r\n            backgroundColor: window.chartColors.blue,\r\n            borderColor: window.chartColors.blue,\r\n            data: ganancias,\r\n          }]\r\n        };\r\n    \r\n        var options = {\r\n          responsive: true,\r\n          maintainAspectRatio: false,\r\n          scales: {\r\n            yAxes: [{\r\n              ticks: {\r\n                callback: function (label, index, labels) {\r\n                  return \"RD$ \" + CurrencyFormat(label);\r\n                }\r\n              }\r\n            }]\r\n          },\r\n          tooltips: {\r\n            callbacks: {\r\n              label: function (tooltipItem, data) {\r\n                return \"RD$ \" + CurrencyFormat(tooltipItem.yLabel);\r\n              }\r\n            }\r\n          },\r\n          title: {\r\n            display: true,\r\n            text: \"Registros de cierre Este ultimo año\"\r\n          }\r\n        }\r\n    \r\n      var chart = new Chart($canvas, {\r\n        type: 'line',\r\n        data: data,\r\n        options: options\r\n      });\r\n    \r\n    }\r\n    \r\n    var cierre = { \r\n      autor: \"\",\r\n      banco: 0,\r\n      dinero_real_en_caja: 0,\r\n      fecha : '',\r\n      pago_de_facturas: 0,\r\n      pagos_de_extras: 0,\r\n      pagos_en_efectivo:0,\r\n      pagos_via_banco:0,\r\n      total_de_ingresos: 0,\r\n      total_descuadre:0 }\r\n    \r\n    var appVistaDetalle = new Vue({\r\n      el: '#app-vista-detalle',\r\n      data: {\r\n        cierre: cierre,\r\n      },\r\n    \r\n      filters: {\r\n        currencyFormat: function(number){\r\n          return \"RD$ \"+ CurrencyFormat(number);\r\n        }\r\n      },\r\n      methods:{\r\n        print: function(){\r\n          print()\r\n        }\r\n      }\r\n    })\r\n  })()\r\n}\r\n","if (isCurrentPage(\"notificaciones\")) {\r\n  (function () {\r\n    var RetirementReport = new Vue({\r\n      el: '#retiros',\r\n      data: {\r\n        table: '',\r\n        tableHTML: '',\r\n        between: {\r\n          first_date: '',\r\n          second_date: ''\r\n        }\r\n      },\r\n      mounted: function () {\r\n        if (currentPage == 'notificaciones') {\r\n          this.getReport();\r\n        }\r\n      },\r\n\r\n      methods: {\r\n        getReport: function () {\r\n          var self = this;\r\n          var form = 'data=' + JSON.stringify(this.between)\r\n          axios.post(BASE_URL + 'contract/getCancelations/', form)\r\n            .then(function (res) {\r\n              self.fillTable(res.data.content)\r\n            })\r\n        },\r\n\r\n        fillTable: function (content) {\r\n          var $table = $('#cancelation-table')\r\n          $table.bootstrapTable('destroy');\r\n          $table.find('tbody').html(content);\r\n          $table.bootstrapTable();\r\n          $table.find('tbody').css({\r\n            display: \"table-row-group\"\r\n          });\r\n        }\r\n      }\r\n    })\r\n  })()\r\n}","if (isCurrentPage(\"notificaciones\")) {\r\n  (function () {\r\n    var ticketListView = new Vue({\r\n      el: '#averias-list-view',\r\n      data: {\r\n        dataSearch: {\r\n          text: '',\r\n          state: 'por reparar',\r\n        },\r\n        tickets: [],\r\n        hide: false\r\n      },\r\n\r\n      mounted: function () {\r\n        this.itemClickListener();\r\n        var self = this\r\n        busAveria.$on('tickets-listed', function () {\r\n          self.itemClickListener()\r\n        });\r\n      },\r\n\r\n      methods: {\r\n        search: function () {\r\n          var self = this;\r\n          var form = 'data=' + JSON.stringify(this.dataSearch);\r\n          var send = axios.post(BASE_URL + 'api/averias/search', form);\r\n\r\n          send.then(function (res) {\r\n            self.fillAveriasList(res.data);\r\n          })\r\n\r\n          send.catch(function () {\r\n            console.error(res.data.mensaje);\r\n          })\r\n\r\n        },\r\n\r\n        fillAveriasList: function ($content) {\r\n          $('#averias-list').html($content);\r\n          ticketListView.itemClickListener();\r\n        },\r\n\r\n        itemClickListener: function () {\r\n          $('#averias-list-view .averia-item').on('click', function () {\r\n            var id_averia = $(this).find('.code').text().trim();\r\n            ticketView.getTicket(id_averia);\r\n          })\r\n        }\r\n      }\r\n    });\r\n\r\n    var emptyTicket = {\r\n      \"id_averia\": \"\",\r\n      \"id_cliente\": \"\",\r\n      \"cliente\": \"\",\r\n      \"direccion\": \"\",\r\n      \"descripcion\": \"\",\r\n      \"celular\": \"\",\r\n      \"fecha\": \"\",\r\n      \"estado\": \"\",\r\n      \"fecha_reparacion\": \"\",\r\n      \"tecnico\": \"\",\r\n      \"codigo\": '',\r\n    }\r\n\r\n    var ticketView = new Vue({\r\n      el: '#ticket-view',\r\n\r\n      data: {\r\n        classes: {\r\n          hide: true\r\n        },\r\n        mode: {\r\n          newComment: false,\r\n          edit: false,\r\n        },\r\n        new_comment: '',\r\n        comments: [],\r\n        ticket: emptyTicket\r\n      },\r\n      created: function () {\r\n        $('#ticket-view').removeClass('invisible')\r\n      },\r\n\r\n      methods: {\r\n        getTicket: function (id_averia) {\r\n          var form = 'data=' + JSON.stringify({\r\n            id_averia: id_averia\r\n          })\r\n          var send = axios.post(BASE_URL + 'api/averias/get_averia', form);\r\n\r\n          send.then(function (res) {\r\n            var data = res.data;\r\n            ticketView.classes.hide = false;\r\n            ticketListView.hide = true;\r\n            ticketView.ticket = data.ticket;\r\n            ticketView.comments = data.comments;\r\n          })\r\n        },\r\n\r\n        quit: function () {\r\n          this.ticket = emptyTicket;\r\n          this.comments = null;\r\n          this.classes.hide = true;\r\n          this.closeCommentMode();\r\n          ticketListView.hide = false;\r\n        },\r\n\r\n        print: function () {\r\n          print();\r\n        },\r\n\r\n        startComment: function () {\r\n          this.mode.newComment = true;\r\n        },\r\n\r\n        addComment: function () {\r\n          var form = getForm({\r\n            id_averia: this.ticket.id_averia,\r\n            descripcion: this.new_comment\r\n          });\r\n          var send = axios.post(BASE_URL + 'api/averias/add_comment', form);\r\n          var self = this;\r\n          send.then(function (res) {\r\n            self.getComments();\r\n            self.closeCommentMode()\r\n            displayMessage(res.data.mensaje);\r\n          });\r\n        },\r\n\r\n        _deleteComment: function (e) {\r\n          var commentItem = e.target.parentNode.parentNode\r\n          var idComment = e.target.parentNode.attributes['data-id'].value\r\n          var self = this;\r\n          commentItem.classList.add('to-delete');\r\n\r\n          swal({\r\n              title: 'Está Seguro?',\r\n              text: \"Seguro de que eliminar este reporte?\",\r\n              type: 'warning',\r\n              showCancelButton: true,\r\n              confirmButtonText: 'Eliminar',\r\n              cancelButtonText: 'Cancelar'\r\n            })\r\n            .then(function () {\r\n              self.deleteComment(idComment);\r\n              commentItem.classList.remove('to-delete')\r\n            })\r\n            .catch(function () {\r\n              commentItem.classList.remove('to-delete')\r\n            })\r\n        },\r\n\r\n        deleteComment: function (idComment) {\r\n          var self = this;\r\n          var form = getForm({\r\n            id_reporte: idComment\r\n          });\r\n          var send = axios.post(BASE_URL + 'api/averias/delete_comment', form);\r\n\r\n          send.then(function (res) {\r\n            self.getComments();\r\n            displayMessage(res.data.mensaje);\r\n          });\r\n        },\r\n\r\n        editComment: function () {\r\n\r\n        },\r\n\r\n        closeCommentMode: function () {\r\n          this.mode.newComment = false;\r\n          this.new_comment = '';\r\n        },\r\n\r\n        getComments: function () {\r\n          var form = getForm({\r\n            id_averia: this.ticket.id_averia\r\n          });\r\n          var send = axios.post(BASE_URL + 'api/averias/get_comments', form);\r\n          var self = this\r\n          send.then(function (res) {\r\n            self.comments = res.data.comments;\r\n          });\r\n        },\r\n\r\n        updateDescription: function () {\r\n          this.updateTicket(['id_averia', 'descripcion', 'tecnico', 'estado', 'fecha_reparacion']);\r\n        },\r\n\r\n        updateState: function () {\r\n          if (this.ticket.estado == 'por reparar') {\r\n            this.ticket.fecha_reparacion = ''\r\n          } else {\r\n            this.ticket.fecha_reparacion = moment().format('YYYY-MM-DD');\r\n          }\r\n        },\r\n\r\n        updateTicket: function (fields) {\r\n          this.closeEditMode();\r\n          var form = getForm(this.getFields(fields));\r\n          var send = axios.post(BASE_URL + 'api/averias/update_averia', form);\r\n\r\n          send.then(function (res) {\r\n            ticketListView.search();\r\n            displayMessage(res.data.mensaje)\r\n          })\r\n        },\r\n\r\n        deleteTicket: function () {\r\n          console.info('deleted');\r\n        },\r\n\r\n        closeEditMode: function () {\r\n          this.mode.edit = false;\r\n        },\r\n\r\n        enterEditMode: function () {\r\n          this.mode.edit = true;\r\n        },\r\n\r\n        getFields: function (fields) {\r\n          var selectedFields = {};\r\n          var self = this;\r\n          fields.forEach(function (field) {\r\n            selectedFields[field] = self.ticket[field]\r\n          }, this);\r\n\r\n          return selectedFields;\r\n        }\r\n\r\n      }\r\n    })\r\n\r\n    function getForm(object) {\r\n      return \"data=\" + JSON.stringify(object);\r\n    }\r\n  })()\r\n}"]}