function connectAndSend(e,t,n,a,o,i,r){r||(r=lineLoad);var s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");s.onreadystatechange=function(){4==s.readyState&&200==s.status?(r&&r(!0),null!=a?a(s.responseText,n):t&&displayMessage(s.responseText),null!=i&&i()):4!=s.readyState&&r&&r(!1)},s.open("POST",BASE_URL+e,!0),s.setRequestHeader("content-type","application/x-www-form-urlencoded"),s.send(o)}function displayMessage(e){var t,n="rgba(102,187,106,1)";e.includes(MESSAGE_ERROR)?n="rgba(244,67,54,1)":e.includes(MESSAGE_INFO)&&(n="rgba(2,136,209,1)"),(t=$(".toast")).find("span").html(e).css({background:n}),t.css({display:"flex"}),t.animate({opacity:"1"},500,function(){setTimeout(function(){t.animate({opacity:"0"}),t.css({display:"none"})},2e3)})}function displayAlert(e,t,n){e||(e="Revise"),t||(t="Asegurate de llenar todos los campos"),n||(n="error"),swal({title:e,text:t,type:n,confirmButtonClass:"btn",buttonsStyling:!1})}function fillCurrentTable(e,t,n){$("html").removeClass("gr__icpayment-soft_com"),(void 0!=n?$("#"+n+" tbody"):$('[class*="t-"] tbody')).html(e),t&&t()}function fillClientTable(e,t){fillCurrentTable(e,t,"t-clients")}function fillCajaTable(e,t){fillCurrentTable(e,t,"caja"),t&&t()}function fillPaymentsList(e,t){$(".list-nextpayments").html(e)}function fillAveriasList(e,t){$("#averias-list").html(e),t()}function fillInstallationsList(e,t){$("#installations-list").html(e),t()}function makeContractList(e,t){if("nada"!=e){for(var n,a,o,i,r=JSON.parse(e),s="<option value=''>--Selecciona--</option>",l=r.cliente,c=0;c<r.contratos.length;c++)n=r.contratos[c].id_contrato,a=r.contratos[c].servicio,o=r.contratos[c].nombre_equipo,i=r.contratos[c].router,s+="<option value='"+n+"' data-service='"+a+"'  data-equipment='"+o+"'  data-e-mac='"+r.contratos[c].mac_equipo+"'",s+=" data-router='"+i+"'  data-r-mac='"+r.contratos[c].mac_router+"' data-code='"+r.contratos[c].codigo+"'>",s+=n+"</option>";$("#extra-client-contract").html(s),$("#extra-client-name").val(l.nombres+" "+l.apellidos)}else displayMessage(MESSAGE_ERROR+" Este cliente no existe revise su cedula por favor")}function clearTbody(e){$(e).html("")}function fillClientFields(e,t){if("nada"!=e){var n=JSON.parse(e);$("#averias-client-id").val(n.id_cliente),$("#a-client").val(n.nombres+" "+n.apellidos)}else displayMessage(MESSAGE_ERROR+" Este cliente no existe revise su cedula por favor")}function makePaymentList(e,t){var n=$("#select-pay-until");n.html(e),n.parent().removeClass("hide"),n.change(),t&&t()}function isEmpty(e,t){for(var n=0;n<e.length;n++)if(null==e[n]||""==e[n])return!0;return!1}function updateSaldo(e){e="RD$ "+CurrencyFormat(e),$(".current-saldo").text(e)}function updateCount(e){$(".total-rows").html(e)}function validateModal(e){var t=$(e+" .password"),n=$(e+" .password-confirm"),a=$(e+" .save");n.on("blur keyup",function(){validateTwo(t,n,a)}),a.on("click",clearForm(e))}function validateTwo(e,t,n){t.val()==e.val()&&""!=t.val()?(replaceClass(e.parent(),"has-error","has-success"),replaceClass(t.parent(),"has-error","has-success"),n.removeAttr("disabled","")):(replaceClass(e.parent(),"has-success","has-error"),replaceClass(t.parent(),"has-success","has-error"),n.attr("disabled",""))}function validateThis(){var e=$(".password"),t=$(".password-confirm"),n=$(".save");e.on("blur keyup",function(){validateTwo(e,t,n)}),t.on("blur keyup",function(){validateTwo(e,t,n)})}function clearForm(e){$(e+" input").val("")}function deleteValidation(e,t,n){var a;this.text=t;var o=this;e.on("keyup",function(e){e.stopImmediatePropagation(),(a=$(this).val()).toLowerCase()==o.text.toLowerCase()?n.removeAttr("disabled"):n.attr("disabled","")})}function replaceClass(e,t,n){e.addClass(n),e.removeClass(t)}function makeServiceCardClickable(){var e=$(".service-card"),t=$("#btn-print-requirement");e.on("click",function(n){n.stopImmediatePropagation();var a=$(this),o=a.attr("data-id"),i=a.attr("data-payment"),r=t.attr("data-href");e.removeClass("selected"),a.addClass("selected"),t.attr("href",r+"/"+o),$("#contract-client-payment").val(i)})}function verifyContractStatus(){$(".td-estado").each(function(e,t){var n=$(this),a=n.text().trim();"activo"==a?n.css({color:"green"}):"saldado"==a&&n.parents("tr").css({background:"rgba(22,255,0,.3)",color:"#555"})})}function verifyClientStatus(){$("td").each(function(e,t){var n=$(this),a=n.text().trim();"no activo"==a?n.css({color:"rgba(200,0,0,.7)"}):"activo"==a&&n.css({color:"green"})})}function heavyLoad(e){function t(){$(".heavy-loader").remove(),$("body").css({overflow:"auto"})}if(e)t();else{var n='<div class="heavy-loader active">';n+='<div class="circle-load"></div>',n+='<div class="message">Preparando los datos</div>',n+="</div>",$("body").append(n),$("body").css({overflow:"hidden"});var a=$(".heavy-loader .message");setTimeout(function(){a.text("Configurando...")},4e3),setTimeout(function(){a.text("Casi Terminamos ...")},8e3),setTimeout(function(){a.text("Terminando el proceso ..."),t()},15e3)}}function lineLoad(e){e?$(".loader").css({display:"none"}):$(".loader").css({display:"block"})}function validatePassword(e){e.length>8&&alert("mayor a 8"),/\d/.test(e)&&alert("tiene digito"),/[a-z]/.test(e)&&alert("tiene minisculas"),/[A-Z]/.test(e)&&alert("tiene mayusculas")}function newContractFunctions(){function e(e){o.removeAttr("checked","").html(""),a.attr("checked","").html("&#10004;"),n.removeClass("print-requirement"),i.removeClass("hide"),r.addClass("hide")}function t(e){a.removeAttr("checked","").html(""),o.attr("checked","").html("&#10004;"),n.addClass("print-requirement"),r.removeClass("hide"),i.addClass("hide")}$("#btn-print-contract");var n=$(".note-item"),a=$("#radio-new-contract"),o=$("#radio-just-requirement"),i=$(".contract-controls"),r=$(".requirement-controls");a.parents("label").on("click",function(){e()}),o.parents("label").on("click",function(){t()})}function detailsFunctions(){var e=$(".btn-small");$('[role="tab"]').on("click",function(){var e=$(this).attr("href");"#payments"==e||"#detalles_de_pago"==e||"descuento"==e?$(".payment-controls").addClass("visible"):$(".payment-controls").removeClass("visible"),getTabControls($(this))}),$(".btn-small").on("click",function(){e.removeClass("selected"),$(this).addClass("selected")})}function getTabControls(e){var t=e.attr("aria-controls");$(".dynamic-controls").text(t)}function notificationFunctions(){var e=$("#btn-see-averias"),t=$("#btn-see-pagos"),n=($("#btn-see-caja"),$("#btn-see-deudores")),a=$("#btn-see-day-incomes"),o=$(".layout-container");e.on("click",function(){o.animate({left:"-100%"},200)}),t.on("click",function(){o.animate({left:"0"},200)}),n.on("click",function(){o.animate({left:"-200%"},200)}),a.on("click",function(){o.animate({left:"-300%"},200)})}function checkWindowSize(){var e=window.screen.availWidth;document.querySelector(".brand span").textContent=e<=1100?"P":"Payment"}function initComponents(){switch(currentPage){case"home":initClientHandlers();break;case"administrador":initAdminHandlers();break;case"clientes":initClientHandlers();break;case"servicios":initServicesHandlers();break;case"nuevo_contrato":initContractHandlers(),Contracts.getIpList();break;case"detalles":initPaymentsHandlers(),detailHandlers();break;case"contratos":initContractHandlers(),initClientHandlers();break;case"cuenta":acountHandlers();break;case"secciones":sectionHandlers()}initCajaHandlers(),initGlobalHandlers()}function initGlobalHandlers(){var e=$("#a-client-dni");"notificaciones"==currentPage&&(Generals.count_table("averias"),$("#averias-view-mode").on("change",function(e){e.stopImmediatePropagation(),Damages.getAll()}),$("#installations-view-mode").on("change",function(e){e.stopImmediatePropagation(),Installations.getAll()}),$("tbody").css({display:"table-row-group"})),"contratos"==currentPage&&initContractHandlers(),$("#btn-save-averia").on("click",function(e){e.stopImmediatePropagation(),Damages.add()}),e.on("keyup",function(t){if(isComplete(e)){var n=getVal(e);Clients.getOne(n,fillClientFields)}else $("#a-client").val("")}),$(".btn-update-averia").on("click",function(e){e.stopImmediatePropagation();var t=$(this).parents(".averia-item").find(".code");t=t.text().trim(),Damages.update(t)}),$(".btn-update-installation").on("click",function(e){e.stopImmediatePropagation();var t=$(this).parents(".averia-item").find(".code");t=t.text().trim(),Installations.update(t)}),$("#extra-controls").on("click",function(e){e.stopImmediatePropagation(),Contracts.btnExtraPressed($(this))}),$("#extra-client-dni").on("keydown",function(e){var t=e.which,n=$(this).val();13==t&&Contracts.getAllOfClient(n)})}function initAdminHandlers(){userTable.init(),$("#btn-save-user").on("click",function(e){e.stopImmediatePropagation(),Users.add()}),$("#btn-update-user").on("click",function(e){e.stopImmediatePropagation(),Users.update()}),$(".delete-user").on("click",function(e){e.preventDefault();var t=$(this).parents("tr").find(".user-id").text().trim(),n=userTable.getRow(t);swal({title:"Está Seguro?",text:"Desea Eliminar al Usuario "+n.nombres+" "+n.apellidos+"?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){Users.delete(t)})}),$(".edit-user").on("click",function(e){e.preventDefault();var t=$(this).attr("data-user-id"),n=userTable.getRow(t);$("#e-nickname").val(n.nick),$("#e-name").val(n.nombres),$("#e-lastname").val(n.apellidos),$("#e-dni").val(n.cedula),$("#e-type").val(n.tipo_codigo),$("#update-user-modal").modal()}),$("#update-company-data").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),Company.update()}),$("#btn-update-settings").on("click",function(e){e.preventDefault(),Settings.update()}),$("#btn-save-averia").on("click",function(e){e.stopImmediatePropagation(),Damages.add()})}function initCajaHandlers(){"administrador"==currentPage&&cajaTable.init();var e=$("#btn-add-money"),t=$("#btn-retire-money"),n=$("#caja-user"),a=$("#caja-date");e.on("click",function(e){e.stopImmediatePropagation(),Caja.add()}),t.on("click",function(e){e.stopImmediatePropagation(),Caja.retire()}),a.on("change",function(e){e.stopImmediatePropagation(),Caja.search()}),n.on("change",function(e){e.stopImmediatePropagation(),Caja.search()})}function initClientHandlers(){"clientes"==currentPage&&clientTable.init(),$("#btn-save-client").on("click",function(e){e.stopImmediatePropagation(),Clients.add()}),$("#update-client").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=clientTable.getId();t&&Clients.getOne(t,Clients.receiveForEdit)}),$("#client-searcher").on("keyup",function(e){e.stopImmediatePropagation();var t=$(this).val();Generals.search(t,"clientes",clientTable.refresh)}),$("#client-searcher-newcontract").on("keyup",function(e){e.stopImmediatePropagation();var t=$(this).val();isEmpty([t])?clearTbody(".lobby-results"):Generals.search(t,"clientes",clientTable.refresh)}),$("#delete-client").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=clientTable.getSelectedRow();t&&swal({title:"Está Seguro?",text:"Desea Eliminar al(la) Cliente "+t.nombres+" "+t.apellidos+"?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){Generals.deleteRow(t.id,"clientes")})})}function initServicesHandlers(){serviceTable.init(),$("#btn-save-service").on("click",function(e){e.stopImmediatePropagation(),Services.add()}),$("#delete-service").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=serviceTable.getId();t&&swal({title:"Está Seguro?",text:"Desea Eliminar  el Servicio?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){Generals.deleteRow(t,"servicios")})}),$("#edit-service").on("click",function(e){e.preventDefault();var t=serviceTable.getSelectedRow();$("#u-service-id").val(t.id),$("#u-service-name").val(t.nombre),$("#u-service-description").val(t.descripcion),$("#u-service-monthly-payment").val(Number(t.mensualidad.replace("RD$ ",""))),$("#u-service-type").val(t.tipo),$("#update-service-modal").modal()}),$("#btn-update-service").on("click",function(e){e.stopImmediatePropagation(),Services.update()}),$("#service-searcher").on("keyup",function(e){e.stopImmediatePropagation();var t=$(this).val();Generals.search(t,"servicios",serviceTable.refresh,initServicesHandlers)})}function initContractHandlers(){contractTable.init(),Contracts.getAll(),$("#btn-save-contract").on("click",function(e){e.stopImmediatePropagation(),Contracts.add()}),$("#btn-add-extra").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),Contracts.callExtra()}),$("#contract-searcher").on("keyup",function(e){e.stopImmediatePropagation();var t=$(this).val();Generals.search(t,"v_contratos",contractTable.refresh,null)}),$("#btn-cancel-contract").on("click",function(e){e.preventDefault();var t=contractTable.getSelectedRow();if(t){$(".cancel-name").text(t.cliente);var n=$(".confirmed-data"),a=$("#cancel-permanently");deleteValidation(n,t.cliente,a),$("#cancel-print").attr("href",BASE_URL+"process/getcancelcontract/"+t.id_cliente+"/"+t.id),$("#cancel-contract-modal").modal(),a.on("click",function(e){e.stopImmediatePropagation(),Contracts.cancel(),a.attr("disable")}),n.val(""),a.attr("disabled","")}}),$("#btn-update-contract").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=contractTable.getId();t&&Contracts.getOne(t,Contracts.recieve)}),$("#select-contract-sector").on("change",function(e){e.stopImmediatePropagation(),Contracts.getIpList()}),$("#select-pay-until").on("change",function(e){e.stopImmediatePropagation();var t=$("#select-pay-until :selected").attr("data-contract"),n=$(this).val();Payments.updateUntil(t,n)})}function initPaymentsHandlers(){function e(e){var t=$(".payment-mode.selected").text(),n={id:e.toString(),module:"pagos"},a="data="+JSON.stringify({tipo:t})+"&extra_info="+JSON.stringify(n),o=axios.post(BASE_URL+"process/axiosupdate",a);o.then(function(e){}),o.catch(function(){console.log(error)})}paymentTable.init(),ran||(Payments.getAll(),ran=!0),$("#btn-pay").on("click",function(t){t.stopImmediatePropagation();var n=paymentTable.getId();n&&(Payments.update(n),e(n))}),$("#select-contract").on("change",function(e){e.stopImmediatePropagation(),Payments.getAll()}),$("#payment-detail-box").collapse()}function detailHandlers(){$("#btn-save-observations").on("click",function(e){e.stopImmediatePropagation(),Payments.saveAbonos()}),$("#btn-save-real-observations").on("click",function(e){e.stopImmediatePropagation(),Clients.saveObservations()}),detailsContractTable.init()}function acountHandlers(){var e=$("#acount-user-id"),t=$("#acount-current-password"),n=$("#update-user-data"),a=$("#acount-new-password");$("#acount-current-password").on("keyup",function(n){n.stopImmediatePropagation(),Users.confirmPassword(e.val(),t.val())}),n.on("click",function(n){n.preventDefault(),n.stopImmediatePropagation(),Users.updatePassword(e.val(),t.val(),a.val())})}function sectionHandlers(){ran||(Sections.getIps(),ran=!0),$("#btn-add-section").on("click",function(e){e.stopImmediatePropagation(),Sections.add()}),$("#select-sector").on("change",function(e){e.stopImmediatePropagation(),Sections.getIps()})}function loginHandlers(){$("#send-credentials").on("click",function(e){e.stopImmediatePropagation(),Session.login()}),$("#user-input").on("keydown",function(e){e.stopImmediatePropagation(),loginLibrary.sendToLogin(e)}),$("#password-input").on("keydown",function(e){e.stopImmediatePropagation(),loginLibrary.sendToLogin(e)}),$("a[href]").on("click",function(){loginLibrary.loading();var e=$(this);try{e.attr("target"),setTimeout(function(){$(".loader").css({display:"none"})},3e3)}catch(e){throw e}})}function isCurrentPage(e){return getCurrentPage()==e}function getCurrentPage(){var e=$("title").text().split(" ");return e=e[4].toLowerCase().trim()}function cierreCajaFunctions(){function e(e){for(var t=0,n=0;n<e.length;n++)t+=parseFloat(e[n]);return t}function t(){return moment().format("YYYY-MM-DD")}var n={total1:0,total5:0,total10:0,total20:0,total25:0,total50:0,total100:0,total200:0,total500:0,total1000:0,total2000:0},a={fecha:"",descripcion:"",monto:""},o=[{fecha:t(),descripcion:"hola",monto:2e3,id_gasto:1}],i=$("#autor-cierre").text().trim(),r=new Vue({el:"#app-cierre",data:{isHide:!1,fecha:t(),data_cierre:{autor:i,pagos_facturas:0,pagos_extras:0,pagos_efectivo:0,pagos_banco:0,total_ingresos:0,efectivo_caja:0,total_descuadre:0,total_gastos:0,banco:0},conteo:n,suma:0,gasto:a,gastos:o},mounted:function(){this.getGastos(),this.setIngresos()},created:function(){$(".will-load").css({visibility:"visible"})},filters:{currencyFormat:function(e){return CurrencyFormat(e)}},methods:{changeTotal:function(e){var t=e.srcElement.attributes["data-unit"].value,a=e.srcElement.value;n["total"+t]=a*t*1},addGasto:function(e){var n=this.gasto;n.fecha=t(),form="data="+JSON.stringify(n);var a=axios.post(BASE_URL+"caja/add_gasto",form);a.then(function(e){var t=e.data;displayMessage(t.mensaje),r.fillGastos(t.gastos,"normal"),r.setGastoTotal(t.total_gastos)}),a.catch(function(){console.log(error)})},fillGastos:function(e,t){"group"==t?null!=e||e.length>0?(console.log([e]),r.gastos=e):r.gastos=[]:r.gastos.push(JSON.parse(e)[0])},setGastoTotal:function(e){this.data_cierre.total_gastos=e},getGasto:function(e){var t=this.gasto;form="data="+JSON.stringify(t),connectAndSend("caja/get_gasto",!1,null,r.fillGastos,form,null,null)},deleteGasto:function(e){console.log(e);var n=e.target;"i"==n.localname&&(n=n.parentElement);var a=n.attributes["data-id"].value;swal({title:"Está Seguro?",text:"Seguro de que quiere eliminar este gasto?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){form="data="+JSON.stringify({id:a,fecha:t()});var e=axios.post(BASE_URL+"caja/delete_gasto",form);e.then(function(e){var t=e.data;displayMessage(t.mensaje),r.fillGastos(t.gastos,"group"),r.setGastoTotal(t.total_gastos)}),e.catch(function(e){})})},getGastos:function(){var e={fecha:t()};form="data="+JSON.stringify(e);var n=axios.post(BASE_URL+"caja/get_gastos",form);n.then(function(e){var t=e.data;displayMessage(t.mensaje),r.fillGastos(t.gastos,"group"),r.setGastoTotal(t.total_gastos)}),n.catch(function(){console.log(error)})},setIngresos:function(){var e="data="+JSON.stringify({fecha:t()}),n=this.data_cierre,a=axios.post(BASE_URL+"caja/get_ingresos",e);a.then(function(e){var t=e.data;n.pagos_facturas=t.pagos_facturas,n.pagos_extras=t.pagos_extras,n.pagos_efectivo=t.pagos_efectivo,n.pagos_banco=t.pagos_banco,n.total_ingresos=parseFloat(t.pagos_facturas)+parseFloat(n.pagos_extras),n.total_descuadre=-n.pagos_efectivo+n.efectivo_caja}),a.catch(function(){console.log(error)})},cerrarCaja:function(){var e=this,t=this.data_cierre;window.cierre=t,0!=t.total_descuadre?swal({title:"Está Seguro?",text:"Hay un descuadre en la caja, quiere hacer el cierre de todos modos?",type:"warning",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(function(){e.cerrar(t)}):e.cerrar(t)},cerrar:function(e){e.fecha=t(),form="data="+JSON.stringify(e);var n=axios.post(BASE_URL+"caja/add_cierre",form);n.then(function(t){displayMessage(t.data.mensaje),self.isHide=!0,appSummaryView.isHide=!1,appSummaryView.cierre=e,$("#app-cierre").addClass("hide"),$(".top-nav").addClass("hide"),$("#print-view").css({visibility:"visible"})}),n.catch(function(){console.log(error)})}},computed:{getTotal:function(t){var a=n,o=this.data_cierre,i=e([a.total1,a.total5,a.total10,a.total20,a.total25,a.total50,a.total100,a.total200,a.total500,a.total1000,a.total2000]);return this.suma=i,o.efectivo_caja=i.toFixed(2),o.total_descuadre=parseFloat(-o.pagos_efectivo)+parseFloat(o.efectivo_caja),o.banco=parseFloat(o.pagos_banco)+parseFloat(o.pagos_efectivo)-parseFloat(o.total_gastos),this.suma},decimals:function(){["pagos_facturas","pagos_extra","pagos_efectivo","pagos_banco","total_ingresos","efectivo_caja","total_descuadre","total_gasto","banco"].forEach(function(e){this.data_cierre[e]=this.data_cierre[e].toFixed(2)},this)}}});window.appCierre=r}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Sweetalert2=t()}(this,function(){"use strict";var e={title:"",titleText:"",text:"",html:"",type:null,customClass:"",target:"body",animation:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonColor:"#3085d6",confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonColor:"#aaa",cancelButtonClass:null,buttonsStyling:!0,reverseButtons:!1,focusCancel:!1,showCloseButton:!1,showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageClass:null,timer:null,width:500,padding:20,background:"#fff",input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:null,inputAttributes:{},inputValidator:null,progressSteps:[],currentProgressStep:null,progressStepsDistance:"40px",onOpen:null,onClose:null,useRejections:!0},t=function(e){var t={};for(var n in e)t[e[n]]="swal2-"+e[n];return t},n=t(["container","shown","iosfix","modal","overlay","fade","show","hide","noanimation","close","title","content","buttonswrapper","confirm","cancel","icon","image","input","file","range","select","radio","checkbox","textarea","inputerror","validationerror","progresssteps","activeprogressstep","progresscircle","progressline","loading","styled"]),a=t(["success","warning","info","question","error"]),o=function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;for(var n="#",a=0;a<3;a++){var o=parseInt(e.substr(2*a,2),16);n+=("00"+(o=Math.round(Math.min(Math.max(0,o+o*t),255)).toString(16))).substr(o.length)}return n},i=function(e){var t=[];for(var n in e)-1===t.indexOf(e[n])&&t.push(e[n]);return t},r={previousWindowKeyDown:null,previousActiveElement:null,previousBodyPadding:null},s=function(e){if("undefined"!=typeof document){var t=document.createElement("div");t.className=n.container,t.innerHTML=l;var a=document.querySelector(e.target);a||(console.warn("SweetAlert2: Can't find the target \""+e.target+'"'),a=document.body),a.appendChild(t);var o=d(),i=A(o,n.input),r=A(o,n.file),s=o.querySelector("."+n.range+" input"),c=o.querySelector("."+n.range+" output"),u=A(o,n.select),p=o.querySelector("."+n.checkbox+" input"),f=A(o,n.textarea);return i.oninput=function(){z.resetValidationError()},i.onkeydown=function(t){setTimeout(function(){13===t.keyCode&&e.allowEnterKey&&(t.stopPropagation(),z.clickConfirm())},0)},r.onchange=function(){z.resetValidationError()},s.oninput=function(){z.resetValidationError(),c.value=s.value},s.onchange=function(){z.resetValidationError(),s.previousSibling.value=s.value},u.onchange=function(){z.resetValidationError()},p.onchange=function(){z.resetValidationError()},f.oninput=function(){z.resetValidationError()},o}console.error("SweetAlert2 requires document to initialize")},l=('\n <div role="dialog" aria-labelledby="'+n.title+'" aria-describedby="'+n.content+'" class="'+n.modal+'" tabindex="-1">\n   <ul class="'+n.progresssteps+'"></ul>\n   <div class="'+n.icon+" "+a.error+'">\n     <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n   </div>\n   <div class="'+n.icon+" "+a.question+'">?</div>\n   <div class="'+n.icon+" "+a.warning+'">!</div>\n   <div class="'+n.icon+" "+a.info+'">i</div>\n   <div class="'+n.icon+" "+a.success+'">\n     <div class="swal2-success-circular-line-left"></div>\n     <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n     <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n     <div class="swal2-success-circular-line-right"></div>\n   </div>\n   <img class="'+n.image+'">\n   <h2 class="'+n.title+'" id="'+n.title+'"></h2>\n   <div id="'+n.content+'" class="'+n.content+'"></div>\n   <input class="'+n.input+'">\n   <input type="file" class="'+n.file+'">\n   <div class="'+n.range+'">\n     <output></output>\n     <input type="range">\n   </div>\n   <select class="'+n.select+'"></select>\n   <div class="'+n.radio+'"></div>\n   <label for="'+n.checkbox+'" class="'+n.checkbox+'">\n     <input type="checkbox">\n   </label>\n   <textarea class="'+n.textarea+'"></textarea>\n   <div class="'+n.validationerror+'"></div>\n   <div class="'+n.buttonswrapper+'">\n     <button type="button" class="'+n.confirm+'">OK</button>\n     <button type="button" class="'+n.cancel+'">Cancel</button>\n   </div>\n   <button type="button" class="'+n.close+'" aria-label="Close this dialog">&times;</button>\n </div>\n').replace(/(^|\n)\s*/g,""),c=function(){return document.body.querySelector("."+n.container)},d=function(){return c()?c().querySelector("."+n.modal):null},u=function(){return d().querySelectorAll("."+n.icon)},p=function(e){return c()?c().querySelector("."+e):null},f=function(){return p(n.title)},v=function(){return p(n.content)},m=function(){return p(n.image)},h=function(){return p(n.buttonswrapper)},g=function(){return p(n.progresssteps)},b=function(){return p(n.validationerror)},y=function(){return p(n.confirm)},k=function(){return p(n.cancel)},w=function(){return p(n.close)},C=function(e){var t=[y(),k()];e&&t.reverse();var n=t.concat(Array.prototype.slice.call(d().querySelectorAll('button, input:not([type=hidden]), textarea, select, a, *[tabindex]:not([tabindex="-1"])')));return i(n)},x=function(e,t){return!!e.classList&&e.classList.contains(t)},S=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},_=function(e,t){e&&t&&t.split(/\s+/).filter(Boolean).forEach(function(t){e.classList.add(t)})},$=function(e,t){e&&t&&t.split(/\s+/).filter(Boolean).forEach(function(t){e.classList.remove(t)})},A=function(e,t){for(var n=0;n<e.childNodes.length;n++)if(x(e.childNodes[n],t))return e.childNodes[n]},T=function(e,t){t||(t="block"),e.style.opacity="",e.style.display=t},E=function(e){e.style.opacity="",e.style.display="none"},P=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},M=function(e){return e.offsetWidth||e.offsetHeight||e.getClientRects().length},L=function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},j=function(e){if(!M(e))return!1;if("function"==typeof MouseEvent){var t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});e.dispatchEvent(t)}else if(document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!1,!1),e.dispatchEvent(n)}else document.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()},I=function(){var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",animation:"animationend"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return t[n];return!1}(),B=function(){if(window.onkeydown=r.previousWindowKeyDown,r.previousActiveElement&&r.previousActiveElement.focus){var e=window.scrollX,t=window.scrollY;r.previousActiveElement.focus(),e&&t&&window.scrollTo(e,t)}},R=function(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},O=function(e,t){var n=void 0;return function(){var a=function(){n=null,e()};clearTimeout(n),n=setTimeout(a,t)}},D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},V=H({},e),N=[],U=void 0,G=function(t){var o=d()||s(t);for(var i in t)e.hasOwnProperty(i)||"extraParams"===i||console.warn('SweetAlert2: Unknown parameter "'+i+'"');o.style.width="number"==typeof t.width?t.width+"px":t.width,o.style.padding=t.padding+"px",o.style.background=t.background;for(var r=o.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),l=0;l<r.length;l++)r[l].style.background=t.background;var c=f(),p=v(),b=h(),C=y(),x=k(),S=w();if(t.titleText?c.innerText=t.titleText:c.innerHTML=t.title.split("\n").join("<br>"),t.text||t.html){if("object"===D(t.html))if(p.innerHTML="",0 in t.html)for(var A=0;A in t.html;A++)p.appendChild(t.html[A].cloneNode(!0));else p.appendChild(t.html.cloneNode(!0));else t.html?p.innerHTML=t.html:t.text&&(p.textContent=t.text);T(p)}else E(p);t.showCloseButton?T(S):E(S),o.className=n.modal,t.customClass&&_(o,t.customClass);var M=g(),j=parseInt(null===t.currentProgressStep?z.getQueueStep():t.currentProgressStep,10);t.progressSteps.length?(T(M),P(M),j>=t.progressSteps.length&&console.warn("SweetAlert2: Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach(function(e,a){var o=document.createElement("li");if(_(o,n.progresscircle),o.innerHTML=e,a===j&&_(o,n.activeprogressstep),M.appendChild(o),a!==t.progressSteps.length-1){var i=document.createElement("li");_(i,n.progressline),i.style.width=t.progressStepsDistance,M.appendChild(i)}})):E(M);for(var I=u(),B=0;B<I.length;B++)E(I[B]);if(t.type){var R=!1;for(var O in a)if(t.type===O){R=!0;break}if(!R)return console.error("SweetAlert2: Unknown alert type: "+t.type),!1;var H=o.querySelector("."+n.icon+"."+a[t.type]);if(T(H),t.animation)switch(t.type){case"success":_(H,"swal2-animate-success-icon"),_(H.querySelector(".swal2-success-line-tip"),"swal2-animate-success-line-tip"),_(H.querySelector(".swal2-success-line-long"),"swal2-animate-success-line-long");break;case"error":_(H,"swal2-animate-error-icon"),_(H.querySelector(".swal2-x-mark"),"swal2-animate-x-mark")}}var V=m();t.imageUrl?(V.setAttribute("src",t.imageUrl),T(V),t.imageWidth?V.setAttribute("width",t.imageWidth):V.removeAttribute("width"),t.imageHeight?V.setAttribute("height",t.imageHeight):V.removeAttribute("height"),V.className=n.image,t.imageClass&&_(V,t.imageClass)):E(V),t.showCancelButton?x.style.display="inline-block":E(x),t.showConfirmButton?L(C,"display"):E(C),t.showConfirmButton||t.showCancelButton?T(b):E(b),C.innerHTML=t.confirmButtonText,x.innerHTML=t.cancelButtonText,t.buttonsStyling&&(C.style.backgroundColor=t.confirmButtonColor,x.style.backgroundColor=t.cancelButtonColor),C.className=n.confirm,_(C,t.confirmButtonClass),x.className=n.cancel,_(x,t.cancelButtonClass),t.buttonsStyling?(_(C,n.styled),_(x,n.styled)):($(C,n.styled),$(x,n.styled),C.style.backgroundColor=C.style.borderLeftColor=C.style.borderRightColor="",x.style.backgroundColor=x.style.borderLeftColor=x.style.borderRightColor=""),!0===t.animation?$(o,n.noanimation):_(o,n.noanimation)},q=function(e,t){var a=c(),o=d();e?(_(o,n.show),_(a,n.fade),$(o,n.hide)):$(o,n.fade),T(o),a.style.overflowY="hidden",I&&!x(o,n.noanimation)?o.addEventListener(I,function e(){o.removeEventListener(I,e),a.style.overflowY="auto"}):a.style.overflowY="auto",_(document.documentElement,n.shown),_(document.body,n.shown),_(a,n.shown),F(),Y(),r.previousActiveElement=document.activeElement,null!==t&&"function"==typeof t&&setTimeout(function(){t(o)})},F=function(){null===r.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(r.previousBodyPadding=document.body.style.paddingRight,document.body.style.paddingRight=R()+"px")},K=function(){null!==r.previousBodyPadding&&(document.body.style.paddingRight=r.previousBodyPadding,r.previousBodyPadding=null)},Y=function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!x(document.body,n.iosfix)){var e=document.body.scrollTop;document.body.style.top=-1*e+"px",_(document.body,n.iosfix)}},W=function(){if(x(document.body,n.iosfix)){var e=parseInt(document.body.style.top,10);$(document.body,n.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},z=function e(){for(var t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];if(void 0===a[0])return console.error("SweetAlert2 expects at least 1 attribute!"),!1;var s=H({},V);switch(D(a[0])){case"string":s.title=a[0],s.html=a[1],s.type=a[2];break;case"object":H(s,a[0]),s.extraParams=a[0].extraParams,"email"===s.input&&null===s.inputValidator&&(s.inputValidator=function(e){return new Promise(function(t,n){/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(e)?t():n("Invalid email address")})}),"url"===s.input&&null===s.inputValidator&&(s.inputValidator=function(e){return new Promise(function(t,n){/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(e)?t():n("Invalid URL")})});break;default:return console.error('SweetAlert2: Unexpected type of argument! Expected "string" or "object", got '+D(a[0])),!1}G(s);var l=c(),u=d();return new Promise(function(t,a){s.timer&&(u.timeout=setTimeout(function(){e.closeModal(s.onClose),s.useRejections?a("timer"):t({dismiss:"timer"})},s.timer));var i=function(e){if(!(e=e||s.input))return null;switch(e){case"select":case"textarea":case"file":return A(u,n[e]);case"checkbox":return u.querySelector("."+n.checkbox+" input");case"radio":return u.querySelector("."+n.radio+" input:checked")||u.querySelector("."+n.radio+" input:first-child");case"range":return u.querySelector("."+n.range+" input");default:return A(u,n.input)}},p=function(){var e=i();if(!e)return null;switch(s.input){case"checkbox":return e.checked?1:0;case"radio":return e.checked?e.value:null;case"file":return e.files.length?e.files[0]:null;default:return s.inputAutoTrim?e.value.trim():e.value}};s.input&&setTimeout(function(){var e=i();e&&S(e)},0);for(var x=function(n){s.showLoaderOnConfirm&&e.showLoading(),s.preConfirm?s.preConfirm(n,s.extraParams).then(function(a){e.closeModal(s.onClose),t(a||n)},function(t){e.hideLoading(),t&&e.showValidationError(t)}):(e.closeModal(s.onClose),t(s.useRejections?n:{value:n}))},P=function(n){var i=n||window.event,r=i.target||i.srcElement,l=y(),c=k(),d=l&&(l===r||l.contains(r)),u=c&&(c===r||c.contains(r));switch(i.type){case"mouseover":case"mouseup":s.buttonsStyling&&(d?l.style.backgroundColor=o(s.confirmButtonColor,-.1):u&&(c.style.backgroundColor=o(s.cancelButtonColor,-.1)));break;case"mouseout":s.buttonsStyling&&(d?l.style.backgroundColor=s.confirmButtonColor:u&&(c.style.backgroundColor=s.cancelButtonColor));break;case"mousedown":s.buttonsStyling&&(d?l.style.backgroundColor=o(s.confirmButtonColor,-.2):u&&(c.style.backgroundColor=o(s.cancelButtonColor,-.2)));break;case"click":if(d&&e.isVisible())if(e.disableButtons(),s.input){var f=p();s.inputValidator?(e.disableInput(),s.inputValidator(f,s.extraParams).then(function(){e.enableButtons(),e.enableInput(),x(f)},function(t){e.enableButtons(),e.enableInput(),t&&e.showValidationError(t)})):x(f)}else x(!0);else u&&e.isVisible()&&(e.disableButtons(),e.closeModal(s.onClose),s.useRejections?a("cancel"):t({dismiss:"cancel"}))}},L=u.querySelectorAll("button"),I=0;I<L.length;I++)L[I].onclick=P,L[I].onmouseover=P,L[I].onmouseout=P,L[I].onmousedown=P;w().onclick=function(){e.closeModal(s.onClose),s.useRejections?a("close"):t({dismiss:"close"})},l.onclick=function(n){n.target===l&&s.allowOutsideClick&&(e.closeModal(s.onClose),s.useRejections?a("overlay"):t({dismiss:"overlay"}))};var B=h(),R=y(),H=k();s.reverseButtons?R.parentNode.insertBefore(H,R):R.parentNode.insertBefore(R,H);var V=function(e,t){for(var n=C(s.focusCancel),a=0;a<n.length;a++){(e+=t)===n.length?e=0:-1===e&&(e=n.length-1);var o=n[e];if(M(o))return o.focus()}},N=function(n){var o=n||window.event,i=o.keyCode||o.which;if(-1!==[9,13,32,27,37,38,39,40].indexOf(i)){for(var r=o.target||o.srcElement,l=C(s.focusCancel),c=-1,d=0;d<l.length;d++)if(r===l[d]){c=d;break}9===i?(o.shiftKey?V(c,-1):V(c,1),o.stopPropagation(),o.preventDefault()):37===i||38===i||39===i||40===i?document.activeElement===R&&M(H)?H.focus():document.activeElement===H&&M(R)&&R.focus():13===i||32===i?-1===c&&s.allowEnterKey&&(j(s.focusCancel?H:R),o.stopPropagation(),o.preventDefault()):27===i&&!0===s.allowEscapeKey&&(e.closeModal(s.onClose),s.useRejections?a("esc"):t({dismiss:"esc"}))}};window.onkeydown&&window.onkeydown.toString()===N.toString()||(r.previousWindowKeyDown=window.onkeydown,window.onkeydown=N),s.buttonsStyling&&(R.style.borderLeftColor=s.confirmButtonColor,R.style.borderRightColor=s.confirmButtonColor),e.hideLoading=e.disableLoading=function(){s.showConfirmButton||(E(R),s.showCancelButton||E(h())),$(B,n.loading),$(u,n.loading),R.disabled=!1,H.disabled=!1},e.getTitle=function(){return f()},e.getContent=function(){return v()},e.getInput=function(){return i()},e.getImage=function(){return m()},e.getButtonsWrapper=function(){return h()},e.getConfirmButton=function(){return y()},e.getCancelButton=function(){return k()},e.enableButtons=function(){R.disabled=!1,H.disabled=!1},e.disableButtons=function(){R.disabled=!0,H.disabled=!0},e.enableConfirmButton=function(){R.disabled=!1},e.disableConfirmButton=function(){R.disabled=!0},e.enableInput=function(){var e=i();if(!e)return!1;if("radio"===e.type)for(var t=e.parentNode.parentNode.querySelectorAll("input"),n=0;n<t.length;n++)t[n].disabled=!1;else e.disabled=!1},e.disableInput=function(){var e=i();if(!e)return!1;if(e&&"radio"===e.type)for(var t=e.parentNode.parentNode.querySelectorAll("input"),n=0;n<t.length;n++)t[n].disabled=!0;else e.disabled=!0},e.recalculateHeight=O(function(){var e=d();if(e){var t=e.style.display;e.style.minHeight="",T(e),e.style.minHeight=e.scrollHeight+1+"px",e.style.display=t}},50),e.showValidationError=function(e){var t=b();t.innerHTML=e,T(t);var a=i();a&&(S(a),_(a,n.inputerror))},e.resetValidationError=function(){var t=b();E(t),e.recalculateHeight();var a=i();a&&$(a,n.inputerror)},e.getProgressSteps=function(){return s.progressSteps},e.setProgressSteps=function(e){s.progressSteps=e,G(s)},e.showProgressSteps=function(){T(g())},e.hideProgressSteps=function(){E(g())},e.enableButtons(),e.hideLoading(),e.resetValidationError();for(var F=["input","file","range","select","radio","checkbox","textarea"],K=void 0,Y=0;Y<F.length;Y++){var W=n[F[Y]],z=A(u,W);if(K=i(F[Y])){for(var J in K.attributes)if(K.attributes.hasOwnProperty(J)){var Q=K.attributes[J].name;"type"!==Q&&"value"!==Q&&K.removeAttribute(Q)}for(var Z in s.inputAttributes)K.setAttribute(Z,s.inputAttributes[Z])}z.className=W,s.inputClass&&_(z,s.inputClass),E(z)}var X=void 0;switch(s.input){case"text":case"email":case"password":case"number":case"tel":case"url":(K=A(u,n.input)).value=s.inputValue,K.placeholder=s.inputPlaceholder,K.type=s.input,T(K);break;case"file":(K=A(u,n.file)).placeholder=s.inputPlaceholder,K.type=s.input,T(K);break;case"range":var ee=A(u,n.range),te=ee.querySelector("input"),ne=ee.querySelector("output");te.value=s.inputValue,te.type=s.input,ne.value=s.inputValue,T(ee);break;case"select":var ae=A(u,n.select);if(ae.innerHTML="",s.inputPlaceholder){var oe=document.createElement("option");oe.innerHTML=s.inputPlaceholder,oe.value="",oe.disabled=!0,oe.selected=!0,ae.appendChild(oe)}X=function(e){for(var t in e){var n=document.createElement("option");n.value=t,n.innerHTML=e[t],s.inputValue===t&&(n.selected=!0),ae.appendChild(n)}T(ae),ae.focus()};break;case"radio":var ie=A(u,n.radio);ie.innerHTML="",X=function(e){for(var t in e){var a=document.createElement("input"),o=document.createElement("label"),i=document.createElement("span");a.type="radio",a.name=n.radio,a.value=t,s.inputValue===t&&(a.checked=!0),i.innerHTML=e[t],o.appendChild(a),o.appendChild(i),o.for=a.id,ie.appendChild(o)}T(ie);var r=ie.querySelectorAll("input");r.length&&r[0].focus()};break;case"checkbox":var re=A(u,n.checkbox),se=i("checkbox");se.type="checkbox",se.value=1,se.id=n.checkbox,se.checked=Boolean(s.inputValue);var le=re.getElementsByTagName("span");le.length&&re.removeChild(le[0]),(le=document.createElement("span")).innerHTML=s.inputPlaceholder,re.appendChild(le),T(re);break;case"textarea":var ce=A(u,n.textarea);ce.value=s.inputValue,ce.placeholder=s.inputPlaceholder,T(ce);break;case null:break;default:console.error('SweetAlert2: Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'+s.input+'"')}"select"!==s.input&&"radio"!==s.input||(s.inputOptions instanceof Promise?(e.showLoading(),s.inputOptions.then(function(t){e.hideLoading(),X(t)})):"object"===D(s.inputOptions)?X(s.inputOptions):console.error("SweetAlert2: Unexpected type of inputOptions! Expected object or Promise, got "+D(s.inputOptions))),q(s.animation,s.onOpen),s.allowEnterKey?V(-1,1):document.activeElement&&document.activeElement.blur(),c().scrollTop=0,"undefined"==typeof MutationObserver||U||(U=new MutationObserver(e.recalculateHeight)).observe(u,{childList:!0,characterData:!0,subtree:!0})})};return z.isVisible=function(){return!!d()},z.queue=function(e){N=e;var t=function(){N=[],document.body.removeAttribute("data-swal2-queue-step")},n=[];return new Promise(function(e,a){!function o(i,r){i<N.length?(document.body.setAttribute("data-swal2-queue-step",i),z(N[i]).then(function(e){n.push(e),o(i+1,r)},function(e){t(),a(e)})):(t(),e(n))}(0)})},z.getQueueStep=function(){return document.body.getAttribute("data-swal2-queue-step")},z.insertQueueStep=function(e,t){return t&&t<N.length?N.splice(t,0,e):N.push(e)},z.deleteQueueStep=function(e){void 0!==N[e]&&N.splice(e,1)},z.close=z.closeModal=function(e){var t=c(),a=d();if(a){$(a,n.show),_(a,n.hide),clearTimeout(a.timeout),B();var o=function(){t.parentNode&&t.parentNode.removeChild(t),$(document.documentElement,n.shown),$(document.body,n.shown),K(),W()};I&&!x(a,n.noanimation)?a.addEventListener(I,function e(){a.removeEventListener(I,e),x(a,n.hide)&&o()}):o(),null!==e&&"function"==typeof e&&setTimeout(function(){e(a)})}},z.clickConfirm=function(){return y().click()},z.clickCancel=function(){return k().click()},z.showLoading=z.enableLoading=function(){var e=d();e||z("");var t=h(),a=y(),o=k();T(t),T(a,"inline-block"),_(t,n.loading),_(e,n.loading),a.disabled=!0,o.disabled=!0},z.setDefaults=function(t){if(!t||"object"!==(void 0===t?"undefined":D(t)))return console.error("SweetAlert2: the argument for setDefaults() is required and has to be a object");for(var n in t)e.hasOwnProperty(n)||"extraParams"===n||(console.warn('SweetAlert2: Unknown parameter "'+n+'"'),delete t[n]);H(V,t)},z.resetDefaults=function(){V=H({},e)},z.noop=function(){},z.version="6.6.5",z.default=z,z}),window.Sweetalert2&&(window.sweetAlert=window.swal=window.Sweetalert2);var activo='<i class="material-icons">fiber_smart_record</i> Activo',noActivo='<i class="material-icons">remove_circle_outline</i> No Activo',suspendido='<i class="material-icons">report_problem</i> Suspendido',enCorte='<i class="material-icons">signal_wifi_off</i> En Corte',mora='<i class="material-icons">timer</i> Mora',exonerado='<i class="material-icons">local_offer</i> Exonerado',filtros=[[activo,noActivo],activo,noActivo],estadosiconos={activo:{text:activo,class:"done"},"no activo":{text:noActivo,class:"error"},"en corte":{text:enCorte,class:"en-corte"},mora:{text:mora,class:"mora"},suspendido:{text:suspendido,class:"suspendido"},exonerado:{text:exonerado,class:"exonerado"}},estados=["activo","no activo","en corte","mora","suspendido","exonerado"],selectState="<select>";estados.forEach(function(e){selectState+="<option value='"+e+"'>"+e+"</value>"},this),selectState+="<select>";var clientTable={init:function(e){var t=this;this.el=$("#t-clients"),this.el.bootstrapTable(),this.el.find("tbody").css({display:"table-row-group"}),t.el.addClass("innertable"),e&&t.el.bootstrapTable("selectPage",e),clientTable.detectClicks(),this.el.on("all.bs.table",function(e,t){console.log("hello"),clientTable.changeStates()})},getSelectedRow:function(){return this.el.bootstrapTable("getSelections")[0]},getId:function(){var e=this;return $.map(e.el.bootstrapTable("getSelections"),function(e){return e.id})},refresh:function(e,t){var n=clientTable.el.bootstrapTable("getOptions");clientTable.el.bootstrapTable("destroy"),clientTable.el.find("tbody").html(e),clientTable.init(n.pageNumber)},detectClicks:function(){var e=$("#get-details"),t=$("#client-new-contract"),n=$("#go-new-contract");this.el.on("check.bs.table",function(){var a=clientTable.getId();e.attr("href",BASE_URL+"process/details/"+a),t.attr("href",BASE_URL+"process/newcontract/"+a),n&&("ir a pagos"==n.text().toLowerCase()?n.attr("href",BASE_URL+"process/details/"+a+"/pagos"):n.attr("href",BASE_URL+"process/newcontract/"+a))}),this.el.on("uncheck.bs.table",function(){e.attr("href","#"),t.attr("href","#"),n.attr("href","#")})},changeStates:function(){$(".estado-cliente").on("click",function(e){e.stopImmediatePropagation();var t,n=$(selectState),a=$(this),o=a.parent().find(".id_cliente").text().trim();a.html(n),n.focus(),n.on("change blur",function(e){t=n.val(),a.html(estadosiconos[t].text),a.removeClass(" done error en-corte exonerado mora suspendido"),a.addClass(estadosiconos[t].class),Clients.updateState({id:o,estado:t})}),n.on("click",function(e){e.stopImmediatePropagation()})})}};window.getHeight=function(){return 450};var serviceTable={init:function(e){var t=this;this.el=$("#t-services"),this.el.bootstrapTable(),this.el.find("tbody").css({display:"table-row-group"}),e&&t.el.bootstrapTable("selectPage",e),t.el.addClass("innertable")},getSelectedRow:function(){return this.el.bootstrapTable("getSelections")[0]},getId:function(){var e=this;return $.map(e.el.bootstrapTable("getSelections"),function(e){return e.id})},refresh:function(e,t){var n=serviceTable.el.bootstrapTable("getOptions");serviceTable.el.bootstrapTable("destroy"),serviceTable.el.find("tbody").html(e),serviceTable.init(n.pageNumber)}},contractTable={init:function(){var e=this;this.el=$("#t-contracts"),this.el.bootstrapTable(),this.el.find("tbody").css({display:"table-row-group"}),e.el.addClass("innertable"),contractTable.detectClicks()},getSelectedRow:function(){return this.el.bootstrapTable("getSelections")[0]},getId:function(){var e=this;return $.map(e.el.bootstrapTable("getSelections"),function(e){return e.id})},refresh:function(e,t){contractTable.el.bootstrapTable("destroy"),contractTable.el.find("tbody").html(e),contractTable.init(),t&&t()},detectClicks:function(){var e=$("#btn-pay-view"),t=$("#btn-see-in-detail"),n=$("#btn-see-contract");this.el.on("check.bs.table",function(){var a=contractTable.getSelectedRow();e.attr("href",BASE_URL+"process/details/"+a.id_cliente+"/pagos"),t.attr("href",BASE_URL+"process/details/"+a.id_cliente),n.attr("href",BASE_URL+"process/getrequirements/"+a.id+"/contrato")}),this.el.on("uncheck.bs.table",function(){e.attr("href","#"),t.attr("href","#"),n.attr("href","#")})}},userTable={init:function(e){this.el=$("#t-users"),this.el.bootstrapTable(),this.el.find("tbody").css({display:"table-row-group"}),this.el.addClass("innertable"),e&&this.el.bootstrapTable("selectPage",e)},getSelectedRow:function(){return this.el.bootstrapTable("getSelections")[0]},getId:function(){var e=this;return $.map(e.el.bootstrapTable("getSelections"),function(e){return e.id})},getRow:function(e){return this.el.bootstrapTable("getRowByUniqueId",e)},refresh:function(e,t){var n=userTable.el.bootstrapTable("getOptions");userTable.el.bootstrapTable("destroy"),userTable.el.find("tbody").html(e),userTable.init(n.pageNumber),t&&t()}},cajaTable={init:function(e){this.el=$("#caja"),this.el.bootstrapTable(),this.el.find("tbody").css({display:"table-row-group"}),this.el.addClass("innertable"),e&&this.el.bootstrapTable("selectPage",e)},getSelectedRow:function(){return this.el.bootstrapTable("getSelections")[0]},refresh:function(e,t){var n=cajaTable.el.bootstrapTable("getOptions");cajaTable.el.bootstrapTable("destroy"),cajaTable.el.find("tbody").html(e),cajaTable.init(n.PageNumber),t&&t()}},paymentTable={init:function(e,t){this.el=$("#t-pagos"),this.el.bootstrapTable(),this.el.find("tbody").css({display:"table-row-group"}),this.el.addClass("innertable"),this.detailBox=$("#payment-detail-box"),this.detailBox.hide(),t&&t.id_contrato==paymentTable.getRow().id_contrato&&this.el.bootstrapTable("selectPage",e),this.el.on("dbl-click-row.bs.table",function(e,t,n,a){}),this.el.on("click-row.bs.table",function(e,t,n,a){e.stopImmediatePropagation();var o=paymentTable;$(".payment-mode").removeClass("selected"),n.hasClass("selected")||"no pagado"!=t.estado?o.detailBox.hide():(o.detailBox.show(),o.detailBox.collapse()),console.log(t.estado)}),paymentTable.clickEvents(),this.el.on("all.bs.table",function(e,t){paymentTable.clickEvents()})},getSelectedRow:function(){return this.el.bootstrapTable("getSelections")[0]},getId:function(){var e=this;return $.map(e.el.bootstrapTable("getSelections"),function(e){return e.id})},getRow:function(e){return this.el.bootstrapTable("getData")[0]},refresh:function(e,t){var n=paymentTable.el.bootstrapTable("getOptions"),a=paymentTable.getRow();paymentTable.el.bootstrapTable("destroy"),paymentTable.el.find("tbody").html(e),paymentTable.init(n.pageNumber,a),t&&t()},filter:function(e,t){"estado"==t?this.el.bootstrapTable("filterBy",{estado:e}):(hoy=moment().format("YYYY-MM-DD"),this.el.bootstrapTable("filterBy",{fecha_limite:[]}))},clickEvents:function(){$(".payment-advanced").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),console.log("yo si funciono");var t=$(this).attr("data-id-pago").trim();t&&Payments.getOne(t,Payments.receiveForEdit)}),$(".payment-delete").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=$(this).attr("data-id-pago").trim();t&&swal({title:"Está Seguro?",text:"Seguro de que quiere deshacer este pago?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){Payments.removePayment(t)})})}},detailsContractTable={init:function(e){this.el=$("#d-contracts"),this.el.bootstrapTable(),this.el.find("tbody").css({display:"table-row-group"}),this.el.addClass("innertable"),e&&this.el.bootstrapTable("selectPage",e)},getSelectedRow:function(){return this.el.bootstrapTable("getSelections")[0]},refresh:function(e,t){var n=detailsContractTable.el.bootstrapTable("getOptions");detailsContractTable.el.bootstrapTable("destroy"),detailsContractTable.el.find("tbody").html(e),detailsContractTable.init(n.pageNumber),t&&t()}},BASE_URL=window.location.origin+"/";(BASE_URL.includes("localhost")||BASE_URL.includes("ngrok.io"))&&(BASE_URL+="icpayment/");var MESSAGE_SUCCESS='<i class="material-icons">done_all</i>',MESSAGE_ERROR='<i class="material-icons">error_outline</i>',MESSAGE_INFO='<i class="material-icons">info_outline</i>',SUMMER_SKY="#1FA1D0";$(function(){$('[data-toggle="tooltip"]').tooltip()}),$(function(){var e=$("title").text().split(" ");"administrador"==(e=e[4].toLowerCase().trim())&&function(){validateModal("#new-user-modal"),validateModal("#update-user-modal")}(),function(){function e(){t=new Date,sDate=t.toString(),a.text(t.getDate()),o.text("De "+l[t.getMonth()]+" de "+t.getFullYear()),i.text(s[t.getDay()]),n=moment().format("LTS"),r.html(n)}var t,n,a=$(".day"),o=$(".month-year"),i=$(".dayweek"),r=$(".hour span"),s=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],l=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];setInterval(e,1e3)}(),function(){$("#company-section").animate({left:"0"},200),$(".administrador .aside-buttons a").on("click",function(e){e.preventDefault();var t=$(this).attr("href").slice(1);null!=t&&($(".company-details").animate({left:"-110%"},200),$("#"+t+".company-details").animate({left:"0"},200))}),$("#acount-section").length>0&&$("#acount-section").animate({left:"0"},200)}(),function(){var e=$(".user-info-tip");$(".profile-picture"),$(".btn-more").on("click",function(t){e.toggleClass("visible")})}(),makeServiceCardClickable(),detailsFunctions(),notificationFunctions(),newContractFunctions(),checkWindowSize(),$(window).on("resize",function(){checkWindowSize()})}),$("#search-client-modal").on("show.bs.modal",function(e){var t=$(e.relatedTarget);clientTable.init();var n=t.find(".section-title").text();n||(n="Buscar Cliente"),"registrar pago"==n.toLowerCase().trim()?buttonText="ir a Pagos":buttonText="Nuevo Contrato";var a=$(this);a.find(".modal-title").text(n),a.find(".modal-footer .save").text(buttonText),a.find("tbody").html("")}),$("#select-extra-service").on("change",function(){var e=$("#select-extra-service :selected").attr("data-payment");$("#extra-service-cost").val(e)}),$("#extra-client-contract").on("change",function(){var e=$("#extra-client-contract :selected");$("#extra-contract-service").val(e.attr("data-service")),$("#extra-equipo").val(e.attr("data-equipment")),$("#extra-router").val(e.attr("data-router")),$("#extra-e-mac").val(e.attr("data-e-mac")),$("#extra-r-mac").val(e.attr("data-r-mac")),$("#extra-code").val(e.attr("data-code"))}),$(".columns-right").removeClass("pull-right"),$("#select-contract-code").on("change",function(){var e=$("#select-contract-code :selected");$("#contract-ip").val(e.attr("data-ip-final")),$("#u-contract-ip").val(e.attr("data-ip-final"))}),$(window).scroll(function(){position=$(window).scrollTop(),movableNav=$(".aside-nav-container, .aside-wide-left"),position>=70?movableNav.addClass("moved"):movableNav.removeClass("moved")});var Users={add:function(){var e,t,n,a,o,i,r;isEmpty([t=$("#user-nickname").val(),n=$("#user-password").val(),a=$("#user-name").val(),o=$("#user-lastname").val(),i=getVal($("#user-dni")),r=$("#user-type").val()])?displayAlert("Revise","LLene todos los campos por favor","error"):(e="nickname="+t+"&password="+n+"&name="+a+"&lastname="+o,connectAndSend("user/addnew",!0,initAdminHandlers,null,e+="&dni="+i+"&type="+r,Users.getAll))},update:function(){var e,t,n,a,o,i;isEmpty([t=$("#e-nickname").val(),n=$("#e-name").val(),a=$("#e-lastname").val(),o=$("#e-dni").val(),i=$("#e-type").val()])?displayAlert("Revise","LLene todos los campos por favor","error"):(e="nickname="+t+"&name="+n+"&lastname="+a,connectAndSend("user/update",!0,initAdminHandlers,null,e+="&dni="+o+"&type="+i,Users.getAll))},getAll:function(){connectAndSend("user/getusers",!1,initAdminHandlers,userTable.refresh,"table=users",null)},delete:function(e){connectAndSend("user/deleteuser",!0,initAdminHandlers,null,"user_id="+e,Users.getAll)},confirmPassword:function(e,t){function n(e){var t=$("#acount-new-password"),n=$("#acount-confirm-new-password");1==e?(t.removeAttr("disabled"),n.removeAttr("disabled"),validateThis()):(t.attr("disabled",!0),n.attr("disabled",!0))}connectAndSend("user/confirm_password",!1,!1,n,"user_id="+e+"&current_password="+t,null,null)},updatePassword:function(e,t,n){var a="user_id="+e+"&current_password="+t+"&new_password="+n;connectAndSend("user/update_password",!1,!1,Users.passwordChanged,a,null,heavyLoad)},passwordChanged:function(e){1==e?(displayMessage(MESSAGE_SUCCESS+"Contraseña Cambiada con exito"),setTimeout(function(){window.location.href=BASE_URL+"app/logout"},3e3)):displayMessage(MESSAGE_ERROR+" Error al cambiar de contraseña, revise la contraseña actual")}},Clients={add:function(){var e,t,n,a,o,i,r,s,l,c,d,u,p,f;t=$("#client-name").val(),n=$("#client-lastname").val(),a=getVal($("#client-dni")),o=getVal($("#client-phone")),i=$("#client-provincia").val(),r=$("#client-sector").val(),s=$("#client-street").val(),l=$("#client-house").val(),c=getVal($("#client-telephone")),d=$("#client-job").val(),u=getVal($("#client-job-telephone")),p=$("#client-salary").val(),f=moment().format("YYYY-MM-DD"),isEmpty([t,n,a,o,i,r,s,l,c])?displayAlert("Revise","LLene todos los campos por favor","error"):(e="nombres="+t+"&apellidos="+n+"&cedula="+a+"&celular="+o,e+="&provincia="+i+"&sector="+r+"&calle="+s+"&casa="+l+"&telefono="+c,e+="&lugar_trabajo="+d+"&tel_trabajo="+u+"&ingresos="+p+"&fecha_registro="+f,connectAndSend("process/add",!0,initClientHandlers,null,e+="&estado=no activo&tabla=clientes",Clients.getAll))},getAll:function(){connectAndSend("process/getall",!1,initClientHandlers,clientTable.refresh,"tabla=clientes",null)},getOne:function(e,t){form="tabla=clientes&id="+e,connectAndSend("process/getone",!1,initClientHandlers,t,form,null)},receiveForEdit:function(e){function t(){isEmpty([a.val(),o.val(),i.val(),r.val(),s.val(),l.val(),c.val(),d.val(),u.val()])?displayAlert("Revise","LLene todos los campos por favor","error"):(form="id="+id+"&nombres="+a.val()+"&apellidos="+o.val()+"&cedula="+getVal(i),form+="&celular="+getVal(r)+"&provincia="+s.val()+"&sector="+l.val()+"&calle="+c.val(),form+="&casa="+d.val()+"&telefono="+getVal(u)+"&lugar_trabajo="+p.val()+"&tel_trabajo =",form+=getVal(f)+"&tabla=clientes",form+="&ingresos="+v.val(),connectAndSend("process/update",!0,initClientHandlers,null,form,Clients.getAll))}var n=JSON.parse(e);this.id=n.id_cliente;var a=$("#u-client-name"),o=$("#u-client-lastname"),i=$("#u-client-dni"),r=$("#u-client-phone"),s=$("#u-client-provincia"),l=$("#u-client-sector"),c=$("#u-client-street"),d=$("#u-client-house"),u=$("#u-client-telephone"),p=$("#u-client-job"),f=$("#u-client-job-telephone"),v=$("#u-client-salary");a.val(n.nombres),o.val(n.apellidos),i.val(n.cedula),r.val(n.celular),s.val(n.provincia),l.val(n.sector),c.val(n.calle),d.val(n.casa),u.val(n.telefono),p.val(n.lugar_trabajo),f.val(n.tel_trabajo),v.val(n.salario),$("#update-client-modal").modal(),$("#btn-update-client").on("click",function(){t()})},saveObservations:function(){connectAndSend("process/update",!0,null,null,"observaciones="+$("#text-observations").val()+"&tabla=observaciones&id_cliente="+$("#detail-client-id").val(),null)},updateState:function(e){form="data="+JSON.stringify(e)+"&module=clientes&action=update",connectAndSend("process/getjson",!0,null,null,form,null)}},Generals={deleteRow:function(e,t){var n,a="tabla="+t+"&id="+e;switch(t){case"clientes":n=Clients.getAll;break;case"servicios":n=Services.getAll}connectAndSend("process/delete",!0,null,null,a,n)},search:function(e,t,n,a){void 0==a&&(a=initClientHandlers),void 0==n&&(n=fillCurrentTable);var o=e;null==o&&""==o||connectAndSend("process/search",!1,a,n,"tabla="+t+"&word="+o,null)},count_table:function(e){var t="tabla="+e,n=updateCount;"caja"==e&&(n=updateCajaCount),connectAndSend("process/count",!1,null,n,t,null)}},Services={add:function(){var e,t,n,a,o;isEmpty([t=$("#service-name").val(),n=$("#service-description").val(),a=$("#service-monthly-payment").val(),o=$("#service-type").val()])?displayAlert("Revise","LLene todos los campos por favor","error"):(e="nombre="+t+"&descripcion="+n+"&mensualidad="+a+"&tipo="+o,connectAndSend("process/add",!0,null,null,e+="&tabla=servicios",Services.getAll))},getAll:function(){connectAndSend("process/getall",!1,null,serviceTable.refresh,"tabla=servicios",null)},update:function(){var e,t,n,a,o,i;isEmpty([t=$("#u-service-id").val(),n=$("#u-service-name").val(),a=$("#u-service-description").val(),o=$("#u-service-monthly-payment").val(),i=$("#u-service-type").val()])?displayAlert("Revise","LLene todos los campos por favor","error"):(e="id_servicio="+t+"&nombre="+n+"&descripcion="+a+"&mensualidad="+o,connectAndSend("process/update",!0,null,null,e+="&tipo="+i+"&tabla=servicios",Services.getAll,heavyLoad))}},Contracts={add:function(){var e,t,n,a,o,i,r,s,l,c,d,u,p,f,v;t=$("#contract-client-id").val(),n=$("#contract-user-id").val(),a=$(".service-card.selected").attr("data-id"),i=$("#contract-client-date").val(),s=$("#contract-client-months").val(),l=$("#contract-equipment").val(),c=$("#contract-e-mac").val(),d=$("#contract-router").val(),u=$("#contract-r-mac").val(),f=$("#contract-equipment-model").val(),v=$("#contract-ip").val(),o=$("#select-contract-code").val(),r=$("#contract-client-payment").val(),p=moment(i).add(1,"months").format("YYYY-MM-DD"),isEmpty([t,n,a,i,s])?displayAlert("Revise","LLene todos los campos por favor","error"):(e="id_empleado="+n+"&id_cliente="+t+"&id_servicio="+a+"&codigo="+o+"&fecha="+i,e+="&duracion="+s+"&monto_total="+(Number(s)+1)*Number(r)+"&monto_pagado=0&ultimo_pago=null",e+="&mensualidad="+r+"&proximo_pago="+p+"&estado=activo&tabla=contratos",e+="&nombre_equipo="+l+"&mac_equipo="+c+"&router="+d+"&mac_router="+u,e+="&modelo="+f+"&ip="+v,connectAndSend("process/add",null,null,Contracts.getLast,e,null))},extend:function(e){connectAndSend("process/extend",!0,null,null,"id_contrato="+idContrator,null)},getAll:function(){connectAndSend("process/getall",!1,null,contractTable.refresh,"tabla=contratos",null)},getLast:function(e){e=JSON.parse(e),console.log(e),console.log(e.mensaje),displayMessage(e.mensaje),$("#btn-save-contract").attr("disabled",""),$("#btn-print-contract").removeAttr("disabled"),e.tabla_pagos&&makePaymentList(e.tabla_pagos)},callExtra:function(){var e=contractTable.getSelectedRow();e?($("#extra-client-dni").val(e.cedula),Contracts.getAllOfClient(e.cedula),$("#add-extra-modal").modal()):displayAlert("Revise","Seleccione el conrato primero","error")},cancel:function(){var e,t,n=contractTable.getSelectedRow(),a=!1,o=$("#cancelation-reason").val(),i=$("#check-penalty:checked").length;n.id?(i>0&&(a=!0),t=moment().format("YYYY-MM-DD"),e="id_contrato="+n.id+"&fecha="+t+"&id_cliente="+n.id_cliente,connectAndSend("process/cancel",!0,null,null,e+="&motivo="+o+"&penalidad="+a,Contracts.getAll)):displayMessage(MESSAGE_ERROR+" No hay contrato seleccionado")},getOne:function(e,t){form="tabla=contratos&id_contrato="+e,connectAndSend("process/getone",!1,null,t,form,null)},recieve:function(e){function t(e){var t=$("#check-change-ip:checked").length;form="id_contrato="+e+"&nombre_equipo="+a.val()+"&mac_equipo="+o.val(),form+="&router="+i.val()+"&mac_router="+r.val(),form+="&modelo="+s.val(),form+="&tabla=contratos",t>0&&(form+="&ip="+c.val()+"&codigo="+l.val()),connectAndSend("process/update",!0,null,null,form,Contracts.getAll)}var n=JSON.parse(e);this.id_contrato=n.id_contrato;var a=$("#u-contract-equipment"),o=$("#u-contract-e-mac"),i=$("#u-contract-router"),r=$("#u-contract-r-mac"),s=$("#u-contract-modelo"),l=$("#select-contract-code"),c=($("#check-change-ip"),$("#u-contract-ip"));a.val(n.nombre_equipo),o.val(n.mac_equipo),i.val(n.router),r.val(n.mac_router),s.val(n.modelo),c.val(n.ip),$("#update-contract-modal").modal(),$("#update-contract").on("click",function(e){e.stopImmediatePropagation(),t(id_contrato)})},getIpList:function(){function e(e){$("#select-contract-code").html(e)}connectAndSend("process/getall",!1,null,e,"id_seccion="+$("#select-contract-sector").val()+"&tabla=ip_list",null)},btnExtraPressed:function(e){switch(e.text().trim().toLowerCase()){case"mejorar":Contracts.upgrade();break;case"extender":Contracts.extend();break;case"guardar":Contracts.addExtra()}},upgrade:function(){var e,t,n,a;isEmpty([e=$("#extra-client-contract").val(),n=(t=$(".service-card.selected")).attr("data-id"),a=t.attr("data-payment")])?displayAlert("Revise","asegurate de llenar todos los datos y seleccionar el servicio","info"):connectAndSend("process/upgrade",!0,initGlobalHandlers,null,"id_contrato="+e+"&id_servicio="+n+"&cuota="+a,Contracts.getAll)},addExtra:function(){var e,t,n,a,o,i,r,s;t=$("#extra-client-contract").val(),a=$("#extra-service-cost").val(),n=$("#select-extra-service").val(),o=$("#extra-equipo").val(),i=$("#extra-e-mac").val(),r=$("#extra-router").val(),s=$("#extra-r-mac").val(),isEmpty([t,n,a])?displayAlert("revise","asegurate de llenar todos los datos y seleccionar el servicio","info"):(e="id_contrato="+t+"&costo_servicio="+a+"&nombre_servicio="+n,connectAndSend("process/addextra",!0,initGlobalHandlers,null,e+="&nombre_equipo="+o+"&mac_equipo="+i+"&router="+r+"&mac_router="+s,Contracts.getAll))},extend:function(){var e,t;e=$("#extra-client-contract").val(),isEmpty([t=$("#extra-extension-months").val(),e])?displayAlert("revise","asegurate de llenar todos los datos y seleccionar el servicio","info"):connectAndSend("process/extend_contract",!0,initGlobalHandlers,null,"id_contrato="+e+"&duracion="+t,Contracts.getAll)},getAllOfClient:function(e){connectAndSend("process/data_for_extra",!1,null,makeContractList,"dni="+e,null)}},Payments={getAll:function(){var e=$("#select-contract").val();if(null!=e){var t="tabla=pagos&id="+e;connectAndSend("process/getall",!1,null,paymentTable.refresh,t,Payments.contractRefresh)}},update:function(e){connectAndSend("process/update",!0,null,null,"tabla=pagos&id="+e+"&estado=pagado&fecha_pago="+moment().format("YYYY-MM-DD")+"&id_contrato="+$("#select-contract").val(),Payments.getAll)},saveAbonos:function(){var e,t,n;t=$("#text-abono-detail").val(),n=$("#select-contract").val(),$inputAbono=$("#input-abono"),abono=$inputAbono.val(),e="observaciones="+t+"&abonos="+abono,connectAndSend("process/update",!0,null,null,e+="&contrato_abono="+n+"&tabla=abonos",Payments.getAll),$inputAbono.val("")},updateUntil:function(e,t){$("#select-contract").val(),connectAndSend("process/update",!0,null,null,"tabla=pagos_al_dia&id_ultimo_pago="+t+"&estado=pagado&id_contrato="+e,null,heavyLoad)},removePayment:function(e){connectAndSend("process/update",!0,null,null,"tabla=deshacer_pago&id_pago="+e,Payments.getAll)},contractRefresh:function(){var e="tabla=contratos_cliente&id="+$("#detail-client-id").val();connectAndSend("process/getall",!1,null,detailsContractTable.refresh,e,null)},getOne:function(e,t){form="tabla=pagos&id_pago="+e,connectAndSend("process/getone",!1,null,t,form,null)},receiveForEdit:function(e){function t(e){var t=moment().format("YYYY-MM-DD");form="id_pago="+e+"&id_contrato="+id_contrato+"&cuota="+i.val(),form+="&mora="+r.val()+"&monto_extra="+s.val(),form+="&total="+l.val()+"&descuento="+c.val()+"&razon_descuento="+d.val()+"&fecha_pago="+t,form+="&tabla=discount_pagos",connectAndSend("process/update",!0,null,null,form,Payments.getAll),u.hide()}var n=JSON.parse(e);this.id_contrato=n.id_contrato,this.id_pago=n.id_pago;var a=$("#payment-concept"),o=$("#payment-limit-date"),i=$("#payment-cuota"),r=$("#payment-mora"),s=$("#payment-extra"),l=$("#payment-total"),c=$("#payment-discount-amount"),d=$("#payment-discount-reason"),u=$("#advanced-payment");a.val(n.concepto),o.val(n.fecha_limite),i.val(n.cuota),r.val(n.mora),s.val(n.monto_extra),l.val(n.total),function(){$(".payment-sumandos").on("keyup",function(){i.val(n.cuota-c.val());var e=Number(i.val())+Number(r.val())+Number(s.val());l.val(Number(e))})}(),u.modal(),u.on("hide.bs.modal",function(){u.find("input").val("")}),$("#btn-apply-discount").on("click",function(e){e.stopImmediatePropagation(),swal({title:"Está Seguro?",text:"Seguro de que quiere aplicar este descuento de "+c.val()+"?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){t(id_pago),u.hide(),u.modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()})})},edit:function(e){var t=JSON.parse(e);this.id_contrato=t.id_contrato,this.id_pago=t.id_pago;var n=$("#edit-payment-modal");console.log(t),n.modal(),n.on("hide.bs.modal",function(){n.find("input").val("")}),$("#btn-save-edited-payment").on("click",function(e){e.stopImmediatePropagation(),swal({title:"Está Seguro?",text:"Seguro de que quiere aplicar este descuento de "+$descuento.val()+"?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){applyDiscount(id_pago),n.hide(),n.modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()})})}},Damages={add:function(){var e,t;isEmpty([e=$("#averias-client-id").val(),t=$("#a-description").val()])?displayAlert("Revise","LLene todos los campos por favor","error"):connectAndSend("process/add",!0,initGlobalHandlers,null,"id_cliente="+e+"&descripcion="+t+"&tabla=averias",Damages.getAll),$("#new-averia-modal").find("input,textarea").val("")},getAll:function(){var e=$("#averias-view-mode").val();$(".presentado").text(e),connectAndSend("process/getall",!1,initGlobalHandlers,fillAveriasList,"tabla=averias&estado="+e,null)},update:function(e){connectAndSend("process/update",!0,initGlobalHandlers,null,"tabla=averias&id_averia="+e,Damages.getAll)}},Installations={getAll:function(){connectAndSend("process/getall",!1,initGlobalHandlers,fillInstallationsList,"tabla=instalaciones&estado="+$("#installations-view-mode").val(),null)},update:function(e){connectAndSend("process/update",!0,initGlobalHandlers,null,"tabla=instalaciones&id_pago="+e,Installations.getAll)}},Caja={add:function(){var e,t,n;e="entrada="+(t=$("#caja-a-amount").val())+"&descripcion="+(n=$("#caja-a-description").val())+"&tabla=caja",isEmpty([t,n])?displayAlert("Revise","LLene todos los campos por favor","error"):connectAndSend("process/add",!0,null,null,e,Caja.getAll)},retire:function(){var e,t,n;e="salida="+(t=$("#caja-r-amount").val())+"&descripcion="+(n=$("#caja-r-description").val()),isEmpty([t,n])?displayAlert("Revise","LLene todos los campos por favor","error"):connectAndSend("process/retire",!0,null,null,e,Caja.getAll)},getAll:function(){connectAndSend("process/getAll",!1,null,cajaTable.refresh,"tabla=caja",Caja.getSaldo)},getSaldo:function(){connectAndSend("process/getone",!1,null,updateSaldo,"tabla=caja",null)},search:function(){var e=$("#caja-date"),t=$("#caja-user"),n=e.val()?e.val():"%",a="tabla=caja&id_empleado="+(t.val()?t.val():"%")+"&fecha="+n;connectAndSend("process/search",!1,null,cajaTable.refresh,a,null)}},Company={update:function(){var e,t=$("#company-name").val(),n=$("#company-statement").val(),a=getVal($("#company-phone1")),o=$("#company-direction").val();e="nombre="+t+"&lema="+n+"&descripcion="+$("#company-description").val()+"&direccion=",connectAndSend("process/update",!0,null,null,e+=o+"&telefono1="+a+"&telefonos="+getVal($("#company-phone2"))+"&tabla=empresa",null)}},Settings={update:function(){var e;e="cargo_mora="+$("#settings-mora").val()+"&fecha_corte="+$("#settings-fecha-corte").val()+"&apertura_caja="+$("#settings-apertura-caja").val(),e+="&penalizacion_cancelacion="+$("#settings-penalizacion-cancelacion").val()+"&meses_por_defecto="+$("#settings-meses-por-defecto").val(),connectAndSend("process/update",!0,null,null,e+="&split_day="+$("#settings-split-day").val()+"&tabla=settings",null)}},Sections={add:function(){function e(e){var t="nombre="+e[0]+"&codigo_area="+e[1];return t+="&tabla=secciones",new Promise(function(e){if(connectAndSend("process/add",!0,!1,null,t,Sections.getAll,heavyLoad))return e()})}swal.setDefaults({input:"text",confirmButtonText:"Next &rarr;",showCancelButton:!0,animation:!1,progressSteps:["1","2","3"]});var t=[{title:"Nombre del sector"},"Codigo del Sector"];swal.queue(t).then(function(t){swal.resetDefaults(),e(t)})},getIps:function(){var e=$("#select-sector").val();if(null!=e){var t="tabla=ips&id="+e;connectAndSend("process/getall",!1,null,Sections.reorderTable,t,null)}},reorderTable:function(e){var t=$("#t-sections");t.bootstrapTable("destroy"),$("#t-sections tbody").html(e),t.bootstrapTable(),t.find("tbody").css({display:"table-row-group"})},getAll:function(){function e(e){$("#select-sector").html(e)}connectAndSend("process/getall",!1,null,e,"tabla=secciones",heavyLoad)}},currentPage=$("title").text().split(" ");currentPage=currentPage[4].toLowerCase().trim();var ran=!1;$(function(){initComponents()});var ran=!1,Session={login:function(){var e=$("#user-input").val(),t=$("#password-input").val();if(isEmpty([e,t]))displayMessage(MESSAGE_ERROR+" LLene todos los campos indicados para ingresar");else{var n="user="+e+"&password="+t;connectAndSend("app/login",!1,!1,Session.processLoginData,n,null,loginLibrary.loading)}},processLoginData:function(e){1==e?window.location.href=BASE_URL+"app/admin/":($(".loader").css({display:"none"}),displayMessage(MESSAGE_INFO+" Usuario y Contraseña no validos"))}},loginLibrary={loading:function(e){e?$(".loader").css({display:"none"}):$(".loader").css({display:"block"})},sendToLogin:function(e){key=e.which,13==key&&Session.login()}};if($(function(){loginHandlers()}),(isCurrentPage("cierre")||isCurrentPage("cierre2"))&&cierreCajaFunctions(),isCurrentPage("reportes")){var script=document.createElement("script");script.src=BASE_URL+"assets/js/min/reportes.min.js?version=4.0.22",$("body").append(script)}Vue.component("summary-print-view",{template:'    <div class="print-container">      <div class="__header">      <h2 class="__title t-center"> {{title}}</h2>      </div>      <div class="__body">      <printeable></printeable>      </div>    <div>        ',props:["somevalue"],methods:{goBack:function(){appSummaryView.isHide=!0,window.appCierre.isHide=!1,self.isHide=!0,$(".top-nav").removeClass("hide"),$("#app-cierre").removeClass("hide")}},data:function(){return{back:{link:"somelink",text:"volver a cierre"},foward:{link:BASE_URL+"app/logout",text:"cerrar session"},title:"Resumen de cierre de hoy"}}});var appSummaryView=new Vue({el:"#print-view",data:{isHide:!0,back:{link:"somelink",text:"volver a cierre"},foward:{link:BASE_URL+"app/logout",text:"cerrar session"},cierre:{autor:"",pagos_facturas:0,pagos_extras:0,pagos_efectivo:0,pagos_banco:0,total_ingresos:0,efectivo_caja:0,total_descuadre:0,total_gastos:0,banco:0}},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{goBack:function(){appSummaryView.isHide=!0,window.appCierre.isHide=!1,self.isHide=!0,$(".top-nav").removeClass("hide"),$("#app-cierre").removeClass("hide")},print:function(){print()}}});if("undefined"==typeof jQuery)throw new Error("AdminLTE requires jQuery");+function(e){"use strict";function t(t){return this.each(function(){var o=e(this),i=o.data(n);if(!i){var s=e.extend({},a,o.data(),"object"==typeof t&&t);o.data(n,i=new r(s))}if("string"==typeof t){if(void 0===i[t])throw new Error("No method named "+t);i[t]()}})}var n="lte.layout",a={slimscroll:!0,resetHeight:!0},o={wrapper:".wrapper",contentWrapper:".content-wrapper",layoutBoxed:".layout-boxed",mainFooter:".main-footer",mainHeader:".main-header",sidebar:".sidebar",controlSidebar:".control-sidebar",fixed:".fixed",sidebarMenu:".sidebar-menu",logo:".main-header .logo"},i={fixed:"fixed",holdTransition:"hold-transition"},r=function(e){this.options=e,this.bindedResize=!1,this.activate()};r.prototype.activate=function(){this.fix(),this.fixSidebar(),e("body").removeClass(i.holdTransition),this.options.resetHeight&&e("body, html, "+o.wrapper).css({height:"auto","min-height":"100%"}),this.bindedResize||(e(window).resize(function(){this.fix(),this.fixSidebar(),e(o.logo+", "+o.sidebar).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){this.fix(),this.fixSidebar()}.bind(this))}.bind(this)),this.bindedResize=!0),e(o.sidebarMenu).on("expanded.tree",function(){this.fix(),this.fixSidebar()}.bind(this)),e(o.sidebarMenu).on("collapsed.tree",function(){this.fix(),this.fixSidebar()}.bind(this))},r.prototype.fix=function(){e(o.layoutBoxed+" > "+o.wrapper).css("overflow","hidden");var t=e(o.mainFooter).outerHeight()||0,n=e(o.mainHeader).outerHeight()+t,a=e(window).height(),r=e(o.sidebar).height()||0;if(e("body").hasClass(i.fixed))e(o.contentWrapper).css("min-height",a-t);else{var s;a>=r?(e(o.contentWrapper).css("min-height",a-n),s=a-n):(e(o.contentWrapper).css("min-height",r),s=r);var l=e(o.controlSidebar);void 0!==l&&l.height()>s&&e(o.contentWrapper).css("min-height",l.height())}},r.prototype.fixSidebar=function(){e("body").hasClass(i.fixed)?this.options.slimscroll&&void 0!==e.fn.slimScroll&&(e(o.sidebar).slimScroll({destroy:!0}).height("auto"),e(o.sidebar).slimScroll({height:e(window).height()-e(o.mainHeader).height()+"px",color:"rgba(0,0,0,0.2)",size:"3px"})):void 0!==e.fn.slimScroll&&e(o.sidebar).slimScroll({destroy:!0}).height("auto")};var s=e.fn.layout;e.fn.layout=t,e.fn.layout.Constuctor=r,e.fn.layout.noConflict=function(){return e.fn.layout=s,this},e(window).on("load",function(){t.call(e("body"))})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var o=e(this),i=o.data(n);if(!i){var r=e.extend({},a,o.data(),"object"==typeof t&&t);o.data(n,i=new s(r))}"toggle"==t&&i.toggle()})}var n="lte.pushmenu",a={collapseScreenSize:767,expandOnHover:!1,expandTransitionDelay:200},o={collapsed:".sidebar-collapse",open:".sidebar-open",mainSidebar:".main-sidebar",contentWrapper:".content-wrapper",searchInput:".sidebar-form .form-control",button:'[data-toggle="push-menu"]',mini:".sidebar-mini",expanded:".sidebar-expanded-on-hover",layoutFixed:".fixed"},i={collapsed:"sidebar-collapse",open:"sidebar-open",mini:"sidebar-mini",expanded:"sidebar-expanded-on-hover",expandFeature:"sidebar-mini-expand-feature",layoutFixed:"fixed"},r={expanded:"expanded.pushMenu",collapsed:"collapsed.pushMenu"},s=function(e){this.options=e,this.init()};s.prototype.init=function(){(this.options.expandOnHover||e("body").is(o.mini+o.layoutFixed))&&(this.expandOnHover(),e("body").addClass(i.expandFeature)),e(o.contentWrapper).click(function(){e(window).width()<=this.options.collapseScreenSize&&e("body").hasClass(i.open)&&this.close()}.bind(this)),e(o.searchInput).click(function(e){e.stopPropagation()})},s.prototype.toggle=function(){var t=e(window).width(),n=!e("body").hasClass(i.collapsed);t<=this.options.collapseScreenSize&&(n=e("body").hasClass(i.open)),n?this.close():this.open()},s.prototype.open=function(){e(window).width()>this.options.collapseScreenSize?e("body").removeClass(i.collapsed).trigger(e.Event(r.expanded)):e("body").addClass(i.open).trigger(e.Event(r.expanded))},s.prototype.close=function(){e(window).width()>this.options.collapseScreenSize?e("body").addClass(i.collapsed).trigger(e.Event(r.collapsed)):e("body").removeClass(i.open+" "+i.collapsed).trigger(e.Event(r.collapsed))},s.prototype.expandOnHover=function(){e(o.mainSidebar).hover(function(){e("body").is(o.mini+o.collapsed)&&e(window).width()>this.options.collapseScreenSize&&this.expand()}.bind(this),function(){e("body").is(o.expanded)&&this.collapse()}.bind(this))},s.prototype.expand=function(){setTimeout(function(){e("body").removeClass(i.collapsed).addClass(i.expanded)},this.options.expandTransitionDelay)},s.prototype.collapse=function(){setTimeout(function(){e("body").removeClass(i.expanded).addClass(i.collapsed)},this.options.expandTransitionDelay)};var l=e.fn.pushMenu;e.fn.pushMenu=t,e.fn.pushMenu.Constructor=s,e.fn.pushMenu.noConflict=function(){return e.fn.pushMenu=l,this},e(document).on("click",o.button,function(n){n.preventDefault(),t.call(e(this),"toggle")}),e(window).on("load",function(){t.call(e(o.button))})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var o=e(this);if(!o.data(n)){var i=e.extend({},a,o.data(),"object"==typeof t&&t);o.data(n,new s(o,i))}})}var n="lte.tree",a={animationSpeed:500,accordion:!0,followLink:!1,trigger:".treeview a"},o={tree:".tree",treeview:".treeview",treeviewMenu:".treeview-menu",open:".menu-open, .active",li:"li",data:'[data-widget="tree"]',active:".active"},i={open:"menu-open",tree:"tree"},r={collapsed:"collapsed.tree",expanded:"expanded.tree"},s=function(t,n){this.element=t,this.options=n,e(this.element).addClass(i.tree),e(o.treeview+o.active,this.element).addClass(i.open),this._setUpListeners()};s.prototype.toggle=function(e,t){var n=e.next(o.treeviewMenu),a=e.parent(),r=a.hasClass(i.open);a.is(o.treeview)&&(this.options.followLink&&"#"!=e.attr("href")||t.preventDefault(),r?this.collapse(n,a):this.expand(n,a))},s.prototype.expand=function(t,n){var a=e.Event(r.expanded);if(this.options.accordion){var s=n.siblings(o.open),l=s.children(o.treeviewMenu);this.collapse(l,s)}n.addClass(i.open),t.slideDown(this.options.animationSpeed,function(){e(this.element).trigger(a)}.bind(this))},s.prototype.collapse=function(t,n){var a=e.Event(r.collapsed);t.find(o.open).removeClass(i.open),n.removeClass(i.open),t.slideUp(this.options.animationSpeed,function(){t.find(o.open+" > "+o.treeview).slideUp(),e(this.element).trigger(a)}.bind(this))},s.prototype._setUpListeners=function(){var t=this;e(this.element).on("click",this.options.trigger,function(n){t.toggle(e(this),n)})};var l=e.fn.tree;e.fn.tree=t,e.fn.tree.Constructor=s,e.fn.tree.noConflict=function(){return e.fn.tree=l,this},e(window).on("load",function(){e(o.data).each(function(){t.call(e(this))})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var o=e(this),i=o.data(n);if(!i){var r=e.extend({},a,o.data(),"object"==typeof t&&t);o.data(n,i=new s(o,r))}"string"==typeof t&&i.toggle()})}var n="lte.controlsidebar",a={slide:!0},o={sidebar:".control-sidebar",data:'[data-toggle="control-sidebar"]',open:".control-sidebar-open",bg:".control-sidebar-bg",wrapper:".wrapper",content:".content-wrapper",boxed:".layout-boxed"},i={open:"control-sidebar-open",fixed:"fixed"},r={collapsed:"collapsed.controlsidebar",expanded:"expanded.controlsidebar"},s=function(e,t){this.element=e,this.options=t,this.hasBindedResize=!1,this.init()};s.prototype.init=function(){e(this.element).is(o.data)||e(this).on("click",this.toggle),this.fix(),e(window).resize(function(){this.fix()}.bind(this))},s.prototype.toggle=function(t){t&&t.preventDefault(),this.fix(),e(o.sidebar).is(o.open)||e("body").is(o.open)?this.collapse():this.expand()},s.prototype.expand=function(){this.options.slide?e(o.sidebar).addClass(i.open):e("body").addClass(i.open),e(this.element).trigger(e.Event(r.expanded))},s.prototype.collapse=function(){e("body, "+o.sidebar).removeClass(i.open),e(this.element).trigger(e.Event(r.collapsed))},s.prototype.fix=function(){e("body").is(o.boxed)&&this._fixForBoxed(e(o.bg))},s.prototype._fixForBoxed=function(t){t.css({position:"absolute",height:e(o.wrapper).height()})};var l=e.fn.controlSidebar;e.fn.controlSidebar=t,e.fn.controlSidebar.Constructor=s,e.fn.controlSidebar.noConflict=function(){return e.fn.controlSidebar=l,this},e(document).on("click",o.data,function(n){n&&n.preventDefault(),t.call(e(this),"toggle")})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var o=e(this),i=o.data(n);if(!i){var r=e.extend({},a,o.data(),"object"==typeof t&&t);o.data(n,i=new s(o,r))}if("string"==typeof t){if(void 0===i[t])throw new Error("No method named "+t);i[t]()}})}var n="lte.boxwidget",a={animationSpeed:500,collapseTrigger:'[data-widget="collapse"]',removeTrigger:'[data-widget="remove"]',collapseIcon:"fa-minus",expandIcon:"fa-plus",removeIcon:"fa-times"},o={data:".box",collapsed:".collapsed-box",body:".box-body",footer:".box-footer",tools:".box-tools"},i={collapsed:"collapsed-box"},r={collapsed:"collapsed.boxwidget",expanded:"expanded.boxwidget",removed:"removed.boxwidget"},s=function(e,t){this.element=e,this.options=t,this._setUpListeners()};s.prototype.toggle=function(){e(this.element).is(o.collapsed)?this.expand():this.collapse()},s.prototype.expand=function(){var t=e.Event(r.expanded),n=this.options.collapseIcon,a=this.options.expandIcon;e(this.element).removeClass(i.collapsed),e(this.element).find(o.tools).find("."+a).removeClass(a).addClass(n),e(this.element).find(o.body+", "+o.footer).slideDown(this.options.animationSpeed,function(){e(this.element).trigger(t)}.bind(this))},s.prototype.collapse=function(){var t=e.Event(r.collapsed),n=this.options.collapseIcon,a=this.options.expandIcon;e(this.element).find(o.tools).find("."+n).removeClass(n).addClass(a),e(this.element).find(o.body+", "+o.footer).slideUp(this.options.animationSpeed,function(){e(this.element).addClass(i.collapsed),e(this.element).trigger(t)}.bind(this))},s.prototype.remove=function(){var t=e.Event(r.removed);e(this.element).slideUp(this.options.animationSpeed,function(){e(this.element).trigger(t),e(this.element).remove()}.bind(this))},s.prototype._setUpListeners=function(){var t=this;e(this.element).on("click",this.options.collapseTrigger,function(e){e&&e.preventDefault(),t.toggle()}),e(this.element).on("click",this.options.removeTrigger,function(e){e&&e.preventDefault(),t.remove()})};var l=e.fn.boxWidget;e.fn.boxWidget=t,e.fn.boxWidget.Constructor=s,e.fn.boxWidget.noConflict=function(){return e.fn.boxWidget=l,this},e(window).on("load",function(){e(o.data).each(function(){t.call(e(this))})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var o=e(this),i=o.data(n);if(!i){var s=e.extend({},a,o.data(),"object"==typeof t&&t);o.data(n,i=new r(o,s))}if("string"==typeof i){if(void 0===i[t])throw new Error("No method named "+t);i[t]()}})}var n="lte.todolist",a={iCheck:!1,onCheck:function(){},onUnCheck:function(){}},o={data:'[data-widget="todo-list"]'},i={done:"done"},r=function(e,t){this.element=e,this.options=t,this._setUpListeners()};r.prototype.toggle=function(e){e.parents(o.li).first().toggleClass(i.done),e.prop("checked")?this.check(e):this.unCheck(e)},r.prototype.check=function(e){this.options.onCheck.call(e)},r.prototype.unCheck=function(e){this.options.onUnCheck.call(e)},r.prototype._setUpListeners=function(){var t=this;e(this.element).on("change ifChanged","input:checkbox",function(){t.toggle(e(this))})};var s=e.fn.todoList;e.fn.todoList=t,e.fn.todoList.Constructor=r,e.fn.todoList.noConflict=function(){return e.fn.todoList=s,this},e(window).on("load",function(){e(o.data).each(function(){t.call(e(this))})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var a=e(this),o=a.data(n);o||a.data(n,o=new i(a)),"string"==typeof t&&o.toggle(a)})}var n="lte.directchat",a={data:'[data-widget="chat-pane-toggle"]',box:".direct-chat"},o={open:"direct-chat-contacts-open"},i=function(e){this.element=e};i.prototype.toggle=function(e){e.parents(a.box).first().toggleClass(o.open)};var r=e.fn.directChat;e.fn.directChat=t,e.fn.directChat.Constructor=i,e.fn.directChat.noConflict=function(){return e.fn.directChat=r,this},e(document).on("click",a.data,function(n){n&&n.preventDefault(),t.call(e(this),"toggle")})}(jQuery),function(e){function t(e){var t=document.createElement("input"),n=(e="on"+e)in t;return n||(t.setAttribute(e,"return;"),n="function"==typeof t[e]),t=null,n}function n(t,a,o){var i=o.aliases[t];return!!i&&(i.alias&&n(i.alias,void 0,o),e.extend(!0,o,i),e.extend(!0,o,a),!0)}function a(t){function n(n){t.numericInput&&(n=n.split("").reverse().join(""));var a=!1,o=0,i=t.greedy,r=t.repeat;"*"==r&&(i=!1),1==n.length&&0==i&&0!=r&&(t.placeholder="");for(var s=e.map(n.split(""),function(e,n){var i=[];if(e==t.escapeChar)a=!0;else if(e!=t.optionalmarker.start&&e!=t.optionalmarker.end||a){var r=t.definitions[e];if(r&&!a)for(var s=0;s<r.cardinality;s++)i.push(t.placeholder.charAt((o+s)%t.placeholder.length));else i.push(e),a=!1;return o+=i.length,i}}),l=s.slice(),c=1;c<r&&i;c++)l=l.concat(s.slice());return{mask:l,repeat:r,greedy:i}}function a(n){t.numericInput&&(n=n.split("").reverse().join(""));var a=!1,o=!1,i=!1;return e.map(n.split(""),function(e,n){var r=[];if(e==t.escapeChar)o=!0;else if(e!=t.optionalmarker.start||o){if(e!=t.optionalmarker.end||o){var s=t.definitions[e];if(s&&!o){for(var l=s.prevalidator,c=l?l.length:0,d=1;d<s.cardinality;d++){var u=c>=d?l[d-1]:[],p=u.validator,f=u.cardinality;r.push({fn:p?"string"==typeof p?new RegExp(p):new function(){this.test=p}:new RegExp("."),cardinality:f||1,optionality:a,newBlockMarker:1==a&&i,offset:0,casing:s.casing,def:s.definitionSymbol||e}),1==a&&(i=!1)}r.push({fn:s.validator?"string"==typeof s.validator?new RegExp(s.validator):new function(){this.test=s.validator}:new RegExp("."),cardinality:s.cardinality,optionality:a,newBlockMarker:i,offset:0,casing:s.casing,def:s.definitionSymbol||e})}else r.push({fn:null,cardinality:0,optionality:a,newBlockMarker:i,offset:0,casing:null,def:e}),o=!1;return i=!1,r}a=!1,i=!0}else a=!0,i=!0})}function o(e){return t.optionalmarker.start+e+t.optionalmarker.end}function i(e){for(var n=0,a=0,o=e.length,i=0;i<o&&(e.charAt(i)==t.optionalmarker.start&&n++,e.charAt(i)==t.optionalmarker.end&&a++,!(n>0&&n==a));i++);var r=[e.substring(0,i)];return i<o&&r.push(e.substring(i+1,o)),r}function r(e){for(var n=e.length,a=0;a<n&&e.charAt(a)!=t.optionalmarker.start;a++);var o=[e.substring(0,a)];return a<n&&o.push(e.substring(a+1,n)),o}function s(t,d,u){var p,f,v=i(d),m=r(v[0]);m.length>1?(p=t+m[0]+o(m[1])+(v.length>1?v[1]:""),-1==e.inArray(p,c)&&""!=p&&(c.push(p),f=n(p),l.push({mask:p,_buffer:f.mask,buffer:f.mask.slice(),tests:a(p),lastValidPosition:-1,greedy:f.greedy,repeat:f.repeat,metadata:u})),p=t+m[0]+(v.length>1?v[1]:""),-1==e.inArray(p,c)&&""!=p&&(c.push(p),f=n(p),l.push({mask:p,_buffer:f.mask,buffer:f.mask.slice(),tests:a(p),lastValidPosition:-1,greedy:f.greedy,repeat:f.repeat,metadata:u})),r(m[1]).length>1&&s(t+m[0],m[1]+v[1],u),v.length>1&&r(v[1]).length>1&&(s(t+m[0]+o(m[1]),v[1],u),s(t+m[0],v[1],u))):(p=t+v,-1==e.inArray(p,c)&&""!=p&&(c.push(p),f=n(p),l.push({mask:p,_buffer:f.mask,buffer:f.mask.slice(),tests:a(p),lastValidPosition:-1,greedy:f.greedy,repeat:f.repeat,metadata:u})))}var l=[],c=[];return e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask)?e.each(t.mask,function(e,t){void 0!=t.mask?s("",t.mask.toString(),t):s("",t.toString())}):s("",t.mask.toString()),t.greedy?l:l.sort(function(e,t){return e.mask.length-t.mask.length})}function o(t,n,a,o){function d(){return t[n]}function u(){return d().tests}function p(){return d()._buffer}function f(){return d().buffer}function v(o,i,r){function s(e,t,n,o){for(var i=g(e),r=n?1:0,s="",l=t.buffer,c=t.tests[i].cardinality;c>r;c--)s+=C(l,i-(c-1));return n&&(s+=n),null!=t.tests[i].fn?t.tests[i].fn.test(s,l,e,o,a):(n==C(t._buffer,e,!0)||n==a.skipOptionalPartCharacter)&&{refresh:!0,c:C(t._buffer,e,!0),pos:e}}if(r=!0===r)return!0===(c=s(o,d(),i,r))&&(c={pos:o}),c;var l=[],c=!1,u=n,p=f().slice(),v=d().lastValidPosition,m=(k(o),[]);return e.each(t,function(e,t){if("object"==typeof t){n=e;var a,g=o,k=d().lastValidPosition;if(k==v){if(g-v>1)for(var C=-1==k?0:k;C<g&&!1!==(a=s(C,d(),p[C],!0));C++)w(f(),C,p[C],!0),!0===a&&(a={pos:C}),_=a.pos||C,d().lastValidPosition<_&&(d().lastValidPosition=_);if(!h(g)&&!s(g,d(),i,r)){for(var x=y(g)-g,S=0;S<x&&!1===s(++g,d(),i,r);S++);m.push(n)}}if((d().lastValidPosition>=v||n==u)&&g>=0&&g<b()){if(!1!==(c=s(g,d(),i,r))){!0===c&&(c={pos:g});var _=c.pos||g;d().lastValidPosition<_&&(d().lastValidPosition=_)}l.push({activeMasksetIndex:e,result:c})}}}),n=u,function(n,a){var r=!1;if(e.each(a,function(t,a){if(r=-1==e.inArray(a.activeMasksetIndex,n)&&!1!==a.result)return!1}),r)a=e.map(a,function(a,o){if(-1==e.inArray(a.activeMasksetIndex,n))return a;t[a.activeMasksetIndex].lastValidPosition=v});else{var l,c=-1,d=-1;e.each(a,function(t,a){-1!=e.inArray(a.activeMasksetIndex,n)&&!1!==a.result&(-1==c||c>a.result.pos)&&(c=a.result.pos,d=a.activeMasksetIndex)}),a=e.map(a,function(a,r){if(-1!=e.inArray(a.activeMasksetIndex,n)){if(a.result.pos==c)return a;if(!1!==a.result){for(var u=o;u<c;u++){if(!1===(l=s(u,t[a.activeMasksetIndex],t[d].buffer[u],!0))){t[a.activeMasksetIndex].lastValidPosition=c-1;break}w(t[a.activeMasksetIndex].buffer,u,t[d].buffer[u],!0),t[a.activeMasksetIndex].lastValidPosition=u}return!1!==(l=s(c,t[a.activeMasksetIndex],i,!0))&&(w(t[a.activeMasksetIndex].buffer,c,i,!0),t[a.activeMasksetIndex].lastValidPosition=c),a}}})}return a}(m,l)}function m(){var a=n,o={activeMasksetIndex:0,lastValidPosition:-1,next:-1};e.each(t,function(e,t){"object"==typeof t&&(n=e,d().lastValidPosition>o.lastValidPosition?(o.activeMasksetIndex=e,o.lastValidPosition=d().lastValidPosition,o.next=y(d().lastValidPosition)):d().lastValidPosition==o.lastValidPosition&&(-1==o.next||o.next>y(d().lastValidPosition))&&(o.activeMasksetIndex=e,o.lastValidPosition=d().lastValidPosition,o.next=y(d().lastValidPosition)))}),a!=(n=-1!=o.lastValidPosition&&t[a].lastValidPosition==o.lastValidPosition?a:o.activeMasksetIndex)&&(_(f(),y(o.lastValidPosition),b()),d().writeOutBuffer=!0),F.data("_inputmask").activeMasksetIndex=n}function h(e){var t=g(e),n=u()[t];return void 0!=n&&n.fn}function g(e){return e%u().length}function b(){return a.getMaskLength(p(),d().greedy,d().repeat,f(),a)}function y(e){var t=b();if(e>=t)return t;for(var n=e;++n<t&&!h(n););return n}function k(e){var t=e;if(t<=0)return 0;for(;--t>0&&!h(t););return t}function w(e,t,n,a){a&&(t=x(e,t));var o=u()[g(t)],i=n;if(void 0!=i&&void 0!=o)switch(o.casing){case"upper":i=n.toUpperCase();break;case"lower":i=n.toLowerCase()}e[t]=i}function C(e,t,n){return n&&(t=x(e,t)),e[t]}function x(e,t){for(var n;void 0==e[t]&&e.length<b();)for(n=0;void 0!==p()[n];)e.push(p()[n++]);return t}function S(e,t,n){e._valueSet(t.join("")),void 0!=n&&j(e,n)}function _(e,t,n,a){for(var o=t,i=b();o<n&&o<i;o++)!0===a?h(o)||w(e,o,""):w(e,o,C(p().slice(),o,!0))}function $(e,t){var n=g(t);w(e,t,C(p(),n))}function A(e){return a.placeholder.charAt(e%a.placeholder.length)}function T(a,o,i,r,s){var l=void 0!=r?r.slice():P(a._valueGet()).split("");e.each(t,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1,t.p=-1)}),!0!==i&&(n=0),o&&a._valueSet(""),b(),e.each(l,function(t,n){if(!0===s){var r=d().p,l=-1==r?r:k(r),c=-1==l?t:y(l);-1==e.inArray(n,p().slice(l+1,c))&&U.call(a,void 0,!0,n.charCodeAt(0),o,i,t)}else U.call(a,void 0,!0,n.charCodeAt(0),o,i,t)}),!0===i&&-1!=d().p&&(d().lastValidPosition=k(d().p))}function E(t){return e.inputmask.escapeRegex.call(this,t)}function P(e){return e.replace(new RegExp("("+E(p().join(""))+")*$"),"")}function M(e){for(var t=f(),n=t.slice(),a=n.length-1;a>=0;a--){var o=g(a);if(!u()[o].optionality)break;if(h(a)&&v(a,t[a],!0))break;n.pop()}S(e,n)}function L(e){return!Y||"number"!=typeof e||a.greedy&&""==a.placeholder||(e=f().length-e),e}function j(t,n,o){var i,r=t.jquery&&t.length>0?t[0]:t;if("number"!=typeof n)return e(t).is(":visible")?(r.setSelectionRange?(n=r.selectionStart,o=r.selectionEnd):document.selection&&document.selection.createRange&&(o=(n=0-(i=document.selection.createRange()).duplicate().moveStart("character",-1e5))+i.text.length),n=L(n),o=L(o),{begin:n,end:o}):{begin:0,end:0};n=L(n),o=L(o),e(t).is(":visible")&&(o="number"==typeof o?o:n,r.scrollLeft=r.scrollWidth,0==a.insertMode&&n==o&&o++,r.setSelectionRange?(r.selectionStart=n,r.selectionEnd=s?n:o):r.createTextRange&&((i=r.createTextRange()).collapse(!0),i.moveEnd("character",o),i.moveStart("character",n),i.select()))}function I(o){if("*"!=a.repeat){var i=!1,r=0,s=n;return e.each(t,function(e,t){if("object"==typeof t){n=e;var a=k(b());if(t.lastValidPosition>=r&&t.lastValidPosition==a){for(var s=!0,l=0;l<=a;l++){var c=h(l),d=g(l);if(c&&(void 0==o[l]||o[l]==A(l))||!c&&o[l]!=p()[d]){s=!1;break}}if(i=i||s)return!1}r=t.lastValidPosition}}),n=s,i}}function B(e,t){return Y?e-t>1||e-t==1&&a.insertMode:t-e>1||t-e==1&&a.insertMode}function R(t){var n=e._data(t).events;e.each(n,function(t,n){e.each(n,function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var n=t.handler;t.handler=function(e){if(!this.readOnly&&!this.disabled)return n.apply(this,arguments);e.preventDefault}}})})}function O(t){var n;if(Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(t,"value")),n&&n.get){if(!t._valueGet){var a=n.get,o=n.set;t._valueGet=function(){return Y?a.call(this).split("").reverse().join(""):a.call(this)},t._valueSet=function(e){o.call(this,Y?e.split("").reverse().join(""):e)},Object.defineProperty(t,"value",{get:function(){var t=e(this),n=e(this).data("_inputmask"),o=n.masksets,i=n.activeMasksetIndex;return n&&n.opts.autoUnmask?t.inputmask("unmaskedvalue"):a.call(this)!=o[i]._buffer.join("")?a.call(this):""},set:function(t){o.call(this,t),e(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&t.__lookupGetter__("value")){if(!t._valueGet){var a=t.__lookupGetter__("value"),o=t.__lookupSetter__("value");t._valueGet=function(){return Y?a.call(this).split("").reverse().join(""):a.call(this)},t._valueSet=function(e){o.call(this,Y?e.split("").reverse().join(""):e)},t.__defineGetter__("value",function(){var t=e(this),n=e(this).data("_inputmask"),o=n.masksets,i=n.activeMasksetIndex;return n&&n.opts.autoUnmask?t.inputmask("unmaskedvalue"):a.call(this)!=o[i]._buffer.join("")?a.call(this):""}),t.__defineSetter__("value",function(t){o.call(this,t),e(this).triggerHandler("setvalue.inputmask")})}}else if(t._valueGet||(t._valueGet=function(){return Y?this.value.split("").reverse().join(""):this.value},t._valueSet=function(e){this.value=Y?e.split("").reverse().join(""):e}),void 0==e.valHooks.text||1!=e.valHooks.text.inputmaskpatch){var a=e.valHooks.text&&e.valHooks.text.get?e.valHooks.text.get:function(e){return e.value},o=e.valHooks.text&&e.valHooks.text.set?e.valHooks.text.set:function(e,t){return e.value=t,e};jQuery.extend(e.valHooks,{text:{get:function(t){var n=e(t);if(n.data("_inputmask")){if(n.data("_inputmask").opts.autoUnmask)return n.inputmask("unmaskedvalue");var o=a(t),i=n.data("_inputmask");return o!=i.masksets[i.activeMasksetIndex]._buffer.join("")?o:""}return a(t)},set:function(t,n){var a=e(t),i=o(t,n);return a.data("_inputmask")&&a.triggerHandler("setvalue.inputmask"),i},inputmaskpatch:!0}})}}function D(e,t,n,a){var o=f();if(!1!==a)for(;!h(e)&&e-1>=0;)e--;for(l=e;l<t&&l<b();l++)if(h(l)){$(o,l);var i=y(l),r=C(o,i);if(r!=A(i))if(i<b()&&!1!==v(l,r,!0)&&u()[g(l)].def==u()[g(i)].def)w(o,l,r,!0);else if(h(l))break}else $(o,l);if(void 0!=n&&w(o,k(t),n),0==d().greedy){var s=P(o.join("")).split("");o.length=s.length;for(var l=0,c=o.length;l<c;l++)o[l]=s[l];0==o.length&&(d().buffer=p().slice())}return e}function H(e,t,n){var a=f();if(C(a,e,!0)!=A(e))for(l=k(t);l>e&&l>=0;l--)if(h(l)){var o=k(l),i=C(a,o);i!=A(o)&&!1!==v(o,i,!0)&&u()[g(l)].def==u()[g(o)].def&&(w(a,l,i,!0),$(a,o))}else $(a,l);void 0!=n&&C(a,e)==A(e)&&w(a,e,n);var r=a.length;if(0==d().greedy){var s=P(a.join("")).split("");a.length=s.length;for(var l=0,c=a.length;l<c;l++)a[l]=s[l];0==a.length&&(d().buffer=p().slice())}return t-(r-a.length)}function V(e,n,o){if(a.numericInput||Y){switch(n){case a.keyCode.BACKSPACE:n=a.keyCode.DELETE;break;case a.keyCode.DELETE:n=a.keyCode.BACKSPACE}if(Y){var i=o.end;o.end=o.begin,o.begin=i}}var r=!0;if(o.begin==o.end){var s=n==a.keyCode.BACKSPACE?o.begin-1:o.begin;a.isNumeric&&""!=a.radixPoint&&f()[s]==a.radixPoint&&(o.begin=f().length-1==s?o.begin:n==a.keyCode.BACKSPACE?s:y(s),o.end=o.begin),r=!1,n==a.keyCode.BACKSPACE?o.begin--:n==a.keyCode.DELETE&&o.end++}else o.end-o.begin!=1||a.insertMode||(r=!1,n==a.keyCode.BACKSPACE&&o.begin--);_(f(),o.begin,o.end);var l=b();if(0==a.greedy)D(o.begin,l,void 0,!Y&&n==a.keyCode.BACKSPACE&&!r);else{for(var c=o.begin,u=o.begin;u<o.end;u++)!h(u)&&r||(c=D(o.begin,l,void 0,!Y&&n==a.keyCode.BACKSPACE&&!r));r||(o.begin=c)}var p=y(-1);_(f(),o.begin,o.end,!0),T(e,!1,void 0==t[1]||p>=o.end,f()),d().lastValidPosition<p?(d().lastValidPosition=-1,d().p=p):d().p=o.begin}function N(t){z=!1;var n=this,o=e(n),i=t.keyCode,s=j(n);i==a.keyCode.BACKSPACE||i==a.keyCode.DELETE||r&&127==i||t.ctrlKey&&88==i?(t.preventDefault(),88==i&&(W=f().join("")),V(n,i,s),m(),S(n,f(),d().p),n._valueGet()==p().join("")&&o.trigger("cleared"),a.showTooltip&&o.prop("title",d().mask)):i==a.keyCode.END||i==a.keyCode.PAGE_DOWN?setTimeout(function(){var e=y(d().lastValidPosition);a.insertMode||e!=b()||t.shiftKey||e--,j(n,t.shiftKey?s.begin:e,e)},0):i==a.keyCode.HOME&&!t.shiftKey||i==a.keyCode.PAGE_UP?j(n,0,t.shiftKey?s.begin:0):i==a.keyCode.ESCAPE||90==i&&t.ctrlKey?(T(n,!0,!1,W.split("")),o.click()):i!=a.keyCode.INSERT||t.shiftKey||t.ctrlKey?0!=a.insertMode||t.shiftKey||(i==a.keyCode.RIGHT?setTimeout(function(){var e=j(n);j(n,e.begin)},0):i==a.keyCode.LEFT&&setTimeout(function(){var e=j(n);j(n,e.begin-1)},0)):(a.insertMode=!a.insertMode,j(n,a.insertMode||s.begin!=b()?s.begin:s.begin-1));var l=j(n);!0===a.onKeyDown.call(this,t,f(),a)&&j(n,l.begin,l.end),Q=-1!=e.inArray(i,a.ignorables)}function U(o,i,r,s,l,c){if(void 0==r&&z)return!1;z=!0;var u=this,p=e(u);o=o||window.event;var r=i?r:o.which||o.charCode||o.keyCode;if(!(!0===i||o.ctrlKey&&o.altKey)&&(o.ctrlKey||o.metaKey||Q))return!0;if(r){!0!==i&&46==r&&0==o.shiftKey&&","==a.radixPoint&&(r=44);var h,g,x,_=String.fromCharCode(r);if(i){var $=l?c:d().lastValidPosition+1;h={begin:$,end:$}}else h=j(u);var T=B(h.begin,h.end),E=n;T&&(n=E,e.each(t,function(e,t){"object"==typeof t&&(n=e,d().undoBuffer=f().join(""))}),V(u,a.keyCode.DELETE,h),a.insertMode||e.each(t,function(e,t){"object"==typeof t&&(n=e,H(h.begin,b()),d().lastValidPosition=y(d().lastValidPosition))}),n=E);var P=f().join("").indexOf(a.radixPoint);a.isNumeric&&!0!==i&&-1!=P&&(a.greedy&&h.begin<=P?(h.begin=k(h.begin),h.end=h.begin):_==a.radixPoint&&(h.begin=P,h.end=h.begin));var M=h.begin;g=v(M,_,l),!0===l&&(g=[{activeMasksetIndex:n,result:g}]);var L=-1;if(e.each(g,function(e,t){n=t.activeMasksetIndex,d().writeOutBuffer=!0;var o=t.result;if(!1!==o){var i=!1,r=f();if(!0!==o&&(i=o.refresh,M=void 0!=o.pos?o.pos:M,_=void 0!=o.c?o.c:_),!0!==i){if(1==a.insertMode){for(var s=b(),c=r.slice();C(c,s,!0)!=A(s)&&s>=M;)s=0==s?-1:k(s);if(s>=M){H(M,b(),_);var u=d().lastValidPosition,p=y(u);p!=b()&&u>=M&&C(f(),p,!0)!=A(p)&&(d().lastValidPosition=p)}else d().writeOutBuffer=!1}else w(r,M,_,!0);(-1==L||L>y(M))&&(L=y(M))}else if(!l){var v=M<b()?M+1:M;(-1==L||L>v)&&(L=v)}L>d().p&&(d().p=L)}}),!0!==l&&(n=E,m()),!1!==s&&(e.each(g,function(e,t){if(t.activeMasksetIndex==n)return x=t,!1}),void 0!=x)){var R=this;if(setTimeout(function(){a.onKeyValidation.call(R,x.result,a)},0),d().writeOutBuffer&&!1!==x.result){var O,D=f();O=i?void 0:a.numericInput?M>P?k(L):_==a.radixPoint?L-1:k(L-1):L,S(u,D,O),!0!==i&&setTimeout(function(){!0===I(D)&&p.trigger("complete"),J=!0,p.trigger("input")},0)}else T&&(d().buffer=d().undoBuffer.split(""))}a.showTooltip&&p.prop("title",d().mask),o&&(o.preventDefault?o.preventDefault():o.returnValue=!1)}}function G(t){var n=e(this),o=this,i=t.keyCode,r=f();l&&i==a.keyCode.BACKSPACE&&K==o._valueGet()&&N.call(this,t),a.onKeyUp.call(this,t,r,a),i==a.keyCode.TAB&&a.showMaskOnFocus&&(n.hasClass("focus.inputmask")&&0==o._valueGet().length?(S(o,r=p().slice()),j(o,0),W=f().join("")):(S(o,r),r.join("")==p().join("")&&-1!=e.inArray(a.radixPoint,r)?(j(o,L(0)),n.click()):j(o,L(0),L(b()))))}function q(t){if(!0===J)return J=!1,!0;var n=this,a=e(n);K=f().join(""),T(n,!1,!1),S(n,f()),!0===I(f())&&a.trigger("complete"),a.click()}var F,K,Y=!1,W=f().join(""),z=!1,J=!1,Q=!1;if(void 0!=o)switch(o.action){case"isComplete":return I(o.buffer);case"unmaskedvalue":return Y=o.$input.data("_inputmask").isRTL,function(t,n){if(!u()||!0!==n&&t.hasClass("hasDatepicker"))return t[0]._valueGet();var o=e.map(f(),function(e,t){return h(t)&&v(t,e,!0)?e:null}),i=(Y?o.reverse():o).join("");return void 0!=a.onUnMask?a.onUnMask.call(this,f().join(""),i):i}(o.$input,o.skipDatepickerCheck);case"mask":!function(o){if((F=e(o)).is(":input")){if(F.data("_inputmask",{masksets:t,activeMasksetIndex:n,opts:a,isRTL:!1}),a.showTooltip&&F.prop("title",d().mask),d().greedy=d().greedy?d().greedy:0==d().repeat,null!=F.attr("maxLength")){var r=F.prop("maxLength");r>-1&&e.each(t,function(e,t){"object"==typeof t&&"*"==t.repeat&&(t.repeat=r)}),b()>=r&&r>-1&&(r<p().length&&(p().length=r),0==d().greedy&&(d().repeat=Math.round(r/p().length)),F.prop("maxLength",2*b()))}if(O(o),a.numericInput&&(a.isNumeric=a.numericInput),("rtl"==o.dir||a.numericInput&&a.rightAlignNumerics||a.isNumeric&&a.rightAlignNumerics)&&F.css("text-align","right"),"rtl"==o.dir||a.numericInput){o.dir="ltr",F.removeAttr("dir");var s=F.data("_inputmask");s.isRTL=!0,F.data("_inputmask",s),Y=!0}F.unbind(".inputmask"),F.removeClass("focus.inputmask"),F.closest("form").bind("submit",function(){W!=f().join("")&&F.change()}).bind("reset",function(){setTimeout(function(){F.trigger("setvalue")},0)}),F.bind("mouseenter.inputmask",function(){var t=this;!e(this).hasClass("focus.inputmask")&&a.showMaskOnHover&&t._valueGet()!=f().join("")&&S(t,f())}).bind("blur.inputmask",function(){var o=e(this),i=this,r=i._valueGet(),s=f();o.removeClass("focus.inputmask"),W!=f().join("")&&o.change(),a.clearMaskOnLostFocus&&""!=r&&(r==p().join("")?i._valueSet(""):M(i)),!1===I(s)&&(o.trigger("incomplete"),a.clearIncomplete&&(e.each(t,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1)}),n=0,a.clearMaskOnLostFocus?i._valueSet(""):S(i,s=p().slice())))}).bind("focus.inputmask",function(){var t=e(this),n=this,o=n._valueGet();a.showMaskOnFocus&&!t.hasClass("focus.inputmask")&&(!a.showMaskOnHover||a.showMaskOnHover&&""==o)&&n._valueGet()!=f().join("")&&S(n,f(),y(d().lastValidPosition)),t.addClass("focus.inputmask"),W=f().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),n=this;a.clearMaskOnLostFocus&&(t.hasClass("focus.inputmask")||n._valueGet()==t.attr("placeholder")||(n._valueGet()==p().join("")||""==n._valueGet()?n._valueSet(""):M(n)))}).bind("click.inputmask",function(){var t=this;setTimeout(function(){var n=j(t),o=f();if(n.begin==n.end){var i,r=Y?L(n.begin):n.begin,s=d().lastValidPosition;r<(i=a.isNumeric&&!1===a.skipRadixDance&&""!=a.radixPoint&&-1!=e.inArray(a.radixPoint,o)?a.numericInput?y(e.inArray(a.radixPoint,o)):e.inArray(a.radixPoint,o):y(s))?h(r)?j(t,r):j(t,y(r)):j(t,i)}},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){j(e,0,y(d().lastValidPosition))},0)}).bind(c+".inputmask dragdrop.inputmask drop.inputmask",function(t){if(!0===J)return J=!1,!0;var n=this,o=e(n);if("propertychange"==t.type&&n._valueGet().length<=b())return!0;setTimeout(function(){var e=void 0!=a.onBeforePaste?a.onBeforePaste.call(this,n._valueGet()):n._valueGet();T(n,!0,!1,e.split(""),!0),!0===I(f())&&o.trigger("complete"),o.click()},0)}).bind("setvalue.inputmask",function(){var e=this;T(e,!0),W=f().join(""),e._valueGet()==p().join("")&&e._valueSet("")}).bind("complete.inputmask",a.oncomplete).bind("incomplete.inputmask",a.onincomplete).bind("cleared.inputmask",a.oncleared).bind("keyup.inputmask",G),l?F.bind("input.inputmask",q):F.bind("keydown.inputmask",N).bind("keypress.inputmask",U),i&&F.bind("input.inputmask",q),T(o,!0,!1),W=f().join("");var u;try{u=document.activeElement}catch(e){}u===o?(F.addClass("focus.inputmask"),j(o,y(d().lastValidPosition))):a.clearMaskOnLostFocus?f().join("")==p().join("")?o._valueSet(""):M(o):S(o,f()),R(o)}}(o.el);break;case"format":return(F=e({})).data("_inputmask",{masksets:t,activeMasksetIndex:n,opts:a,isRTL:a.numericInput}),a.numericInput&&(a.isNumeric=a.numericInput,Y=!0),T(F,!1,!1,o.value.split(""),!0),f().join("")}}if(void 0===e.fn.inputmask){var i=null!==navigator.userAgent.match(new RegExp("msie 10","i")),r=null!==navigator.userAgent.match(new RegExp("iphone","i")),s=null!==navigator.userAgent.match(new RegExp("android.*safari.*","i")),l=null!==navigator.userAgent.match(new RegExp("android.*chrome.*","i")),c=t("paste")?"paste":t("input")?"input":"propertychange";e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:e.noop,onKeyDown:e.noop,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-zА-яЁё]",cardinality:1},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(e,t,n,a,o){var i=e.length;return t||("*"==n?i=a.length+1:n>1&&(i+=e.length*(n-1))),i}},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,i){var r=e.extend(!0,{},e.inputmask.defaults,i);return n(r.alias,i,r),o(a(r),0,r,{action:"format",value:t})}},e.fn.inputmask=function(t,i){var r,s=e.extend(!0,{},e.inputmask.defaults,i),l=0;if("string"==typeof t)switch(t){case"mask":return n(s.alias,i,s),r=a(s),0==r.length?this:this.each(function(){o(e.extend(!0,{},r),0,s,{action:"mask",el:this})});case"unmaskedvalue":var c=e(this);return c.data("_inputmask")?(r=c.data("_inputmask").masksets,l=c.data("_inputmask").activeMasksetIndex,s=c.data("_inputmask").opts,o(r,l,s,{action:"unmaskedvalue",$input:c})):c.val();case"remove":return this.each(function(){var t=e(this),n=this;if(t.data("_inputmask")){r=t.data("_inputmask").masksets,l=t.data("_inputmask").activeMasksetIndex,s=t.data("_inputmask").opts,n._valueSet(o(r,l,s,{action:"unmaskedvalue",$input:t,skipDatepickerCheck:!0})),t.removeData("_inputmask"),t.unbind(".inputmask"),t.removeClass("focus.inputmask");var a;Object.getOwnPropertyDescriptor&&(a=Object.getOwnPropertyDescriptor(n,"value")),a&&a.get?n._valueGet&&Object.defineProperty(n,"value",{get:n._valueGet,set:n._valueSet}):document.__lookupGetter__&&n.__lookupGetter__("value")&&n._valueGet&&(n.__defineGetter__("value",n._valueGet),n.__defineSetter__("value",n._valueSet));try{delete n._valueGet,delete n._valueSet}catch(e){n._valueGet=void 0,n._valueSet=void 0}}});case"getemptymask":return this.data("_inputmask")?(r=this.data("_inputmask").masksets,l=this.data("_inputmask").activeMasksetIndex,r[l]._buffer.join("")):"";case"hasMaskedValue":return!!this.data("_inputmask")&&!this.data("_inputmask").opts.autoUnmask;case"isComplete":return r=this.data("_inputmask").masksets,l=this.data("_inputmask").activeMasksetIndex,s=this.data("_inputmask").opts,o(r,l,s,{action:"isComplete",buffer:this[0]._valueGet().split("")});case"getmetadata":return this.data("_inputmask")?(r=this.data("_inputmask").masksets,l=this.data("_inputmask").activeMasksetIndex,r[l].metadata):void 0;default:return n(t,i,s)||(s.mask=t),r=a(s),0==r.length?this:this.each(function(){o(e.extend(!0,{},r),l,s,{action:"mask",el:this})})}else{if("object"==typeof t)return s=e.extend(!0,{},e.inputmask.defaults,t),n(s.alias,t,s),r=a(s),0==r.length?this:this.each(function(){o(e.extend(!0,{},r),l,s,{action:"mask",el:this})});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var a=e.parseJSON("{"+t+"}");e.extend(!0,a,i),n((s=e.extend(!0,{},e.inputmask.defaults,a)).alias,a,s),s.alias=void 0,e(this).inputmask(s)}catch(e){}})}}}}(jQuery),function(e){function t(e,t,o){var i=e[0],r=/er/.test(o)?m:/bl/.test(o)?f:u,s=o==h?{checked:i[u],disabled:i[f],indeterminate:"true"==e.attr(m)||"false"==e.attr(v)}:i[r];if(/^(ch|di|in)/.test(o)&&!s)n(e,r);else if(/^(un|en|de)/.test(o)&&s)a(e,r);else if(o==h)for(r in s)s[r]?n(e,r,!0):a(e,r,!0);else t&&"toggle"!=o||(t||e[k]("ifClicked"),s?i[g]!==d&&a(e,r):n(e,r))}function n(t,n,o){var h=t[0],k=t.parent(),w=n==u,x=n==m,S=n==f,_=x?v:w?p:"enabled",$=i(t,_+r(h[g])),A=i(t,n+r(h[g]));if(!0!==h[n]){if(!o&&n==u&&h[g]==d&&h.name){var T=t.closest("form"),E='input[name="'+h.name+'"]';(E=T.length?T.find(E):e(E)).each(function(){this!==h&&e(this).data(l)&&a(e(this),n)})}x?(h[n]=!0,h[u]&&a(t,u,"force")):(o||(h[n]=!0),w&&h[m]&&a(t,m,!1)),s(t,w,n,o)}h[f]&&i(t,C,!0)&&k.find("."+c).css(C,"default"),k[b](A||i(t,n)||""),S?k.attr("aria-disabled","true"):k.attr("aria-checked",x?"mixed":"true"),k[y]($||i(t,_)||"")}function a(e,t,n){var a=e[0],o=e.parent(),l=t==u,d=t==m,h=t==f,k=d?v:l?p:"enabled",w=i(e,k+r(a[g])),x=i(e,t+r(a[g]));!1!==a[t]&&(!d&&n&&"force"!=n||(a[t]=!1),s(e,l,k,n)),!a[f]&&i(e,C,!0)&&o.find("."+c).css(C,"pointer"),o[y](x||i(e,t)||""),h?o.attr("aria-disabled","false"):o.attr("aria-checked","false"),o[b](w||i(e,k)||"")}function o(t,n){t.data(l)&&(t.parent().html(t.attr("style",t.data(l).s||"")),n&&t[k](n),t.off(".i").unwrap(),e(w+'[for="'+t[0].id+'"]').add(t.closest(w)).off(".i"))}function i(e,t,n){if(e.data(l))return e.data(l).o[t+(n?"":"Class")]}function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e,t,n,a){a||(t&&e[k]("ifToggled"),e[k]("ifChanged")[k]("if"+r(n)))}var l="iCheck",c=l+"-helper",d="radio",u="checked",p="un"+u,f="disabled",v="determinate",m="in"+v,h="update",g="type",b="addClass",y="removeClass",k="trigger",w="label",C="cursor",x=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);e.fn[l]=function(i,r){var s='input[type="checkbox"], input[type="'+d+'"]',p=e(),v=function(t){t.each(function(){var t=e(this);p=t.is(s)?p.add(t):p.add(t.find(s))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(i))return i=i.toLowerCase(),v(this),p.each(function(){var n=e(this);"destroy"==i?o(n,"ifDestroyed"):t(n,!0,i),e.isFunction(r)&&r()});if("object"!=typeof i&&i)return this;var C=e.extend({checkedClass:u,disabledClass:f,indeterminateClass:m,labelHover:!0,aria:!1},i),S=C.handle,_=C.hoverClass||"hover",$=C.focusClass||"focus",A=C.activeClass||"active",T=!!C.labelHover,E=C.labelHoverClass||"hover",P=0|(""+C.increaseArea).replace("%","");return"checkbox"!=S&&S!=d||(s='input[type="'+S+'"]'),-50>P&&(P=-50),v(this),p.each(function(){var i=e(this);o(i);var r=this,s=r.id,p={position:"absolute",top:v=-P+"%",left:v,display:"block",width:p=100+2*P+"%",height:p,margin:0,padding:0,background:"#fff",border:0,opacity:0},v=x?{position:"absolute",visibility:"hidden"}:P?p:{position:"absolute",opacity:0},m="checkbox"==r[g]?C.checkboxClass||"icheckbox":C.radioClass||"i"+d,S=e(w+'[for="'+s+'"]').add(i.closest(w)),M=!!C.aria,L=l+"-"+Math.random().toString(36).replace("0.",""),j='<div class="'+m+'" '+(M?'role="'+r[g]+'" ':"");S.length&&M&&S.each(function(){j+='aria-labelledby="',this.id?j+=this.id:(this.id=L,j+=L),j+='"'}),j=i.wrap(j+"/>")[k]("ifCreated").parent().append(C.insert),p=e('<ins class="'+c+'"/>').css(p).appendTo(j),i.data(l,{o:C,s:i.attr("style")}).css(v),C.inheritClass&&j[b](r.className||""),C.inheritID&&s&&j.attr("id",l+"-"+s),"static"==j.css("position")&&j.css("position","relative"),t(i,!0,h),S.length&&S.on("click.i mouseover.i mouseout.i touchbegin.i touchend.i",function(n){var a=n[g],o=e(this);if(!r[f]){if("click"==a){if(e(n.target).is("a"))return;t(i,!1,!0)}else T&&(/ut|nd/.test(a)?(j[y](_),o[y](E)):(j[b](_),o[b](E)));if(!x)return!1;n.stopPropagation()}}),i.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[g];return e=e.keyCode,"click"!=t&&("keydown"==t&&32==e?(r[g]==d&&r[u]||(r[u]?a(i,u):n(i,u)),!1):void("keyup"==t&&r[g]==d?!r[u]&&n(i,u):/us|ur/.test(t)&&j["blur"==t?y:b]($)))}),p.on("click mousedown mouseup mouseover mouseout touchbegin.i touchend.i",function(e){var n=e[g],a=/wn|up/.test(n)?A:_;if(!r[f]){if("click"==n?t(i,!1,!0):(/wn|er|in/.test(n)?j[b](a):j[y](a+" "+A),S.length&&T&&a==_&&S[/ut|nd/.test(n)?y:b](E)),!x)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto);