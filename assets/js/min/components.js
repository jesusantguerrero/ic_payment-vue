function fillBSTable(e,t){var a=$(e);a.bootstrapTable("destroy"),a.find("tbody").html(t),a.bootstrapTable(),$(".pull-right.search").addClass("hide"),a.find("tbody").css({display:"table-row-group"}),a.addClass("innertable")}function filterBSTable(e,t){$(e).bootstrapTable("filterBy",{estado:t})}function isCurrentPage(e){return getCurrentPage()==e}function getCurrentPage(){var e=$("title").text().split(" ");return e=e[4].toLowerCase().trim()}function cierreCajaFunctions(){function e(e){for(var t=0,a=0;a<e.length;a++)t+=parseFloat(e[a]);return t}function t(){return moment().format("YYYY-MM-DD")}var a={total1:0,total5:0,total10:0,total20:0,total25:0,total50:0,total100:0,total200:0,total500:0,total1000:0,total2000:0},o={fecha:"",descripcion:"",monto:""},s=[{fecha:t(),descripcion:"hola",monto:2e3,id_gasto:1}],i=$("#autor-cierre").text().trim(),n=new Vue({el:"#app-cierre",data:{isHide:!1,fecha:t(),data_cierre:{autor:i,pagos_facturas:0,pagos_extras:0,pagos_efectivo:0,pagos_banco:0,total_ingresos:0,efectivo_caja:0,total_descuadre:0,total_gastos:0,banco:0},conteo:a,suma:0,gasto:o,gastos:s},mounted:function(){this.getGastos(),this.setIngresos()},created:function(){$(".will-load").css({visibility:"visible"})},filters:{currencyFormat:function(e){return CurrencyFormat(e)}},methods:{changeTotal:function(e){var t=e.srcElement.attributes["data-unit"].value,o=e.srcElement.value;a["total"+t]=o*t*1},addGasto:function(e){var a=this.gasto;a.fecha=t(),form="data="+JSON.stringify(a);var o=axios.post(BASE_URL+"caja/add_gasto",form);o.then(function(e){var t=e.data;displayMessage(t.mensaje),n.fillGastos(t.gastos,"normal"),n.setGastoTotal(t.total_gastos)}),o.catch(function(){console.log(error)})},fillGastos:function(e,t){"group"==t?null!=e||e.length>0?n.gastos=e:n.gastos=[]:n.gastos.push(JSON.parse(e)[0])},setGastoTotal:function(e){this.data_cierre.total_gastos=e},getGasto:function(e){var t=this.gasto;form="data="+JSON.stringify(t),connectAndSend("caja/get_gasto",!1,null,n.fillGastos,form,null,null)},deleteGasto:function(e){console.log(e);var a=e.target;"i"==a.localname&&(a=a.parentElement);var o=a.attributes["data-id"].value;swal({title:"Está Seguro?",text:"Seguro de que quiere eliminar este gasto?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){form="data="+JSON.stringify({id:o,fecha:t()});var e=axios.post(BASE_URL+"caja/delete_gasto",form);e.then(function(e){var t=e.data;displayMessage(t.mensaje),n.fillGastos(t.gastos,"group"),n.setGastoTotal(t.total_gastos)}),e.catch(function(e){})})},getGastos:function(){var e={fecha:t()};form="data="+JSON.stringify(e);var a=axios.post(BASE_URL+"caja/get_gastos",form);a.then(function(e){var t=e.data;displayMessage(t.mensaje),n.fillGastos(t.gastos,"group"),n.setGastoTotal(t.total_gastos)}),a.catch(function(){console.log(error)})},setIngresos:function(){var e="data="+JSON.stringify({fecha:t()}),a=this.data_cierre,o=axios.post(BASE_URL+"caja/get_ingresos",e);o.then(function(e){var t=e.data;a.pagos_facturas=t.pagos_facturas,a.pagos_extras=t.pagos_extras,a.pagos_efectivo=t.pagos_efectivo,a.pagos_banco=t.pagos_banco,a.total_ingresos=parseFloat(t.pagos_facturas)+parseFloat(a.pagos_extras),a.total_descuadre=-a.pagos_efectivo+a.efectivo_caja}),o.catch(function(){console.log(error)})},cerrarCaja:function(){var e=this,t=this.data_cierre;window.cierre=t,0!=t.total_descuadre?swal({title:"Está Seguro?",text:"Hay un descuadre en la caja, quiere hacer el cierre de todos modos?",type:"warning",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(function(){e.cerrar(t)}):e.cerrar(t)},cerrar:function(e){e.fecha=t(),form="data="+JSON.stringify(e);var a=axios.post(BASE_URL+"caja/add_cierre",form);a.then(function(t){var a=t.data;displayMessage(a.mensaje),self.isHide=!0,appSummaryView.isHide=!1,appSummaryView.cierre=e,$("#app-cierre").addClass("hide"),$(".top-nav").addClass("hide"),$("#print-view").css({visibility:"visible"})}),a.catch(function(){console.log(error)})}},computed:{getTotal:function(t){var o=a,s=this.data_cierre,i=e([o.total1,o.total5,o.total10,o.total20,o.total25,o.total50,o.total100,o.total200,o.total500,o.total1000,o.total2000]);return this.suma=i,s.efectivo_caja=i.toFixed(2),s.total_descuadre=parseFloat(-s.pagos_efectivo)+parseFloat(s.efectivo_caja),s.banco=parseFloat(s.pagos_banco)+parseFloat(s.pagos_efectivo)-parseFloat(s.total_gastos)+parseFloat(s.total_descuadre),this.suma},decimals:function(){["pagos_facturas","pagos_extra","pagos_efectivo","pagos_banco","total_ingresos","efectivo_caja","total_descuadre","total_gasto","banco"].forEach(function(e){this.data_cierre[e]=this.data_cierre[e].toFixed(2)},this)}}});window.appCierre=n}function fetchReportData(){var e=axios.get(BASE_URL+"caja/get_last_cierre");e.then(function(e){cajaWeekChart(e.data),appVistaDetalle.cierre=e.data.cierre}),e.catch(function(e){});var t="data="+JSON.stringify({year:moment().format("YYYY")});axios.post(BASE_URL+"caja/get_year_info",t).then(function(e){yearChart(e.data.gastos,e.data.ganancias)})}function cajaWeekChart(e){var t=$("#ganancias-chart"),a={type:"bar",data:{labels:e.labels,datasets:[{label:"Valores",data:e.values,backgroundColor:[colors.lightBlue6,colors.lightBlue6,colors.blue7,window.chartColors.blue,window.chartColors.green,colors.blueGreen,window.chartColors.red,window.chartColors.red,window.chartColors.blue]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{callback:function(e,t,a){return""!=e&&null!=e||(e=0),"RD$ "+CurrencyFormat(e)}}}],xAxes:[{ticks:{callback:function(e,t,a){return e.replace(/_/g," ")}}}]},tooltips:{callbacks:{label:function(e,t){return"RD$ "+CurrencyFormat(e.yLabel)}}},title:{display:!0,text:"Datos del ultimo cierre. hecho por "+e.autor+" el dia "+e.fecha}}};new Chart(t,a)}function yearChart(e,t){var a=$("#ganancias-mes-chart"),o={labels:meses,datasets:[{label:"Gastos",backgroundColor:window.chartColors.red,borderColor:window.chartColors.red,data:e,fill:!1},{label:"Banco(Ganancias)",fill:!1,backgroundColor:window.chartColors.blue,borderColor:window.chartColors.blue,data:t}]},s={responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{callback:function(e,t,a){return"RD$ "+CurrencyFormat(e)}}}]},tooltips:{callbacks:{label:function(e,t){return"RD$ "+CurrencyFormat(e.yLabel)}}},title:{display:!0,text:"Registros de cierre Este ultimo año"}};new Chart(a,{type:"line",data:o,options:s})}function getForm(e){return"data="+JSON.stringify(e)}var acountView=new Vue({el:"#acount-section",data:{user:{user_id:"",nickname:"",name:"",lastname:"",dni:"",type:"",email:""},isChangePassword:!1,currentPassword:"",newPassword:"",passwordConfirm:"",states:{"has-error":!1,"has-success":!1,button:!0}},mounted:function(){"cuenta"==currentPage&&this.getUser()},methods:{getUser:function(){var e=this,t=$("#acount-user-id").val(),a="data="+JSON.stringify({user_id:t});axios.post(BASE_URL+"user/get_user",a).then(function(t){var a=t.data.user;a.fullname=a.name+" "+a.lastname,e.user=a})},updateInfo:function(){this.isChangePassword?this.changePassword():this.changeEmail()},changePassword:function(){if(this.states["has-success"]){var e="data="+JSON.stringify({user_id:this.user.user_id,current_password:this.currentPassword,new_password:this.newPassword});axios.post(BASE_URL+"user/update_password",e).then(function(e){displayMessage(e.data.message),window.location=BASE_URL+"app/logut"})}else displayMessage("Las contraseñas no conciden")},changeEmail:function(){var e=this.user;swal({title:"Contraseña",input:"password"}).then(function(t){var a="data="+JSON.stringify({user_id:e.user_id,password:t,field:"email",value:e.email});axios.post(BASE_URL+"user/update_field",a).then(function(e){displayMessage(e.data.message)})})},confirmPasswordServer:function(e){var t="data="+JSON.stringify({user_id:this.user.user_id,current_password:e});return new Promise(function(e,a){axios.post(BASE_URL+"user/confirm_password",t).then(function(t){e(t.data.is_correct)})})},confirmPassword:function(){var e=this;this.confirmPasswordServer(this.currentPassword).then(function(t){e.isChangePassword=t})},checkPassword:function(){this.newPassword==this.passwordConfirm&&this.changePassword?(this.setStates(!0,!1),this.states.button=!0):this.changePassword?(this.setStates(!1,!0),this.states.button=!1):this.setStates(!1,!1)},setStates:function(e,t){this.states["has-success"]=e,this.states["has-error"]=t}}});(isCurrentPage("cierre")||isCurrentPage("cierre2"))&&cierreCajaFunctions(),Vue.component("summary-print-view",{template:'    <div class="print-container">      <div class="__header">      <h2 class="__title t-center"> {{title}}</h2>      </div>      <div class="__body">      <printeable></printeable>      </div>    <div>        ',props:["somevalue"],methods:{goBack:function(){appSummaryView.isHide=!0,window.appCierre.isHide=!1,self.isHide=!0,$(".top-nav").removeClass("hide"),$("#app-cierre").removeClass("hide")}},data:function(){return{back:{link:"somelink",text:"volver a cierre"},foward:{link:BASE_URL+"app/logout",text:"cerrar session"},title:"Resumen de cierre de hoy"}}});var appSummaryView=new Vue({el:"#print-view",data:{isHide:!0,back:{link:"somelink",text:"volver a cierre"},foward:{link:BASE_URL+"app/logout",text:"cerrar session"},cierre:{autor:"",pagos_facturas:0,pagos_extras:0,pagos_efectivo:0,pagos_banco:0,total_ingresos:0,efectivo_caja:0,total_descuadre:0,total_gastos:0,banco:0}},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)},spanishDateFormat:function(e){return moment.locale("es-DO"),moment(e).format("dddd DD [de] MMMM [del] YYYY")}},methods:{goBack:function(){appSummaryView.isHide=!0,window.appCierre.isHide=!1,self.isHide=!0,$(".top-nav").removeClass("hide"),$("#app-cierre").removeClass("hide")},print:function(){print()}}}),closeReport=new Vue({el:"#cierres",data:{table:"",tableHTML:"",hasTotals:!1,totals:!1,between:{first_date:"",second_date:"",text:""}},mounted:function(){"informes"==currentPage&&this.getReport()},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{getReport:function(){var e=this,t="data="+JSON.stringify(this.between);axios.post(BASE_URL+"caja/get_cierres/true",t).then(function(t){e.fillTable(t.data.content),e.hasTotals=!0,e.totals=t.data.acum})},fillTable:function(e){fillBSTable("#cierres-table",e)}}}),expensesReport=new Vue({el:"#gastos",data:{table:"",tableHTML:"",total:"",between:{first_date:"",second_date:"",text:""}},mounted:function(){"informes"==currentPage&&this.getReport()},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{getReport:function(){var e=this,t="data="+JSON.stringify(this.between);axios.post(BASE_URL+"caja/get_gastos/true",t).then(function(t){e.fillTable(t.data.content),e.total=t.data.acum})},fillTable:function(e){fillBSTable("#gastos-table",e)}}}),listExtras="",reciboReset={id_pago:0,id_contrato:0,id_servicio:0,id_empleado:0,fecha_pago:"",concepto:"extra",detalles_extra:"",cuota:"",mora:"",monto_extra:"",total:"",estado:"",fecha_limite:"",complete_date:"",descuento:"",razon_descuento:"",deuda:"",abono_a:"",tipo:"",generado:""},appPagoExtra=new Vue({el:"#app-pago-extra",data:{recibo:{id_pago:0,id_contrato:0,id_servicio:0,id_empleado:0,fecha_pago:"dd/mm/yyyy",concepto:"extra",detalles_extra:"",cuota:"",mora:"",monto_extra:"",total:"",estado:"",fecha_limite:"",complete_date:"",descuento:"",razon_descuento:"",deuda:"",abono_a:"",tipo:"",generado:""},visible:!1,pagado:!1,extra:{controls:"",id_extra:"",id_servicio:"",checkbox:"",fecha:"",concepto:"",ultimo_pago:"",monto_pagado:"",monto_total:"",estado:""},firstControls:{hide:!1}},filters:{},computed:{url_recibo:function(){return BASE_URL+"process/getrecibo/"+this.recibo.id_pago},hide_recibo:function(){return"pagado"!=this.recibo.estado&&(this.hide_recibo=!0)},isPagado:function(){return this.pagado="pagado"==this.recibo.estado,this.pagado}},methods:{goBack:function(){extraTable.el.parents(".bootstrap-table").removeClass("hide"),this.visible=!1,this.extra={concepto:""},extraTable.refresh(listExtras)},generatePayment:function(){if(this.pagado||0==this.recibo.id_pago){var e="data="+JSON.stringify(this.extra),t=axios.post(BASE_URL+"extra/generate_extra_payment",e);t.then(function(e){var t=e.data;displayMessage(t.mensaje),selectExtraPayment.html(t.pagos).change()}),t.catch(function(){})}else displayMessage(MESSAGE_INFO+" Debe realizar este pago antes de crear uno nuevo")},getPayment:function(e){var t="data="+JSON.stringify({id_pago:e}),a=this;axios.post(BASE_URL+"extra/get_payment",t).then(function(e){var t=e.data;t.recibo&&(a.recibo=t.recibo)})},applyPayment:function(){0!=this.recibo.id_pago?this.sender("extra/apply_payment"):displayMessage(MESSAGE_INFO+" Debe generar un pago primero")},editPayment:function(){this.sender("extra/edit_payment")},sender:function(e){var t=this,a=this.prepareData(),o=a.info,s=a.data,i="data="+JSON.stringify(s)+"&info="+JSON.stringify(o),n=axios.post(BASE_URL+e,i);n.then(function(e){var a=e.data;listExtras=a.extras,t.getPayments(t.extra.id_extra),displayMessage(a.mensaje)}),n.catch(function(e){console.log(e)})},prepareData:function(e){return{data:{concepto:"extra -",detalles_extra:(e=this.recibo).detalles_extra,fecha_pago:e.fecha_pago,cuota:e.cuota,total:e.cuota,estado:"pagado",tipo:e.tipo,generado:!0},info:{id_extra:e.id_extra,id_pago:e.id_pago}}},getPayments:function(e){var t=this,a="data="+JSON.stringify({id_extra:e});axios.post(BASE_URL+"extra/get_extra_payment_of",a).then(function(e){var a=e.data;a.pagos||(t.recibo=reciboReset),selectExtraPayment.html(a.pagos).change()})},deletePayment:function(){var e=this,t=this.recibo,a={id_extra:t.id_extra,id_pago:t.id_pago},o="data="+JSON.stringify(a),s=axios.post(BASE_URL+"extra/delete_payment",o);s.then(function(t){var a=t.data;displayMessage(a.mensaje),e.getPayments(e.extra.id_extra)}),s.catch(function(e){console.log(e)})}}});bus.$on("row-selected",function(e){extraTable.el.parents(".bootstrap-table").addClass("hide"),appPagoExtra.visible=!0,appPagoExtra.extra=e,listExtras=extraTable.el.find("tbody").html(),appPagoExtra.getPayments(e.id_extra)});var selectExtraPayment=$("#select-extra-payment");selectExtraPayment.on("change",function(){var e=selectExtraPayment.val();appPagoExtra.getPayment(e)});var extraSection=new Vue({el:"#extra-section",data:{content:"",search:{text:"",state:"activo"},totales:{pagado:0,pendiente:0,total_vendido:0},tableId:"#extra-table-full"},mounted:function(){"extras"==currentPage&&this.getData()},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{filter:function(e){filterBSTable(this.tableId,this.filterValue)},getData:function(){var e=this,t="data="+JSON.stringify(this.search);axios.post(BASE_URL+"extra/get_all",t).then(function(t){e.fillTable(t.data.content),e.totales=t.data.totales})},fillTable:function(e){fillBSTable("#extra-table-full",e)}}}),configMessage={email:"",password:"",device_id:"",country_code:"",send_at:"1 second",expires_at:"1 hour"},configMessagesForm=new Vue({el:"#message-settings-section",data:{config:configMessage},mounted:function(){"administrador"==currentPage&&this.getConfig()},methods:{confirmPhone:function(){},getConfig:function(){var e,t=this;(e=axios.get(BASE_URL+"messages/get_config")).then(function(e){e.data.config&&(t.config=e.data.config)}),e.catch(function(e){console.log(e)})},saveSettings:function(e){var t,a,o;t=this.config,a="data="+JSON.stringify(t),(o=axios.post(BASE_URL+"messages/save_config",a)).then(function(e){displayMessage(e.data.mensaje)}),o.catch(function(e){console.log(e)})}}}),sendMessageApp=new Vue({el:"#send-message-modal",data:{hide_clients:!0,hide_numbers:!0,message_data:{tipo:"",clientes:"",numeros:"",mensaje:""}},mounted:function(){this.initSelect2()},computed:{letters_count:function(){return this.message_data.mensaje.length}},methods:{sendMessage:function(){var e,t;isEmpty([this.message_data.tipo,this.message_data.mensaje])?swal("Campos Requeridos","Por favor selecciones el tipo de mensaje y escriba su mensaje"):(e="data="+JSON.stringify(this.message_data),(t=axios.post(BASE_URL+"messages/send_message",e)).then(function(e){displayMessage(e.data.mensaje)}),t.catch(function(e){console.log(e)}))},initSelect2:function(){var e={dropdownParent:$("#send-message-modal")},t=$("#message-type");t.select2(e);var a={clients:$("#clients-for-message").select2({dropdownParent:$("#send-message-modal"),ajax:{url:BASE_URL+"messages/search_clients",dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:30*t.page<e.total_count}}},cache:!0}}),messageType:t};this.selec2Liteners(a)},selec2Liteners:function(e){var t=this;e.messageType.on("select2:select",function(e){e.params.data.element.attributes;var a=e.params.data.id;t.message_data.tipo=a,"otros"==a?(t.hide_clients=!0,t.hide_numbers=!1):"personalizado"==a?(t.hide_numbers=!0,t.hide_clients=!1):(t.hide_clients=!0,t.hide_numbers=!0)}),e.messageType.select2("val","mora"),e.clients.on("select2:select",function(a){for(var o=e.clients.select2("data"),s=[],i=0;i<o.length;i++)s.push({nombre_completo:o[i].text,celular:o[i].id});t.message_data.clientes=s})}}}),paymentsReport=new Vue({el:"#recibos",data:{table:"",tableHTML:"",total:"",between:{first_date:"",second_date:"",text:""}},mounted:function(){"notificaciones"==currentPage&&this.getReport()},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{getReport:function(){var e=this,t="data="+JSON.stringify(this.between);axios.post(BASE_URL+"payment/get_receipts/",t).then(function(t){e.fillTable(t.data.content),e.total=t.data.acum})},fillTable:function(e){var t=$("#receipts-table");t.bootstrapTable("destroy"),t.find("tbody").html(e),t.bootstrapTable(),t.find("tbody").css({display:"table-row-group"})}}});"reportes"==currentPage&&fetchReportData(),window.chartColors={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"};var meses=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],colors={green:"rgba(0,230,118 ,1)",blueGreen:"rgba(29,233,182 ,1)",blue7:"rgba(25,118,210 ,1)",lightBlue6:"rgba(3,155,229 ,1)",red3:"rgba(229,115,115 ,1)",deepOrange4:"rgba(255,112,67 ,1)"},cierre={autor:"",banco:0,dinero_real_en_caja:0,fecha:"",pago_de_facturas:0,pagos_de_extras:0,pagos_en_efectivo:0,pagos_via_banco:0,total_de_ingresos:0,total_descuadre:0},appVistaDetalle=new Vue({el:"#app-vista-detalle",data:{cierre:cierre},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{print:function(){print()}}}),RetirementReport=new Vue({el:"#retiros",data:{table:"",tableHTML:"",between:{first_date:"",second_date:""}},mounted:function(){"notificaciones"==currentPage&&this.getReport()},methods:{getReport:function(){var e=this,t="data="+JSON.stringify(this.between);axios.post(BASE_URL+"contract/getCancelations/",t).then(function(t){e.fillTable(t.data.content)})},fillTable:function(e){var t=$("#cancelation-table");t.bootstrapTable("destroy"),t.find("tbody").html(e),t.bootstrapTable(),t.find("tbody").css({display:"table-row-group"})}}}),ticketListView=new Vue({el:"#averias-list-view",data:{dataSearch:{text:"",state:"por reparar"},tickets:[],hide:!1},mounted:function(){this.itemClickListener();var e=this;busAveria.$on("tickets-listed",function(){e.itemClickListener()})},methods:{search:function(){var e="data="+JSON.stringify(this.dataSearch),t=axios.post(BASE_URL+"api/averias/search",e);t.then(function(e){this.fillAveriasList(e.data)}),t.catch(function(){console.error(res.data.mensaje)})},fillAveriasList:function(e){$("#averia-item-list").html(e),ticketListView.itemClickListener()},itemClickListener:function(){$("#averias-list-view .averia-item").on("click",function(){var e=$(this).find(".code").text().trim();ticketView.getTicket(e)})}}}),emptyTicket={id_averia:"",id_cliente:"",cliente:"",direccion:"",descripcion:"",celular:"",fecha:"",estado:"",fecha_reparacion:"",tecnico:"",codigo:""},ticketView=new Vue({el:"#ticket-view",data:{classes:{hide:!0},mode:{newComment:!1,edit:!1},new_comment:"",comments:[],ticket:emptyTicket},created:function(){$("#ticket-view").removeClass("invisible")},methods:{getTicket:function(e){var t="data="+JSON.stringify({id_averia:e});axios.post(BASE_URL+"api/averias/get_averia",t).then(function(e){var t=e.data;ticketView.classes.hide=!1,ticketListView.hide=!0,ticketView.ticket=t.ticket,ticketView.comments=t.comments})},quit:function(){this.ticket=emptyTicket,this.comments=null,this.classes.hide=!0,this.closeCommentMode(),ticketListView.hide=!1},print:function(){print()},startComment:function(){this.mode.newComment=!0},addComment:function(){var e=getForm({id_averia:this.ticket.id_averia,descripcion:this.new_comment}),t=this;axios.post(BASE_URL+"api/averias/add_comment",e).then(function(e){t.getComments(),t.closeCommentMode(),displayMessage(e.data.mensaje)})},_deleteComment:function(e){var t=e.target.parentNode.parentNode,a=e.target.parentNode.attributes["data-id"].value,o=this;t.classList.add("to-delete"),swal({title:"Está Seguro?",text:"Seguro de que eliminar este reporte?",type:"warning",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then(function(){o.deleteComment(a),t.classList.remove("to-delete")}).catch(function(){t.classList.remove("to-delete")})},deleteComment:function(e){var t=this,a=getForm({id_reporte:e});axios.post(BASE_URL+"api/averias/delete_comment",a).then(function(e){t.getComments(),displayMessage(e.data.mensaje)})},editComment:function(){},closeCommentMode:function(){this.mode.newComment=!1,this.new_comment=""},getComments:function(){var e=getForm({id_averia:this.ticket.id_averia}),t=this;axios.post(BASE_URL+"api/averias/get_comments",e).then(function(e){t.comments=e.data.comments})},updateDescription:function(){this.updateTicket(["id_averia","descripcion","tecnico","estado","fecha_reparacion"])},updateState:function(){"por reparar"==this.ticket.estado?this.ticket.fecha_reparacion="":this.ticket.fecha_reparacion=moment().format("YYYY-MM-DD")},updateTicket:function(e){this.closeEditMode();var t=getForm(this.getFields(e));axios.post(BASE_URL+"api/averias/update_averia",t).then(function(e){ticketListView.search(),displayMessage(e.data.mensaje)})},deleteTicket:function(){console.info("deleted")},closeEditMode:function(){this.mode.edit=!1},enterEditMode:function(){this.mode.edit=!0},getFields:function(e){var t={},a=this;return e.forEach(function(e){t[e]=a.ticket[e]},this),t}}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkEtTGliLmpzIiwiY2llcnJlQ2FqYS5qcyIsIlJlcG9ydGVzR3JhZmljb3MuanMiLCJBY291bnQuanMiLCJjbG9zZVJlcG9ydC4xLmpzIiwiRXhwZW5zZXNSZXBvcnQuanMiLCJleHRyYXMuanMiLCJFeHRyYVNlY3Rpb24uanMiLCJNZXNzYWdlcy5qcyIsIlBheW1lbnRzLmpzIiwiUmV0aXJlbWVudHMuanMiLCJUaWNrZXRzLmpzIl0sIm5hbWVzIjpbImZpbGxCU1RhYmxlIiwidGFibGVJZCIsImNvbnRlbnQiLCIkdGFibGUiLCIkIiwiYm9vdHN0cmFwVGFibGUiLCJmaW5kIiwiaHRtbCIsImFkZENsYXNzIiwiY3NzIiwiZGlzcGxheSIsImZpbHRlckJTVGFibGUiLCJzdGF0ZSIsImVzdGFkbyIsImlzQ3VycmVudFBhZ2UiLCJwYWdlTmFtZSIsImdldEN1cnJlbnRQYWdlIiwiY3VycmVudFBhZ2UiLCJ0ZXh0Iiwic3BsaXQiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJjaWVycmVDYWphRnVuY3Rpb25zIiwic3VtYXIiLCJ2YWxvcmVzIiwic3VtYSIsImkiLCJsZW5ndGgiLCJwYXJzZUZsb2F0Iiwibm93IiwibW9tZW50IiwiZm9ybWF0IiwidG90YWxlcyIsInRvdGFsMSIsInRvdGFsNSIsInRvdGFsMTAiLCJ0b3RhbDIwIiwidG90YWwyNSIsInRvdGFsNTAiLCJ0b3RhbDEwMCIsInRvdGFsMjAwIiwidG90YWw1MDAiLCJ0b3RhbDEwMDAiLCJ0b3RhbDIwMDAiLCJnYXN0byIsImZlY2hhIiwiZGVzY3JpcGNpb24iLCJtb250byIsImdhc3RvcyIsImlkX2dhc3RvIiwiYXV0b3IiLCJhcHBDaWVycmUiLCJWdWUiLCJlbCIsImRhdGEiLCJpc0hpZGUiLCJkYXRhX2NpZXJyZSIsInBhZ29zX2ZhY3R1cmFzIiwicGFnb3NfZXh0cmFzIiwicGFnb3NfZWZlY3Rpdm8iLCJwYWdvc19iYW5jbyIsInRvdGFsX2luZ3Jlc29zIiwiZWZlY3Rpdm9fY2FqYSIsInRvdGFsX2Rlc2N1YWRyZSIsInRvdGFsX2dhc3RvcyIsImJhbmNvIiwiY29udGVvIiwibW91bnRlZCIsInRoaXMiLCJnZXRHYXN0b3MiLCJzZXRJbmdyZXNvcyIsImNyZWF0ZWQiLCJ2aXNpYmlsaXR5IiwiZmlsdGVycyIsImN1cnJlbmN5Rm9ybWF0IiwibnVtYmVyIiwiQ3VycmVuY3lGb3JtYXQiLCJtZXRob2RzIiwiY2hhbmdlVG90YWwiLCJlIiwidW5pdCIsInNyY0VsZW1lbnQiLCJhdHRyaWJ1dGVzIiwidmFsdWUiLCJjYW50aWRhZCIsImFkZEdhc3RvIiwiZm9ybSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZW5kIiwiYXhpb3MiLCJwb3N0IiwiQkFTRV9VUkwiLCJ0aGVuIiwicmVzcG9uc2UiLCJkaXNwbGF5TWVzc2FnZSIsIm1lbnNhamUiLCJmaWxsR2FzdG9zIiwic2V0R2FzdG9Ub3RhbCIsImNhdGNoIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiZ2FzdG9zX3NlcnZpZG9yIiwibW9kZSIsInB1c2giLCJwYXJzZSIsInRvdGFsR2FzdG9zIiwiZ2V0R2FzdG8iLCJjb25uZWN0QW5kU2VuZCIsImRlbGV0ZUdhc3RvIiwiY2FsbGVyIiwidGFyZ2V0IiwibG9jYWxuYW1lIiwicGFyZW50RWxlbWVudCIsImlkIiwic3dhbCIsInRpdGxlIiwidHlwZSIsInNob3dDYW5jZWxCdXR0b24iLCJjb25maXJtQnV0dG9uVGV4dCIsImNhbmNlbEJ1dHRvblRleHQiLCJzZWxmIiwiY2VycmFyQ2FqYSIsImNpZXJyZSIsIndpbmRvdyIsImNlcnJhciIsImFwcFN1bW1hcnlWaWV3IiwiY29tcHV0ZWQiLCJnZXRUb3RhbCIsInQiLCJ0b0ZpeGVkIiwiZGVjaW1hbHMiLCJmb3JFYWNoIiwiZmllbGQiLCJmZXRjaFJlcG9ydERhdGEiLCJnZXQiLCJjYWphV2Vla0NoYXJ0IiwiYXBwVmlzdGFEZXRhbGxlIiwieWVhciIsInJlcyIsInllYXJDaGFydCIsImdhbmFuY2lhcyIsImNhbnZhcyIsImNoYXJ0T3B0aW9ucyIsImxhYmVscyIsImRhdGFzZXRzIiwibGFiZWwiLCJ2YWx1ZXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvcnMiLCJsaWdodEJsdWU2IiwiYmx1ZTciLCJjaGFydENvbG9ycyIsImJsdWUiLCJncmVlbiIsImJsdWVHcmVlbiIsInJlZCIsIm9wdGlvbnMiLCJyZXNwb25zaXZlIiwibWFpbnRhaW5Bc3BlY3RSYXRpbyIsInNjYWxlcyIsInlBeGVzIiwidGlja3MiLCJjYWxsYmFjayIsImluZGV4IiwieEF4ZXMiLCJyZXBsYWNlIiwidG9vbHRpcHMiLCJjYWxsYmFja3MiLCJ0b29sdGlwSXRlbSIsInlMYWJlbCIsIkNoYXJ0IiwiJGNhbnZhcyIsIm1lc2VzIiwiYm9yZGVyQ29sb3IiLCJmaWxsIiwiYWNvdW50VmlldyIsInVzZXIiLCJ1c2VyX2lkIiwibmlja25hbWUiLCJuYW1lIiwibGFzdG5hbWUiLCJkbmkiLCJlbWFpbCIsImlzQ2hhbmdlUGFzc3dvcmQiLCJjdXJyZW50UGFzc3dvcmQiLCJuZXdQYXNzd29yZCIsInBhc3N3b3JkQ29uZmlybSIsInN0YXRlcyIsImhhcy1lcnJvciIsImhhcy1zdWNjZXNzIiwiYnV0dG9uIiwiZ2V0VXNlciIsInZhbCIsInVwZGF0ZUluZm8iLCJjaGFuZ2VQYXNzd29yZCIsImNoYW5nZUVtYWlsIiwiY3VycmVudF9wYXNzd29yZCIsIm5ld19wYXNzd29yZCIsIm1lc3NhZ2UiLCJsb2NhdGlvbiIsImlucHV0IiwicGFzc3dvcmQiLCJjb25maXJtUGFzc3dvcmRTZXJ2ZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImlzX2NvcnJlY3QiLCJjb25maXJtUGFzc3dvcmQiLCJjaGVja1Bhc3N3b3JkIiwic2V0U3RhdGVzIiwic3VjY2VzcyIsImNvbXBvbmVudCIsInRlbXBsYXRlIiwicHJvcHMiLCJnb0JhY2siLCJyZW1vdmVDbGFzcyIsImJhY2siLCJsaW5rIiwiZm93YXJkIiwic3BhbmlzaERhdGVGb3JtYXQiLCJkYXRlIiwibG9jYWxlIiwicHJpbnQiLCJjbG9zZVJlcG9ydCIsInRhYmxlIiwidGFibGVIVE1MIiwiaGFzVG90YWxzIiwidG90YWxzIiwiYmV0d2VlbiIsImZpcnN0X2RhdGUiLCJzZWNvbmRfZGF0ZSIsImdldFJlcG9ydCIsImZpbGxUYWJsZSIsImFjdW0iLCJleHBlbnNlc1JlcG9ydCIsInRvdGFsIiwibGlzdEV4dHJhcyIsInJlY2lib1Jlc2V0IiwiaWRfcGFnbyIsImlkX2NvbnRyYXRvIiwiaWRfc2VydmljaW8iLCJpZF9lbXBsZWFkbyIsImZlY2hhX3BhZ28iLCJjb25jZXB0byIsImRldGFsbGVzX2V4dHJhIiwiY3VvdGEiLCJtb3JhIiwibW9udG9fZXh0cmEiLCJmZWNoYV9saW1pdGUiLCJjb21wbGV0ZV9kYXRlIiwiZGVzY3VlbnRvIiwicmF6b25fZGVzY3VlbnRvIiwiZGV1ZGEiLCJhYm9ub19hIiwidGlwbyIsImdlbmVyYWRvIiwiYXBwUGFnb0V4dHJhIiwicmVjaWJvIiwidmlzaWJsZSIsInBhZ2FkbyIsImV4dHJhIiwiY29udHJvbHMiLCJpZF9leHRyYSIsImNoZWNrYm94IiwidWx0aW1vX3BhZ28iLCJtb250b19wYWdhZG8iLCJtb250b190b3RhbCIsImZpcnN0Q29udHJvbHMiLCJoaWRlIiwidXJsX3JlY2libyIsImhpZGVfcmVjaWJvIiwiaXNQYWdhZG8iLCJleHRyYVRhYmxlIiwicGFyZW50cyIsInJlZnJlc2giLCJnZW5lcmF0ZVBheW1lbnQiLCJzZWxlY3RFeHRyYVBheW1lbnQiLCJwYWdvcyIsImNoYW5nZSIsIk1FU1NBR0VfSU5GTyIsImdldFBheW1lbnQiLCJhcHBseVBheW1lbnQiLCJzZW5kZXIiLCJlZGl0UGF5bWVudCIsImVuZHBvaW50IiwicHJlcGFyZWREYXRhIiwicHJlcGFyZURhdGEiLCJpbmZvIiwiZXh0cmFzIiwiZ2V0UGF5bWVudHMiLCJkZWxldGVQYXltZW50IiwiYnVzIiwiJG9uIiwicm93Iiwib24iLCJleHRyYVNlY3Rpb24iLCJzZWFyY2giLCJwZW5kaWVudGUiLCJ0b3RhbF92ZW5kaWRvIiwiZ2V0RGF0YSIsImZpbHRlciIsImZpbHRlclZhbHVlIiwiY29uZmlnTWVzc2FnZSIsImRldmljZV9pZCIsImNvdW50cnlfY29kZSIsInNlbmRfYXQiLCJleHBpcmVzX2F0IiwiY29uZmlnTWVzc2FnZXNGb3JtIiwiY29uZmlnIiwiZ2V0Q29uZmlnIiwiY29uZmlybVBob25lIiwic2F2ZVNldHRpbmdzIiwiZXJyIiwic2VuZE1lc3NhZ2VBcHAiLCJoaWRlX2NsaWVudHMiLCJoaWRlX251bWJlcnMiLCJtZXNzYWdlX2RhdGEiLCJjbGllbnRlcyIsIm51bWVyb3MiLCJpbml0U2VsZWN0MiIsImxldHRlcnNfY291bnQiLCJzZW5kTWVzc2FnZSIsImlzRW1wdHkiLCJkcm9wZG93blBhcmVudCIsInNlbGVjdE1lc3NhZ2VUeXBlIiwic2VsZWN0MiIsInNlbGVjdHMiLCJjbGllbnRzIiwiYWpheCIsInVybCIsImRhdGFUeXBlIiwiZGVsYXkiLCJwYXJhbXMiLCJxIiwidGVybSIsInBhZ2UiLCJwcm9jZXNzUmVzdWx0cyIsInJlc3VsdHMiLCJpdGVtcyIsInBhZ2luYXRpb24iLCJtb3JlIiwidG90YWxfY291bnQiLCJjYWNoZSIsIm1lc3NhZ2VUeXBlIiwic2VsZWMyTGl0ZW5lcnMiLCJlbGVtZW50Iiwibm9tYnJlX2NvbXBsZXRvIiwiY2VsdWxhciIsInBheW1lbnRzUmVwb3J0Iiwib3JhbmdlIiwieWVsbG93IiwicHVycGxlIiwiZ3JleSIsInJlZDMiLCJkZWVwT3JhbmdlNCIsImRpbmVyb19yZWFsX2VuX2NhamEiLCJwYWdvX2RlX2ZhY3R1cmFzIiwicGFnb3NfZGVfZXh0cmFzIiwicGFnb3NfZW5fZWZlY3Rpdm8iLCJwYWdvc192aWFfYmFuY28iLCJ0b3RhbF9kZV9pbmdyZXNvcyIsIlJldGlyZW1lbnRSZXBvcnQiLCJ0aWNrZXRMaXN0VmlldyIsImRhdGFTZWFyY2giLCJ0aWNrZXRzIiwiaXRlbUNsaWNrTGlzdGVuZXIiLCJidXNBdmVyaWEiLCJmaWxsQXZlcmlhc0xpc3QiLCIkY29udGVudCIsImlkX2F2ZXJpYSIsInRpY2tldFZpZXciLCJnZXRUaWNrZXQiLCJlbXB0eVRpY2tldCIsImlkX2NsaWVudGUiLCJjbGllbnRlIiwiZGlyZWNjaW9uIiwiZmVjaGFfcmVwYXJhY2lvbiIsInRlY25pY28iLCJjb2RpZ28iLCJjbGFzc2VzIiwibmV3Q29tbWVudCIsImVkaXQiLCJuZXdfY29tbWVudCIsImNvbW1lbnRzIiwidGlja2V0IiwicXVpdCIsImNsb3NlQ29tbWVudE1vZGUiLCJzdGFydENvbW1lbnQiLCJhZGRDb21tZW50IiwiZ2V0Rm9ybSIsImdldENvbW1lbnRzIiwiX2RlbGV0ZUNvbW1lbnQiLCJjb21tZW50SXRlbSIsInBhcmVudE5vZGUiLCJpZENvbW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJkZWxldGVDb21tZW50IiwicmVtb3ZlIiwiaWRfcmVwb3J0ZSIsImVkaXRDb21tZW50IiwidXBkYXRlRGVzY3JpcHRpb24iLCJ1cGRhdGVUaWNrZXQiLCJ1cGRhdGVTdGF0ZSIsImZpZWxkcyIsImNsb3NlRWRpdE1vZGUiLCJnZXRGaWVsZHMiLCJkZWxldGVUaWNrZXQiLCJlbnRlckVkaXRNb2RlIiwic2VsZWN0ZWRGaWVsZHMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQUFBLFlBQUFDLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUMsRUFBQUgsR0FDQUUsRUFBQUUsZUFBQSxXQUNBRixFQUFBRyxLQUFBLFNBQUFDLEtBQUFMLEdBQ0FDLEVBQUFFLGlCQUNBRCxFQUFBLHNCQUFBSSxTQUFBLFFBQ0FMLEVBQUFHLEtBQUEsU0FBQUcsS0FBQUMsUUFBQSxvQkFDQVAsRUFBQUssU0FBQSxjQUlBLFNBQUFHLGNBQUFWLEVBQUFXLEdBQ0FSLEVBQUFILEdBQUFJLGVBQUEsWUFDQVEsT0FBQUQsSUNiQSxTQUFBRSxjQUFBQyxHQUNBLE9BQUFDLGtCQUFBRCxFQU1BLFNBQUFDLGlCQUNBLElBQUFDLEVBQUFiLEVBQUEsU0FBQWMsT0FBQUMsTUFBQSxLQUVBLE9BREFGLEVBQUFBLEVBQUEsR0FBQUcsY0FBQUMsT0FRQSxTQUFBQyxzQkEyT0EsU0FBQUMs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QUNBclQsUUFBQTZMLEtBQUEsWUFHQXNILGNBQUEsV0FDQW5WLEtBQUFvQyxLQUFBdVIsTUFBQSxHQUdBMkIsY0FBQSxXQUNBdFYsS0FBQW9DLEtBQUF1UixNQUFBLEdBR0F5QixVQUFBLFNBQUFGLEdBQ0EsSUFBQUssS0FDQWpTLEVBQUF0RCxZQUNBa1YsRUFBQWpSLFFBQUEsU0FBQUMsR0FDQXFSLEVBQUFyUixHQUFBWixFQUFBd1EsT0FBQTVQLElBQ0FsRSIsImZpbGUiOiJjb21wb25lbnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZmlsbEJTVGFibGUodGFibGVJZCwgY29udGVudCkge1xyXG4gIHZhciAkdGFibGUgPSAkKHRhYmxlSWQpO1xyXG4gICR0YWJsZS5ib290c3RyYXBUYWJsZSgnZGVzdHJveScpO1xyXG4gICR0YWJsZS5maW5kKCd0Ym9keScpLmh0bWwoY29udGVudCk7XHJcbiAgJHRhYmxlLmJvb3RzdHJhcFRhYmxlKCk7XHJcbiAgJCgnLnB1bGwtcmlnaHQuc2VhcmNoJykuYWRkQ2xhc3MoJ2hpZGUnKVxyXG4gICR0YWJsZS5maW5kKCd0Ym9keScpLmNzcyh7ZGlzcGxheTpcInRhYmxlLXJvdy1ncm91cFwifSk7XHJcbiAgJHRhYmxlLmFkZENsYXNzKCdpbm5lcnRhYmxlJyk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBmaWx0ZXJCU1RhYmxlKHRhYmxlSWQsc3RhdGUpIHtcclxuICAkKHRhYmxlSWQpLmJvb3RzdHJhcFRhYmxlKCdmaWx0ZXJCeScse1xyXG4gICAgZXN0YWRvOiBzdGF0ZVxyXG4gIH0pO1xyXG59IiwiICBmdW5jdGlvbiBpc0N1cnJlbnRQYWdlKHBhZ2VOYW1lKXtcclxuICAgIGlmKGdldEN1cnJlbnRQYWdlKCkgPT0gcGFnZU5hbWUpe1xyXG4gICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfSAgXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRDdXJyZW50UGFnZSgpe1xyXG4gICAgdmFyIGN1cnJlbnRQYWdlID0gJChcInRpdGxlXCIpLnRleHQoKS5zcGxpdChcIiBcIik7XHJcbiAgICBjdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlWzRdLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xyXG4gICAgcmV0dXJuIGN1cnJlbnRQYWdlO1xyXG4gIH1cclxuXHJcbiAgaWYoaXNDdXJyZW50UGFnZShcImNpZXJyZVwiKSB8fCBpc0N1cnJlbnRQYWdlKFwiY2llcnJlMlwiKSl7XHJcbiAgICBjaWVycmVDYWphRnVuY3Rpb25zKCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjaWVycmVDYWphRnVuY3Rpb25zKCl7XHJcbiAgICBcclxuICAgIHZhciB0b3RhbGVzID0ge1xyXG4gICAgICAgICAgdG90YWwxOiAwLFxyXG4gICAgICAgICAgdG90YWw1OiAwLFxyXG4gICAgICAgICAgdG90YWwxMDogMCxcclxuICAgICAgICAgIHRvdGFsMjA6IDAsXHJcbiAgICAgICAgICB0b3RhbDI1OiAwLFxyXG4gICAgICAgICAgdG90YWw1MDogMCxcclxuICAgICAgICAgIHRvdGFsMTAwOiAwLFxyXG4gICAgICAgICAgdG90YWwyMDA6IDAsXHJcbiAgICAgICAgICB0b3RhbDUwMDogMCxcclxuICAgICAgICAgIHRvdGFsMTAwMDogMCxcclxuICAgICAgICAgIHRvdGFsMjAwMDogMFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB2YXIgZ2FzdG8gICA9IHtcclxuICAgICAgICAnZmVjaGEnOiAnJyxcclxuICAgICAgICAnZGVzY3JpcGNpb24nOiAnJyxcclxuICAgICAgICAnbW9udG8nOiAnJyxcclxuICAgICAgfVxyXG5cclxuICAgIHZhciBnYXN0b3MgID0gW3tmZWNoYTogbm93KCksZGVzY3JpcGNpb246XCJob2xhXCIsbW9udG86IDIwMDAsIGlkX2dhc3RvOiAxfV1cclxuICAgIHZhciBhdXRvciAgID0gJCgnI2F1dG9yLWNpZXJyZScpLnRleHQoKS50cmltKClcclxuXHJcbiAgICB2YXIgYXBwQ2llcnJlID0gbmV3IFZ1ZSh7XHJcbiAgICAgIGVsOiAnI2FwcC1jaWVycmUnLFxyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgaXNIaWRlOiBmYWxzZSxcclxuICAgICAgICBmZWNoYTogbm93KCksXHJcbiAgICAgICAgZGF0YV9jaWVycmU6e1xyXG4gICAgICAgICAgYXV0b3I6IGF1dG9yLFxyXG4gICAgICAgICAgcGFnb3NfZmFjdHVyYXM6IDAsXHJcbiAgICAgICAgICBwYWdvc19leHRyYXM6IDAsXHJcbiAgICAgICAgICBwYWdvc19lZmVjdGl2bzogMCxcclxuICAgICAgICAgIHBhZ29zX2JhbmNvOiAwLFxyXG4gICAgICAgICAgdG90YWxfaW5ncmVzb3M6IDAsXHJcbiAgICAgICAgICBlZmVjdGl2b19jYWphOiAwLFxyXG4gICAgICAgICAgdG90YWxfZGVzY3VhZHJlOiAwLFxyXG4gICAgICAgICAgdG90YWxfZ2FzdG9zOiAwLFxyXG4gICAgICAgICAgYmFuY286IDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRlbzp0b3RhbGVzLFxyXG4gICAgICAgIHN1bWE6IDAsXHJcbiAgICAgICAgZ2FzdG86IGdhc3RvLFxyXG4gICAgICAgIGdhc3RvczogZ2FzdG9zXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBtb3VudGVkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmdldEdhc3RvcygpO1xyXG4gICAgICAgIHRoaXMuc2V0SW5ncmVzb3MoKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJCgnLndpbGwtbG9hZCcpLmNzcyh7dmlzaWJpbGl0eTpcInZpc2libGVcIn0pXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBmaWx0ZXJzOiB7XHJcbiAgICAgICAgY3VycmVuY3lGb3JtYXQ6IGZ1bmN0aW9uKG51bWJlcil7XHJcbiAgICAgICAgICByZXR1cm4gQ3VycmVuY3lGb3JtYXQobnVtYmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBtZXRob2RzOntcclxuICAgICAgICBjaGFuZ2VUb3RhbDogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICB2YXIgdW5pdCA9IGUuc3JjRWxlbWVudC5hdHRyaWJ1dGVzWydkYXRhLXVuaXQnXS52YWx1ZVxyXG4gICAgICAgICAgdmFyIGNhbnRpZGFkID0gZS5zcmNFbGVtZW50LnZhbHVlXHJcbiAgICAgICAgICB2YXIgdG90YWwgPSBjYW50aWRhZCAqIHVuaXRcclxuICAgICAgICAgIHRvdGFsZXNbJ3RvdGFsJysgdW5pdF0gPSBjYW50aWRhZCAqIHVuaXQgKiAxLjAwICAgIFxyXG4gICAgICAgIH0sIFxyXG5cclxuICAgICAgICBhZGRHYXN0bzogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgdmFyIGdhc3RvID0gdGhpcy5nYXN0bztcclxuICAgICAgICAgIGdhc3RvLmZlY2hhID0gbm93KCk7XHJcbiAgICAgICAgICBmb3JtID0gJ2RhdGE9JysgSlNPTi5zdHJpbmdpZnkoZ2FzdG8pO1xyXG4gICAgICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KCBCQVNFX1VSTCArICdjYWphL2FkZF9nYXN0bycsZm9ybSlcclxuICAgICAgICAgIHNlbmQudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YVxyXG4gICAgICAgICAgICBkaXNwbGF5TWVzc2FnZShkYXRhLm1lbnNhamUpXHJcbiAgICAgICAgICAgIGFwcENpZXJyZS5maWxsR2FzdG9zKGRhdGEuZ2FzdG9zLFwibm9ybWFsXCIpXHJcbiAgICAgICAgICAgIGFwcENpZXJyZS5zZXRHYXN0b1RvdGFsKGRhdGEudG90YWxfZ2FzdG9zKVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBzZW5kLmNhdGNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGZpbGxHYXN0b3M6IGZ1bmN0aW9uKGdhc3Rvc19zZXJ2aWRvcixtb2RlKXtcclxuICAgICAgICAgIGlmKG1vZGUgPT0gXCJncm91cFwiKXtcclxuICAgICAgICAgICAgaWYoZ2FzdG9zX3NlcnZpZG9yICE9IG51bGwgfHwgZ2FzdG9zX3NlcnZpZG9yLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgIGFwcENpZXJyZS5nYXN0b3MgPSBnYXN0b3Nfc2Vydmlkb3I7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgIGFwcENpZXJyZS5nYXN0b3MgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGFwcENpZXJyZS5nYXN0b3MucHVzaChKU09OLnBhcnNlKGdhc3Rvc19zZXJ2aWRvcilbMF0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldEdhc3RvVG90YWw6IGZ1bmN0aW9uKHRvdGFsR2FzdG9zKXtcclxuICAgICAgICAgIHRoaXMuZGF0YV9jaWVycmUudG90YWxfZ2FzdG9zID0gdG90YWxHYXN0b3NcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRHYXN0bzogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICB2YXIgZ2FzdG8gPSB0aGlzLmdhc3RvO1xyXG4gICAgICAgICAgZm9ybSA9ICdkYXRhPScrIEpTT04uc3RyaW5naWZ5KGdhc3RvKTtcclxuICAgICAgICAgIGNvbm5lY3RBbmRTZW5kKCdjYWphL2dldF9nYXN0bycsZmFsc2UsbnVsbCxhcHBDaWVycmUuZmlsbEdhc3Rvcyxmb3JtLG51bGwsIG51bGwpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGRlbGV0ZUdhc3RvOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgdmFyIGNhbGxlciA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgaWYoY2FsbGVyLmxvY2FsbmFtZSA9PSBcImlcIil7XHJcbiAgICAgICAgICAgIGNhbGxlciA9IGNhbGxlci5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdmFyIGlkID0gY2FsbGVyLmF0dHJpYnV0ZXNbJ2RhdGEtaWQnXS52YWx1ZVxyXG4gICAgICAgICAgc3dhbCh7XHJcbiAgICAgICAgICAgIHRpdGxlOiAnRXN0w6EgU2VndXJvPycsXHJcbiAgICAgICAgICAgIHRleHQ6IFwiU2VndXJvIGRlIHF1ZSBxdWllcmUgZWxpbWluYXIgZXN0ZSBnYXN0bz9cIixcclxuICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxyXG4gICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ0VzdG95IFNlZ3VybyEnLFxyXG4gICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAnQ2FuY2VsYXInXHJcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGZvcm0gPSAnZGF0YT0nKyBKU09OLnN0cmluZ2lmeSh7aWQ6IGlkLCBmZWNoYTpub3coKX0pXHJcbiAgICAgICAgICAgIHZhciBzZW5kID0gYXhpb3MucG9zdChCQVNFX1VSTCArICdjYWphL2RlbGV0ZV9nYXN0bycsZm9ybSlcclxuICAgICAgICAgICAgc2VuZC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGFcclxuICAgICAgICAgICAgICBkaXNwbGF5TWVzc2FnZShkYXRhLm1lbnNhamUpXHJcbiAgICAgICAgICAgICAgYXBwQ2llcnJlLmZpbGxHYXN0b3MoZGF0YS5nYXN0b3MsXCJncm91cFwiKVxyXG4gICAgICAgICAgICAgIGFwcENpZXJyZS5zZXRHYXN0b1RvdGFsKGRhdGEudG90YWxfZ2FzdG9zKSBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNlbmQuY2F0Y2goZnVuY3Rpb24oZXJyb3Ipe1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTsgICAgICBcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRHYXN0b3M6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICB2YXIgZGF0YSA9IHtmZWNoYTogbm93KCl9XHJcbiAgICAgICAgICBmb3JtID0gJ2RhdGE9JysgSlNPTi5zdHJpbmdpZnkoZGF0YSlcclxuICAgICAgICAgIHZhciBzZW5kID0gYXhpb3MucG9zdCggQkFTRV9VUkwgKyAnY2FqYS9nZXRfZ2FzdG9zJyxmb3JtKVxyXG4gICAgICAgICAgc2VuZC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhXHJcbiAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlKGRhdGEubWVuc2FqZSlcclxuICAgICAgICAgICAgYXBwQ2llcnJlLmZpbGxHYXN0b3MoZGF0YS5nYXN0b3MsXCJncm91cFwiKVxyXG4gICAgICAgICAgICBhcHBDaWVycmUuc2V0R2FzdG9Ub3RhbChkYXRhLnRvdGFsX2dhc3RvcylcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgc2VuZC5jYXRjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldEluZ3Jlc29zOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgdmFyIGZvcm0gPSAnZGF0YT0nICsgSlNPTi5zdHJpbmdpZnkoe2ZlY2hhOiBub3coKX0pXHJcbiAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMuZGF0YV9jaWVycmU7XHJcbiAgICAgICAgICB2YXIgc2VuZCA9IGF4aW9zLnBvc3QoIEJBU0VfVVJMICsgJ2NhamEvZ2V0X2luZ3Jlc29zJyxmb3JtKVxyXG4gICAgICAgICAgc2VuZC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhXHJcbiAgICAgICAgICAgIHNlbGYucGFnb3NfZmFjdHVyYXMgPSBkYXRhLnBhZ29zX2ZhY3R1cmFzO1xyXG4gICAgICAgICAgICBzZWxmLnBhZ29zX2V4dHJhcyA9IGRhdGEucGFnb3NfZXh0cmFzO1xyXG4gICAgICAgICAgICBzZWxmLnBhZ29zX2VmZWN0aXZvID0gZGF0YS5wYWdvc19lZmVjdGl2bztcclxuICAgICAgICAgICAgc2VsZi5wYWdvc19iYW5jbyA9IGRhdGEucGFnb3NfYmFuY287XHJcbiAgICAgICAgICAgIHNlbGYudG90YWxfaW5ncmVzb3MgPSBwYXJzZUZsb2F0KGRhdGEucGFnb3NfZmFjdHVyYXMpICsgcGFyc2VGbG9hdChzZWxmLnBhZ29zX2V4dHJhcyk7XHJcbiAgICAgICAgICAgIHNlbGYudG90YWxfZGVzY3VhZHJlID0gLSBzZWxmLnBhZ29zX2VmZWN0aXZvICsgc2VsZi5lZmVjdGl2b19jYWphO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBzZW5kLmNhdGNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY2VycmFyQ2FqYTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHZhciBzZWxmICAgPSB0aGlzO1xyXG4gICAgICAgICAgdmFyIGNpZXJyZSA9IHRoaXMuZGF0YV9jaWVycmU7XHJcbiAgICAgICAgICB3aW5kb3cuY2llcnJlID0gY2llcnJlO1xyXG4gICAgICAgICAgaWYoY2llcnJlLnRvdGFsX2Rlc2N1YWRyZSAhPSAwKXtcclxuICAgICAgICAgICAgc3dhbCh7XHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdFc3TDoSBTZWd1cm8/JyxcclxuICAgICAgICAgICAgICB0ZXh0OiBcIkhheSB1biBkZXNjdWFkcmUgZW4gbGEgY2FqYSwgcXVpZXJlIGhhY2VyIGVsIGNpZXJyZSBkZSB0b2RvcyBtb2Rvcz9cIixcclxuICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycsXHJcbiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ1NpJyxcclxuICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAnTm8nXHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICBzZWxmLmNlcnJhcihjaWVycmUpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgc2VsZi5jZXJyYXIoY2llcnJlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjZXJyYXI6IGZ1bmN0aW9uKGNpZXJyZSl7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNpZXJyZS5mZWNoYSA9IG5vdygpO1xyXG4gICAgICAgICAgZm9ybSA9ICdkYXRhPScrIEpTT04uc3RyaW5naWZ5KGNpZXJyZSk7XHJcbiAgICAgICAgICB2YXIgc2VuZCA9IGF4aW9zLnBvc3QoIEJBU0VfVVJMICsgJ2NhamEvYWRkX2NpZXJyZScsZm9ybSlcclxuICAgICAgICAgIHNlbmQudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YVxyXG4gICAgICAgICAgICBkaXNwbGF5TWVzc2FnZShkYXRhLm1lbnNhamUpXHJcbiAgICAgICAgICAgIHNlbGYuaXNIaWRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwU3VtbWFyeVZpZXcuaXNIaWRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcFN1bW1hcnlWaWV3LmNpZXJyZSA9IGNpZXJyZTtcclxuICAgICAgICAgICAgJChcIiNhcHAtY2llcnJlXCIpLmFkZENsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICQoXCIudG9wLW5hdlwiKS5hZGRDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICAgICAkKFwiI3ByaW50LXZpZXdcIikuY3NzKHt2aXNpYmlsaXR5OiBcInZpc2libGVcIn0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBzZW5kLmNhdGNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNvbXB1dGVkOntcclxuICAgICAgICBnZXRUb3RhbDogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICB2YXIgdCA9IHRvdGFsZXM7XHJcbiAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMuZGF0YV9jaWVycmU7XHJcbiAgICAgICAgICB2YXIgc3VtYSA9IHN1bWFyKFt0LnRvdGFsMSx0LnRvdGFsNSx0LnRvdGFsMTAsIHQudG90YWwyMCwgdC50b3RhbDI1LCB0LnRvdGFsNTAsIHQudG90YWwxMDAsIHQudG90YWwyMDAsIHQudG90YWw1MDAsIHQudG90YWwxMDAwLCB0LnRvdGFsMjAwMF0pO1xyXG4gICAgICAgICAgdGhpcy5zdW1hID0gc3VtYTtcclxuICAgICAgICAgIHNlbGYuZWZlY3Rpdm9fY2FqYSA9IHN1bWEudG9GaXhlZCgyKTtcclxuICAgICAgICAgIHNlbGYudG90YWxfZGVzY3VhZHJlID0gcGFyc2VGbG9hdCgtc2VsZi5wYWdvc19lZmVjdGl2bykgKyBwYXJzZUZsb2F0KHNlbGYuZWZlY3Rpdm9fY2FqYSk7XHJcbiAgICAgICAgICBzZWxmLmJhbmNvID0gcGFyc2VGbG9hdChzZWxmLnBhZ29zX2JhbmNvKSArIHBhcnNlRmxvYXQoc2VsZi5wYWdvc19lZmVjdGl2bykgLSBwYXJzZUZsb2F0KHNlbGYudG90YWxfZ2FzdG9zKSArIHBhcnNlRmxvYXQoc2VsZi50b3RhbF9kZXNjdWFkcmUpXHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5zdW1hO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGRlY2ltYWxzOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgdmFyIGZpZWxkcyA9IFtcInBhZ29zX2ZhY3R1cmFzXCIsXCJwYWdvc19leHRyYVwiLFwicGFnb3NfZWZlY3Rpdm9cIixcInBhZ29zX2JhbmNvXCIsXCJ0b3RhbF9pbmdyZXNvc1wiLFwiZWZlY3Rpdm9fY2FqYVwiLFwidG90YWxfZGVzY3VhZHJlXCIsXCJ0b3RhbF9nYXN0b1wiLFwiYmFuY29cIl07XHJcbiAgICAgICAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCkge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFfY2llcnJlW2ZpZWxkXSA9IHRoaXMuZGF0YV9jaWVycmVbZmllbGRdLnRvRml4ZWQoMilcclxuICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICB3aW5kb3cuYXBwQ2llcnJlID0gYXBwQ2llcnJlO1xyXG4gICAgZnVuY3Rpb24gc3VtYXIgKHZhbG9yZXMpe1xyXG4gICAgICB2YXIgc3VtYSA9IDA7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsb3Jlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHN1bWEgKz0gcGFyc2VGbG9hdCh2YWxvcmVzW2ldKTsgXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHN1bWE7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbm93KCl7XHJcbiAgICAgIHJldHVybiBtb21lbnQoKS5mb3JtYXQoXCJZWVlZLU1NLUREXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgVnVlLmNvbXBvbmVudCgnc3VtbWFyeS1wcmludC12aWV3Jyx7XHJcbiAgICB0ZW1wbGF0ZTogJ1xcXHJcbiAgICA8ZGl2IGNsYXNzPVwicHJpbnQtY29udGFpbmVyXCI+XFxcclxuICAgICAgPGRpdiBjbGFzcz1cIl9faGVhZGVyXCI+XFxcclxuICAgICAgPGgyIGNsYXNzPVwiX190aXRsZSB0LWNlbnRlclwiPiB7e3RpdGxlfX08L2gyPlxcXHJcbiAgICAgIDwvZGl2PlxcXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJfX2JvZHlcIj5cXFxyXG4gICAgICA8cHJpbnRlYWJsZT48L3ByaW50ZWFibGU+XFxcclxuICAgICAgPC9kaXY+XFxcclxuICAgIDxkaXY+XFxcclxuICAgIFxcXHJcbiAgICAnLFxyXG4gICAgcHJvcHM6Wydzb21ldmFsdWUnXSxcclxuICAgIG1ldGhvZHM6e1xyXG4gICAgICBnb0JhY2s6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgYXBwU3VtbWFyeVZpZXcuaXNIaWRlID0gdHJ1ZTtcclxuICAgICAgICB3aW5kb3cuYXBwQ2llcnJlLmlzSGlkZSA9IGZhbHNlO1xyXG4gICAgICAgIHNlbGYuaXNIaWRlID0gdHJ1ZTtcclxuICAgICAgICAkKFwiLnRvcC1uYXZcIikucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAkKFwiI2FwcC1jaWVycmVcIikucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRhdGE6IGZ1bmN0aW9uKCl7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgYmFjazoge2xpbms6XCJzb21lbGlua1wiLHRleHQ6XCJ2b2x2ZXIgYSBjaWVycmVcIn0sXHJcbiAgICAgICAgZm93YXJkOiB7bGluazogQkFTRV9VUkwgKyBcImFwcC9sb2dvdXRcIix0ZXh0OlwiY2VycmFyIHNlc3Npb25cIn0sXHJcbiAgICAgICAgdGl0bGU6XCJSZXN1bWVuIGRlIGNpZXJyZSBkZSBob3lcIixcclxuXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KVxyXG5cclxuICB2YXIgYXBwU3VtbWFyeVZpZXcgPSBuZXcgVnVlKHtcclxuICAgIGVsOiBcIiNwcmludC12aWV3XCIsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIGlzSGlkZTogdHJ1ZSxcclxuICAgICAgYmFjazoge2xpbms6XCJzb21lbGlua1wiLHRleHQ6XCJ2b2x2ZXIgYSBjaWVycmVcIn0sXHJcbiAgICAgIGZvd2FyZDoge2xpbms6IEJBU0VfVVJMICsgXCJhcHAvbG9nb3V0XCIsdGV4dDpcImNlcnJhciBzZXNzaW9uXCJ9LFxyXG4gICAgICBjaWVycmU6e1xyXG4gICAgICAgICAgYXV0b3I6ICcnLFxyXG4gICAgICAgICAgcGFnb3NfZmFjdHVyYXM6IDAsXHJcbiAgICAgICAgICBwYWdvc19leHRyYXM6IDAsXHJcbiAgICAgICAgICBwYWdvc19lZmVjdGl2bzogMCxcclxuICAgICAgICAgIHBhZ29zX2JhbmNvOiAwLFxyXG4gICAgICAgICAgdG90YWxfaW5ncmVzb3M6IDAsXHJcbiAgICAgICAgICBlZmVjdGl2b19jYWphOiAwLFxyXG4gICAgICAgICAgdG90YWxfZGVzY3VhZHJlOiAwLFxyXG4gICAgICAgICAgdG90YWxfZ2FzdG9zOiAwLFxyXG4gICAgICAgICAgYmFuY286IDBcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZmlsdGVyczoge1xyXG4gICAgICBjdXJyZW5jeUZvcm1hdDogZnVuY3Rpb24obnVtYmVyKXtcclxuICAgICAgICByZXR1cm4gXCJSRCQgXCIrIEN1cnJlbmN5Rm9ybWF0KG51bWJlcik7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzcGFuaXNoRGF0ZUZvcm1hdDogZnVuY3Rpb24oZGF0ZSl7XHJcbiAgICAgICAgbW9tZW50LmxvY2FsZSgnZXMtRE8nKTtcclxuICAgICAgICByZXR1cm4gbW9tZW50KGRhdGUpLmZvcm1hdCgnZGRkZCBERCBbZGVdIE1NTU0gW2RlbF0gWVlZWScpXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtZXRob2RzOntcclxuICAgICAgZ29CYWNrOiBmdW5jdGlvbigpe1xyXG4gICAgICAgIGFwcFN1bW1hcnlWaWV3LmlzSGlkZSA9IHRydWU7XHJcbiAgICAgICAgd2luZG93LmFwcENpZXJyZS5pc0hpZGUgPSBmYWxzZTtcclxuICAgICAgICBzZWxmLmlzSGlkZSA9IHRydWU7XHJcbiAgICAgICAgJChcIi50b3AtbmF2XCIpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgJChcIiNhcHAtY2llcnJlXCIpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHByaW50OiBmdW5jdGlvbigpe1xyXG4gICAgICAgIHByaW50KClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pIiwiXHJcbmlmIChjdXJyZW50UGFnZSA9PSAncmVwb3J0ZXMnKXtcclxuICBmZXRjaFJlcG9ydERhdGEoKTtcclxufVxyXG5mdW5jdGlvbiBmZXRjaFJlcG9ydERhdGEoKSB7XHJcbiAgdmFyIHNlbmQgPSBheGlvcy5nZXQoQkFTRV9VUkwgKyAnY2FqYS9nZXRfbGFzdF9jaWVycmUnKVxyXG4gIHNlbmQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgIGNhamFXZWVrQ2hhcnQocmVzcG9uc2UuZGF0YSk7XHJcbiAgICBhcHBWaXN0YURldGFsbGUuY2llcnJlID0gcmVzcG9uc2UuZGF0YS5jaWVycmU7XHJcbiAgfSlcclxuICBzZW5kLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gIFxyXG4gIH0pXHJcbiAgXHJcbiAgdmFyIGZvcm0gPSBcImRhdGE9XCIrIEpTT04uc3RyaW5naWZ5KHt5ZWFyOm1vbWVudCgpLmZvcm1hdChcIllZWVlcIil9KVxyXG4gIHZhciBzZW5kMiA9IGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAnY2FqYS9nZXRfeWVhcl9pbmZvJyxmb3JtKVxyXG4gIHNlbmQyLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuICAgIHZhciBnYXN0b3MgICAgPSByZXMuZGF0YS5nYXN0b3M7XHJcbiAgICB2YXIgZ2FuYW5jaWFzID0gcmVzLmRhdGEuZ2FuYW5jaWFzO1xyXG4gICAgeWVhckNoYXJ0KGdhc3RvcyxnYW5hbmNpYXMpO1xyXG4gIH0pXHJcbn1cclxuXHJcblxyXG53aW5kb3cuY2hhcnRDb2xvcnMgPSB7XHJcbiAgcmVkOiAncmdiKDI1NSwgOTksIDEzMiknLFxyXG4gIG9yYW5nZTogJ3JnYigyNTUsIDE1OSwgNjQpJyxcclxuICB5ZWxsb3c6ICdyZ2IoMjU1LCAyMDUsIDg2KScsXHJcbiAgZ3JlZW46ICdyZ2IoNzUsIDE5MiwgMTkyKScsXHJcbiAgYmx1ZTogJ3JnYig1NCwgMTYyLCAyMzUpJyxcclxuICBwdXJwbGU6ICdyZ2IoMTUzLCAxMDIsIDI1NSknLFxyXG4gIGdyZXk6ICdyZ2IoMjAxLCAyMDMsIDIwNyknXHJcbn07XHJcbnZhciBtZXNlcyA9IFtcIkVuZXJvXCIsIFwiRmVicmVyb1wiLCBcIk1hcnpvXCIsIFwiQWJyaWxcIiwgXCJNYXlvXCIsIFwiSnVuaW9cIiwgXCJKdWxpb1wiLCBcIkFnb3N0b1wiLCBcIlNlcHRpZW1icmVcIiwgXCJPY3R1YnJlXCIsIFwiTm92aWVtYnJlXCIsIFwiRGljaWVtYnJlXCJdO1xyXG5cclxudmFyIGNvbG9ycyA9IHtcclxuICBncmVlbjogJ3JnYmEoMCwyMzAsMTE4ICwxKScsXHJcbiAgYmx1ZUdyZWVuOiAncmdiYSgyOSwyMzMsMTgyICwxKScsXHJcbiAgYmx1ZTc6ICdyZ2JhKDI1LDExOCwyMTAgLDEpJyxcclxuICBsaWdodEJsdWU2OiAncmdiYSgzLDE1NSwyMjkgLDEpJyxcclxuICByZWQzOiAncmdiYSgyMjksMTE1LDExNSAsMSknLFxyXG4gIGRlZXBPcmFuZ2U0OiAncmdiYSgyNTUsMTEyLDY3ICwxKSdcclxufVxyXG5cclxuZnVuY3Rpb24gY2FqYVdlZWtDaGFydChkYXRhKSB7XHJcbiAgdmFyIGNhbnZhcyA9ICQoXCIjZ2FuYW5jaWFzLWNoYXJ0XCIpO1xyXG4gIHZhciBjaGFydE9wdGlvbnMgPSB7XHJcbiAgICB0eXBlOiAnYmFyJyxcclxuICAgIGRhdGE6IHtcclxuICAgICAgbGFiZWxzOiBkYXRhLmxhYmVscyxcclxuICAgICAgZGF0YXNldHM6IFt7XHJcbiAgICAgICAgbGFiZWw6IFwiVmFsb3Jlc1wiLFxyXG4gICAgICAgIGRhdGE6IGRhdGEudmFsdWVzLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogW2NvbG9ycy5saWdodEJsdWU2LCBjb2xvcnMubGlnaHRCbHVlNiwgY29sb3JzLmJsdWU3LCB3aW5kb3cuY2hhcnRDb2xvcnMuYmx1ZSx3aW5kb3cuY2hhcnRDb2xvcnMuZ3JlZW4sIGNvbG9ycy5ibHVlR3JlZW4sIHdpbmRvdy5jaGFydENvbG9ycy5yZWQsd2luZG93LmNoYXJ0Q29sb3JzLnJlZCwgIHdpbmRvdy5jaGFydENvbG9ycy5ibHVlXSxcclxuICAgICAgfV1cclxuICAgIH0sXHJcbiAgICBvcHRpb25zOiB7XHJcbiAgICAgIHJlc3BvbnNpdmU6IHRydWUsXHJcbiAgICAgIG1haW50YWluQXNwZWN0UmF0aW86IGZhbHNlLFxyXG4gICAgICBzY2FsZXM6IHtcclxuICAgICAgICB5QXhlczogW3tcclxuICAgICAgICAgIHRpY2tzOiB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAobGFiZWwsIGluZGV4LCBsYWJlbHMpIHtcclxuICAgICAgICAgICAgICBpZiAobGFiZWwgPT0gJycgfHwgbGFiZWwgPT0gbnVsbCkgbGFiZWwgPSAwO1xyXG4gICAgICAgICAgICAgIHJldHVybiBcIlJEJCBcIiArIEN1cnJlbmN5Rm9ybWF0KGxhYmVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1dLFxyXG4gICAgICAgIHhBeGVzOiBbe1xyXG4gICAgICAgICAgdGlja3M6IHtcclxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChsYWJlbCwgaW5kZXgsIGxhYmVscykge1xyXG4gICAgICAgICAgICAgIHJldHVybiBsYWJlbC5yZXBsYWNlKC9fL2csIFwiIFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1dXHJcbiAgICAgIH0sXHJcbiAgICAgIHRvb2x0aXBzOiB7XHJcbiAgICAgICAgY2FsbGJhY2tzOiB7XHJcbiAgICAgICAgICBsYWJlbDogZnVuY3Rpb24gKHRvb2x0aXBJdGVtLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlJEJCBcIiArIEN1cnJlbmN5Rm9ybWF0KHRvb2x0aXBJdGVtLnlMYWJlbCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB0aXRsZToge1xyXG4gICAgICAgIGRpc3BsYXk6IHRydWUsXHJcbiAgICAgICAgdGV4dDogXCJEYXRvcyBkZWwgdWx0aW1vIGNpZXJyZS4gaGVjaG8gcG9yIFwiICsgZGF0YS5hdXRvciArIFwiIGVsIGRpYSBcIiArIGRhdGEuZmVjaGFcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcbiAgdmFyIG15Y2hhcnQgPSBuZXcgQ2hhcnQoY2FudmFzLCBjaGFydE9wdGlvbnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB5ZWFyQ2hhcnQoZ2FzdG9zLGdhbmFuY2lhcykge1xyXG4gIHZhciAkY2FudmFzID0gJChcIiNnYW5hbmNpYXMtbWVzLWNoYXJ0XCIpO1xyXG4gIHZhciBkYXRhID0ge1xyXG4gICAgICBsYWJlbHM6IG1lc2VzLFxyXG4gICAgICBkYXRhc2V0czogW3tcclxuICAgICAgICBsYWJlbDogXCJHYXN0b3NcIixcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHdpbmRvdy5jaGFydENvbG9ycy5yZWQsXHJcbiAgICAgICAgYm9yZGVyQ29sb3I6IHdpbmRvdy5jaGFydENvbG9ycy5yZWQsXHJcbiAgICAgICAgZGF0YTogZ2FzdG9zLFxyXG4gICAgICAgIGZpbGw6IGZhbHNlLFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbGFiZWw6IFwiQmFuY28oR2FuYW5jaWFzKVwiLFxyXG4gICAgICAgIGZpbGw6IGZhbHNlLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogd2luZG93LmNoYXJ0Q29sb3JzLmJsdWUsXHJcbiAgICAgICAgYm9yZGVyQ29sb3I6IHdpbmRvdy5jaGFydENvbG9ycy5ibHVlLFxyXG4gICAgICAgIGRhdGE6IGdhbmFuY2lhcyxcclxuICAgICAgfV1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIG9wdGlvbnMgPSB7XHJcbiAgICAgIHJlc3BvbnNpdmU6IHRydWUsXHJcbiAgICAgIG1haW50YWluQXNwZWN0UmF0aW86IGZhbHNlLFxyXG4gICAgICBzY2FsZXM6IHtcclxuICAgICAgICB5QXhlczogW3tcclxuICAgICAgICAgIHRpY2tzOiB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAobGFiZWwsIGluZGV4LCBsYWJlbHMpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gXCJSRCQgXCIgKyBDdXJyZW5jeUZvcm1hdChsYWJlbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XVxyXG4gICAgICB9LFxyXG4gICAgICB0b29sdGlwczoge1xyXG4gICAgICAgIGNhbGxiYWNrczoge1xyXG4gICAgICAgICAgbGFiZWw6IGZ1bmN0aW9uICh0b29sdGlwSXRlbSwgZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJSRCQgXCIgKyBDdXJyZW5jeUZvcm1hdCh0b29sdGlwSXRlbS55TGFiZWwpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgdGl0bGU6IHtcclxuICAgICAgICBkaXNwbGF5OiB0cnVlLFxyXG4gICAgICAgIHRleHQ6IFwiUmVnaXN0cm9zIGRlIGNpZXJyZSBFc3RlIHVsdGltbyBhw7FvXCJcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB2YXIgY2hhcnQgPSBuZXcgQ2hhcnQoJGNhbnZhcywge1xyXG4gICAgdHlwZTogJ2xpbmUnLFxyXG4gICAgZGF0YTogZGF0YSxcclxuICAgIG9wdGlvbnM6IG9wdGlvbnNcclxuICB9KTtcclxuXHJcbn1cclxuXHJcbnZhciBjaWVycmUgPSB7IFxyXG4gIGF1dG9yOiBcIlwiLFxyXG4gIGJhbmNvOiAwLFxyXG4gIGRpbmVyb19yZWFsX2VuX2NhamE6IDAsXHJcbiAgZmVjaGEgOiAnJyxcclxuICBwYWdvX2RlX2ZhY3R1cmFzOiAwLFxyXG4gIHBhZ29zX2RlX2V4dHJhczogMCxcclxuICBwYWdvc19lbl9lZmVjdGl2bzowLFxyXG4gIHBhZ29zX3ZpYV9iYW5jbzowLFxyXG4gIHRvdGFsX2RlX2luZ3Jlc29zOiAwLFxyXG4gIHRvdGFsX2Rlc2N1YWRyZTowIH1cclxuXHJcbnZhciBhcHBWaXN0YURldGFsbGUgPSBuZXcgVnVlKHtcclxuICBlbDogJyNhcHAtdmlzdGEtZGV0YWxsZScsXHJcbiAgZGF0YToge1xyXG4gICAgY2llcnJlOiBjaWVycmUsXHJcbiAgfSxcclxuXHJcbiAgZmlsdGVyczoge1xyXG4gICAgY3VycmVuY3lGb3JtYXQ6IGZ1bmN0aW9uKG51bWJlcil7XHJcbiAgICAgIHJldHVybiBcIlJEJCBcIisgQ3VycmVuY3lGb3JtYXQobnVtYmVyKTtcclxuICAgIH1cclxuICB9LFxyXG4gIG1ldGhvZHM6e1xyXG4gICAgcHJpbnQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgIHByaW50KClcclxuICAgIH1cclxuICB9XHJcbn0pIiwiICB2YXIgYWNvdW50VmlldyA9IG5ldyBWdWUoe1xyXG4gICAgZWw6ICcjYWNvdW50LXNlY3Rpb24nLFxyXG4gICAgZGF0YToge1xyXG4gICAgICB1c2VyOiB7XHJcbiAgICAgICAgdXNlcl9pZDogJycsXHJcbiAgICAgICAgbmlja25hbWU6ICcnLFxyXG4gICAgICAgIG5hbWU6ICcnLFxyXG4gICAgICAgIGxhc3RuYW1lOiAnJyxcclxuICAgICAgICBkbmk6ICcnLFxyXG4gICAgICAgIHR5cGU6ICcnLFxyXG4gICAgICAgIGVtYWlsOiAnJ1xyXG4gICAgICB9LFxyXG4gICAgICBpc0NoYW5nZVBhc3N3b3JkOiBmYWxzZSxcclxuICAgICAgY3VycmVudFBhc3N3b3JkOiAnJyxcclxuICAgICAgbmV3UGFzc3dvcmQ6ICcnLFxyXG4gICAgICBwYXNzd29yZENvbmZpcm06ICcnLFxyXG4gICAgICBzdGF0ZXM6IHtcclxuICAgICAgICAnaGFzLWVycm9yJzogZmFsc2UsXHJcbiAgICAgICAgJ2hhcy1zdWNjZXNzJzogZmFsc2UsXHJcbiAgICAgICAgIGJ1dHRvbjogdHJ1ZSxcclxuICAgICAgfVxyXG5cclxuICAgIH0sXHJcblxyXG4gICAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoY3VycmVudFBhZ2UgPT0gJ2N1ZW50YScpIHtcclxuICAgICAgICB0aGlzLmdldFVzZXIoKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgIGdldFVzZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHVzZXJfaWQgPSAkKCcjYWNvdW50LXVzZXItaWQnKS52YWwoKTtcclxuICAgICAgICB2YXIgZm9ybSA9ICdkYXRhPScgKyBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICB1c2VyX2lkOiB1c2VyX2lkXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAndXNlci9nZXRfdXNlcicsIGZvcm0pXHJcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgIHZhciB1c2VyID0gcmVzLmRhdGEudXNlcjtcclxuICAgICAgICAgICAgdXNlclsnZnVsbG5hbWUnXSA9IHVzZXIubmFtZSArICcgJyArIHVzZXIubGFzdG5hbWU7XHJcbiAgICAgICAgICAgIHNlbGYudXNlciA9IHVzZXI7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgdXBkYXRlSW5mbzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQ2hhbmdlUGFzc3dvcmQpIHtcclxuICAgICAgICAgIHRoaXMuY2hhbmdlUGFzc3dvcmQoKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmNoYW5nZUVtYWlsKClcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjaGFuZ2VQYXNzd29yZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlc1snaGFzLXN1Y2Nlc3MnXSkge1xyXG4gICAgICAgICAgdmFyIGZvcm0gPSAnZGF0YT0nICsgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICB1c2VyX2lkOiB0aGlzLnVzZXIudXNlcl9pZCxcclxuICAgICAgICAgICAgY3VycmVudF9wYXNzd29yZDogdGhpcy5jdXJyZW50UGFzc3dvcmQsXHJcbiAgICAgICAgICAgIG5ld19wYXNzd29yZDogdGhpcy5uZXdQYXNzd29yZFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgYXhpb3MucG9zdChCQVNFX1VSTCArICd1c2VyL3VwZGF0ZV9wYXNzd29yZCcsIGZvcm0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICBkaXNwbGF5TWVzc2FnZShyZXMuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBCQVNFX1VSTCArICdhcHAvbG9ndXQnO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkaXNwbGF5TWVzc2FnZShcIkxhcyBjb250cmFzZcOxYXMgbm8gY29uY2lkZW5cIilcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjaGFuZ2VFbWFpbDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpc1xyXG4gICAgICAgIHZhciB1c2VyID0gdGhpcy51c2VyXHJcblxyXG4gICAgICAgIHN3YWwoe1xyXG4gICAgICAgICAgICAndGl0bGUnOiAnQ29udHJhc2XDsWEnLFxyXG4gICAgICAgICAgICAnaW5wdXQnOiAncGFzc3dvcmQnLFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwYXNzd29yZCkge1xyXG4gICAgICAgICAgICAgIHZhciBmb3JtID0gJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICd1c2VyX2lkJzogdXNlci51c2VyX2lkLFxyXG4gICAgICAgICAgICAgICAgJ3Bhc3N3b3JkJzogcGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICAnZmllbGQnOiAnZW1haWwnLFxyXG4gICAgICAgICAgICAgICAgJ3ZhbHVlJzogdXNlci5lbWFpbFxyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ3VzZXIvdXBkYXRlX2ZpZWxkJywgZm9ybSlcclxuICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXMpe1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheU1lc3NhZ2UocmVzLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjb25maXJtUGFzc3dvcmRTZXJ2ZXI6IGZ1bmN0aW9uIChwYXNzd29yZCkge1xyXG4gICAgICAgIHZhciBmb3JtID0gJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHVzZXJfaWQ6IHRoaXMudXNlci51c2VyX2lkLFxyXG4gICAgICAgICAgY3VycmVudF9wYXNzd29yZDogcGFzc3dvcmRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgIGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAndXNlci9jb25maXJtX3Bhc3N3b3JkJywgZm9ybSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgIHJlc29sdmUocmVzLmRhdGEuaXNfY29ycmVjdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNvbmZpcm1QYXNzd29yZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICB0aGlzLmNvbmZpcm1QYXNzd29yZFNlcnZlcih0aGlzLmN1cnJlbnRQYXNzd29yZClcclxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChpc19jb3JyZWN0KSB7XHJcbiAgICAgICAgICAgIHNlbGYuaXNDaGFuZ2VQYXNzd29yZCA9IGlzX2NvcnJlY3RcclxuICAgICAgICAgIH0pXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjaGVja1Bhc3N3b3JkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCh0aGlzLm5ld1Bhc3N3b3JkID09IHRoaXMucGFzc3dvcmRDb25maXJtKSAmJiB0aGlzLmNoYW5nZVBhc3N3b3JkKSB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlcyh0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgICB0aGlzLnN0YXRlcy5idXR0b24gPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jaGFuZ2VQYXNzd29yZCkge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZXMoZmFsc2UsIHRydWUpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0ZXMuYnV0dG9uID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGVzKGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2V0U3RhdGVzOiBmdW5jdGlvbiAoc3VjY2VzcywgZXJyb3IpIHtcclxuICAgICAgICB0aGlzLnN0YXRlc1snaGFzLXN1Y2Nlc3MnXSA9IHN1Y2Nlc3M7XHJcbiAgICAgICAgdGhpcy5zdGF0ZXNbJ2hhcy1lcnJvciddID0gZXJyb3I7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG5cclxuICB9KSIsInZhciBjbG9zZVJlcG9ydCA9IG5ldyBWdWUoe1xyXG4gIGVsOiAnI2NpZXJyZXMnLFxyXG4gIGRhdGE6IHtcclxuICAgdGFibGU6ICcnLFxyXG4gICB0YWJsZUhUTUw6ICcnLFxyXG4gICBoYXNUb3RhbHM6IGZhbHNlLFxyXG4gICB0b3RhbHM6IGZhbHNlLFxyXG4gICBiZXR3ZWVuOiB7XHJcbiAgICAgZmlyc3RfZGF0ZTogJycsXHJcbiAgICAgc2Vjb25kX2RhdGU6ICcnLFxyXG4gICAgIHRleHQ6ICcnXHJcbiAgIH1cclxuICB9LFxyXG5cclxuICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoY3VycmVudFBhZ2UgPT0gJ2luZm9ybWVzJykge1xyXG4gICAgICB0aGlzLmdldFJlcG9ydCgpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGZpbHRlcnM6IHtcclxuICAgIGN1cnJlbmN5Rm9ybWF0OiBmdW5jdGlvbihudW1iZXIpe1xyXG4gICAgICByZXR1cm4gXCJSRCQgXCIrIEN1cnJlbmN5Rm9ybWF0KG51bWJlcik7XHJcbiAgICB9LFxyXG4gIH0sXHJcblxyXG4gIG1ldGhvZHM6IHtcclxuICAgIGdldFJlcG9ydDogZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBmb3JtID0gJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KHRoaXMuYmV0d2VlbilcclxuICAgICAgYXhpb3MucG9zdChCQVNFX1VSTCArICdjYWphL2dldF9jaWVycmVzL3RydWUnLCBmb3JtKVxyXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgc2VsZi5maWxsVGFibGUocmVzLmRhdGEuY29udGVudCk7XHJcbiAgICAgICAgc2VsZi5oYXNUb3RhbHMgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYudG90YWxzICAgID0gcmVzLmRhdGEuYWN1bTtcclxuICAgICAgfSlcclxuICAgIH0sXHJcblxyXG4gICAgZmlsbFRhYmxlOiBmdW5jdGlvbihjb250ZW50KSB7XHJcbiAgICAgIGZpbGxCU1RhYmxlKCcjY2llcnJlcy10YWJsZScsIGNvbnRlbnQpO1xyXG4gICAgfVxyXG4gIH1cclxufSkiLCJ2YXIgZXhwZW5zZXNSZXBvcnQgPSBuZXcgVnVlKHtcclxuICBlbDogJyNnYXN0b3MnLFxyXG4gIGRhdGE6IHtcclxuICAgdGFibGU6ICcnLFxyXG4gICB0YWJsZUhUTUw6ICcnLFxyXG4gICB0b3RhbDogJycsXHJcbiAgIGJldHdlZW46IHtcclxuICAgICBmaXJzdF9kYXRlOiAnJyxcclxuICAgICBzZWNvbmRfZGF0ZTogJycsXHJcbiAgICAgdGV4dDogJydcclxuICAgfVxyXG4gIH0sXHJcblxyXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChjdXJyZW50UGFnZSA9PSAnaW5mb3JtZXMnKSB7XHJcbiAgICAgIHRoaXMuZ2V0UmVwb3J0KCk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgZmlsdGVyczoge1xyXG4gICAgY3VycmVuY3lGb3JtYXQ6IGZ1bmN0aW9uKG51bWJlcil7XHJcbiAgICAgIHJldHVybiBcIlJEJCBcIisgQ3VycmVuY3lGb3JtYXQobnVtYmVyKTtcclxuICAgIH0sXHJcbiAgfSxcclxuXHJcbiAgbWV0aG9kczoge1xyXG4gICAgZ2V0UmVwb3J0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGZvcm0gPSAnZGF0YT0nICsgSlNPTi5zdHJpbmdpZnkodGhpcy5iZXR3ZWVuKVxyXG4gICAgICBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ2NhamEvZ2V0X2dhc3Rvcy90cnVlJywgZm9ybSlcclxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgIHNlbGYuZmlsbFRhYmxlKHJlcy5kYXRhLmNvbnRlbnQpXHJcbiAgICAgICAgc2VsZi50b3RhbCA9IHJlcy5kYXRhLmFjdW07XHJcbiAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIGZpbGxUYWJsZTogZnVuY3Rpb24oY29udGVudCkge1xyXG4gICAgICBmaWxsQlNUYWJsZSgnI2dhc3Rvcy10YWJsZScsIGNvbnRlbnQpO1xyXG4gICAgfVxyXG4gIH1cclxufSkiLCJ2YXIgbGlzdEV4dHJhcyA9ICcnO1xyXG52YXIgcmVjaWJvUmVzZXQgPSB7XHJcbiAgaWRfcGFnbzogMCxcclxuICBpZF9jb250cmF0bzogMCxcclxuICBpZF9zZXJ2aWNpbzogMCxcclxuICBpZF9lbXBsZWFkbzogMCxcclxuICBmZWNoYV9wYWdvIDogJycsXHJcbiAgY29uY2VwdG8gOiAnZXh0cmEnLFxyXG4gIGRldGFsbGVzX2V4dHJhIDogJycsXHJcbiAgY3VvdGE6ICcnLFxyXG4gIG1vcmEgOiAnJyxcclxuICBtb250b19leHRyYTogJycsXHJcbiAgdG90YWw6ICcnLFxyXG4gIGVzdGFkbzogJycsXHJcbiAgZmVjaGFfbGltaXRlOiAnJyxcclxuICBjb21wbGV0ZV9kYXRlIDogJycsXHJcbiAgZGVzY3VlbnRvOiAnJyxcclxuICByYXpvbl9kZXNjdWVudG86ICcnLFxyXG4gIGRldWRhOiAnJyxcclxuICBhYm9ub19hOiAnJyxcclxuICB0aXBvOiAnJyxcclxuICBnZW5lcmFkbzogJydcclxufVxyXG5cclxudmFyIGFwcFBhZ29FeHRyYSA9IG5ldyBWdWUoe1xyXG4gIGVsOiBcIiNhcHAtcGFnby1leHRyYVwiLFxyXG4gIGRhdGE6IHtcclxuICAgIHJlY2libzp7XHJcbiAgICAgICBpZF9wYWdvOiAwLFxyXG4gICAgICAgaWRfY29udHJhdG86IDAsXHJcbiAgICAgICBpZF9zZXJ2aWNpbzogMCxcclxuICAgICAgIGlkX2VtcGxlYWRvOiAwLFxyXG4gICAgICAgZmVjaGFfcGFnbyA6ICdkZC9tbS95eXl5JyxcclxuICAgICAgIGNvbmNlcHRvIDogJ2V4dHJhJyxcclxuICAgICAgIGRldGFsbGVzX2V4dHJhIDogJycsXHJcbiAgICAgICBjdW90YTogJycsXHJcbiAgICAgICBtb3JhIDogJycsXHJcbiAgICAgICBtb250b19leHRyYTogJycsXHJcbiAgICAgICB0b3RhbDogJycsXHJcbiAgICAgICBlc3RhZG86ICcnLFxyXG4gICAgICAgZmVjaGFfbGltaXRlOiAnJyxcclxuICAgICAgIGNvbXBsZXRlX2RhdGUgOiAnJyxcclxuICAgICAgIGRlc2N1ZW50bzogJycsXHJcbiAgICAgICByYXpvbl9kZXNjdWVudG86ICcnLFxyXG4gICAgICAgZGV1ZGE6ICcnLFxyXG4gICAgICAgYWJvbm9fYTogJycsXHJcbiAgICAgICB0aXBvOiAnJyxcclxuICAgICAgIGdlbmVyYWRvOiAnJ1xyXG4gICAgfSxcclxuXHJcbiAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgIHBhZ2FkbzogZmFsc2UsXHJcbiAgICBleHRyYTp7XHJcbiAgICAgIFwiY29udHJvbHNcIjogJycsXHJcbiAgICAgIFwiaWRfZXh0cmFcIjogJycsXHJcbiAgICAgIFwiaWRfc2VydmljaW9cIjogJycsXHJcbiAgICAgIFwiY2hlY2tib3hcIjogJycsXHJcbiAgICAgIFwiZmVjaGFcIjogJycsXHJcbiAgICAgIFwiY29uY2VwdG9cIjogJycsXHJcbiAgICAgIFwidWx0aW1vX3BhZ29cIjogJycsXHJcbiAgICAgIFwibW9udG9fcGFnYWRvXCI6ICcnLFxyXG4gICAgICBcIm1vbnRvX3RvdGFsXCI6ICcnLFxyXG4gICAgICBcImVzdGFkb1wiOiAnJ1xyXG4gICAgfSxcclxuICAgIGZpcnN0Q29udHJvbHM6IHtcclxuICAgICAgaGlkZTogZmFsc2VcclxuICAgIH0sXHJcbiAgfSxcclxuICBmaWx0ZXJzOiB7XHJcblxyXG4gIH0sXHJcbiAgY29tcHV0ZWQ6IHtcclxuICAgIHVybF9yZWNpYm86IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIEJBU0VfVVJMICsgJ3Byb2Nlc3MvZ2V0cmVjaWJvLycgKyB0aGlzLnJlY2liby5pZF9wYWdvO1xyXG4gICAgfSxcclxuXHJcbiAgICBoaWRlX3JlY2libzogZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZih0aGlzLnJlY2liby5lc3RhZG8gPT0gXCJwYWdhZG9cIil7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIH1cclxuICAgICAgIHJldHVybiB0aGlzLmhpZGVfcmVjaWJvID0gdHJ1ZTsgXHJcbiAgICB9LFxyXG5cclxuICAgIGlzUGFnYWRvOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHRoaXMucGFnYWRvID0gKHRoaXMucmVjaWJvLmVzdGFkbyA9PSAncGFnYWRvJyk7XHJcbiAgICAgIHJldHVybiB0aGlzLnBhZ2FkbztcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBtZXRob2RzOntcclxuXHJcbiAgICBnb0JhY2s6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgZXh0cmFUYWJsZS5lbC5wYXJlbnRzKFwiLmJvb3RzdHJhcC10YWJsZVwiKS5yZW1vdmVDbGFzcyhcImhpZGVcIik7XHJcbiAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlXHJcbiAgICAgIHRoaXMuZXh0cmEgPSB7Y29uY2VwdG86ICcnfVxyXG4gICAgICBleHRyYVRhYmxlLnJlZnJlc2gobGlzdEV4dHJhcyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGdlbmVyYXRlUGF5bWVudDogZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAodGhpcy5wYWdhZG8gfHwgdGhpcy5yZWNpYm8uaWRfcGFnbyA9PSAwKSB7XHJcbiAgICAgICAgdmFyIGZvcm0gPSAnZGF0YT0nICsgSlNPTi5zdHJpbmdpZnkodGhpcy5leHRyYSk7XHJcbiAgICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KCBCQVNFX1VSTCArICdleHRyYS9nZW5lcmF0ZV9leHRyYV9wYXltZW50Jyxmb3JtKTtcclxuICAgICAgICBzZW5kLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGE7XHJcbiAgICAgICAgICBkaXNwbGF5TWVzc2FnZShkYXRhLm1lbnNhamUpO1xyXG4gICAgICAgICAgc2VsZWN0RXh0cmFQYXltZW50Lmh0bWwoZGF0YS5wYWdvcykuY2hhbmdlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2VuZC5jYXRjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgfSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkaXNwbGF5TWVzc2FnZSggTUVTU0FHRV9JTkZPICsgJyBEZWJlIHJlYWxpemFyIGVzdGUgcGFnbyBhbnRlcyBkZSBjcmVhciB1bm8gbnVldm8nKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBnZXRQYXltZW50OiBmdW5jdGlvbiAoaWRfcGFnbykge1xyXG4gICAgICB2YXIgZm9ybSA9IFwiZGF0YT1cIiArIEpTT04uc3RyaW5naWZ5KHtpZF9wYWdvOiBpZF9wYWdvfSk7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpc1xyXG4gICAgICB2YXIgc2VuZCA9IGF4aW9zLnBvc3QoIEJBU0VfVVJMICsgJ2V4dHJhL2dldF9wYXltZW50Jyxmb3JtKTtcclxuICAgICAgc2VuZC50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YSBcclxuICAgICAgICBpZihkYXRhLnJlY2libyl7XHJcbiAgICAgICAgICBzZWxmLnJlY2libyA9IGRhdGEucmVjaWJvXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICBhcHBseVBheW1lbnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKHRoaXMucmVjaWJvLmlkX3BhZ28gIT0gMCkge1xyXG4gICAgICAgIHRoaXMuc2VuZGVyKCdleHRyYS9hcHBseV9wYXltZW50Jyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGlzcGxheU1lc3NhZ2UoIE1FU1NBR0VfSU5GTyArICcgRGViZSBnZW5lcmFyIHVuIHBhZ28gcHJpbWVybycpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGVkaXRQYXltZW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHRoaXMuc2VuZGVyKCdleHRyYS9lZGl0X3BheW1lbnQnKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2VuZGVyOiBmdW5jdGlvbihlbmRwb2ludCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBwcmVwYXJlZERhdGEgPSB0aGlzLnByZXBhcmVEYXRhKClcclxuICAgICAgdmFyIGluZm8gPSBwcmVwYXJlZERhdGEuaW5mbztcclxuICAgICAgdmFyIGRhdGEgPSBwcmVwYXJlZERhdGEuZGF0YTtcclxuXHJcbiAgICAgIHZhciBmb3JtID0gJ2RhdGE9JysgSlNPTi5zdHJpbmdpZnkoZGF0YSkgKyAnJmluZm89JysgSlNPTi5zdHJpbmdpZnkoaW5mbylcclxuICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KEJBU0VfVVJMICsgZW5kcG9pbnQsZm9ybSlcclxuXHJcbiAgICAgIHNlbmQudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YVxyXG4gICAgICAgIGxpc3RFeHRyYXMgPSBkYXRhLmV4dHJhcztcclxuICAgICAgICBzZWxmLmdldFBheW1lbnRzKHNlbGYuZXh0cmEuaWRfZXh0cmEpO1xyXG4gICAgICAgIGRpc3BsYXlNZXNzYWdlKGRhdGEubWVuc2FqZSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIHNlbmQuY2F0Y2goZnVuY3Rpb24oZXJyb3Ipe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgfSlcclxuICAgIH0sXHJcblxyXG4gICAgcHJlcGFyZURhdGE6IGZ1bmN0aW9uIChyZWNpYm8pIHtcclxuICAgICAgdmFyIHJlY2libyA9IHRoaXMucmVjaWJvO1xyXG4gICAgICBcclxuICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgY29uY2VwdG86ICdleHRyYSAtJywgXHJcbiAgICAgICAgZGV0YWxsZXNfZXh0cmE6IHJlY2liby5kZXRhbGxlc19leHRyYSxcclxuICAgICAgICBmZWNoYV9wYWdvOiByZWNpYm8uZmVjaGFfcGFnbyxcclxuICAgICAgICBjdW90YTogcmVjaWJvLmN1b3RhLFxyXG4gICAgICAgIHRvdGFsOiByZWNpYm8uY3VvdGEsXHJcbiAgICAgICAgZXN0YWRvOiAncGFnYWRvJyxcclxuICAgICAgICB0aXBvOiByZWNpYm8udGlwbyxcclxuICAgICAgICBnZW5lcmFkbzogdHJ1ZVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgdmFyIGluZm8gPSB7XHJcbiAgICAgICAgaWRfZXh0cmE6IHJlY2liby5pZF9leHRyYSxcclxuICAgICAgICBpZF9wYWdvOiByZWNpYm8uaWRfcGFnb1xyXG4gICAgICB9O1xyXG4gICAgXHJcbiAgICAgIHJldHVybiB7ZGF0YTogZGF0YSwgaW5mbzogaW5mb307XHJcbiAgICB9LFxyXG4gICAgXHJcbiAgICBnZXRQYXltZW50czogZnVuY3Rpb24gKGlkX2V4dHJhKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGZvcm0gPSBcImRhdGE9XCIrIEpTT04uc3RyaW5naWZ5KHtpZF9leHRyYTogaWRfZXh0cmF9KVxyXG4gICAgICB2YXIgc2VuZCA9IGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAnZXh0cmEvZ2V0X2V4dHJhX3BheW1lbnRfb2YnLCBmb3JtKVxyXG4gICAgICBzZW5kLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhO1xyXG5cclxuICAgICAgICBpZighZGF0YS5wYWdvcyl7XHJcbiAgICAgICAgICBzZWxmLnJlY2libyA9IHJlY2lib1Jlc2V0XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxlY3RFeHRyYVBheW1lbnQuaHRtbChkYXRhLnBhZ29zKS5jaGFuZ2UoKVxyXG5cclxuICAgICAgfSlcclxuICAgIH0sXHJcblxyXG4gICAgZGVsZXRlUGF5bWVudDogZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciByZWNpYm8gPSB0aGlzLnJlY2lib1xyXG4gICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAnaWRfZXh0cmEnOiByZWNpYm8uaWRfZXh0cmEsXHJcbiAgICAgICAgJ2lkX3BhZ28nOiByZWNpYm8uaWRfcGFnb1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgZm9ybSA9ICdkYXRhPScrIEpTT04uc3RyaW5naWZ5KGRhdGEpXHJcbiAgICAgIHZhciBzZW5kID0gYXhpb3MucG9zdChCQVNFX1VSTCArICdleHRyYS9kZWxldGVfcGF5bWVudCcsZm9ybSlcclxuXHJcbiAgICAgIHNlbmQudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YVxyXG4gICAgICAgIGRpc3BsYXlNZXNzYWdlKGRhdGEubWVuc2FqZSk7XHJcbiAgICAgICAgc2VsZi5nZXRQYXltZW50cyhzZWxmLmV4dHJhLmlkX2V4dHJhKTtcclxuICAgICAgfSlcclxuICAgICAgc2VuZC5jYXRjaChmdW5jdGlvbihlcnJvcil7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG5idXMuJG9uKCdyb3ctc2VsZWN0ZWQnLGZ1bmN0aW9uIChyb3cpIHtcclxuICBleHRyYVRhYmxlLmVsLnBhcmVudHMoXCIuYm9vdHN0cmFwLXRhYmxlXCIpLmFkZENsYXNzKFwiaGlkZVwiKTtcclxuICBhcHBQYWdvRXh0cmEudmlzaWJsZSA9IHRydWVcclxuICBhcHBQYWdvRXh0cmEuZXh0cmEgPSByb3dcclxuICBsaXN0RXh0cmFzID0gZXh0cmFUYWJsZS5lbC5maW5kKCd0Ym9keScpLmh0bWwoKTtcclxuICBhcHBQYWdvRXh0cmEuZ2V0UGF5bWVudHMocm93LmlkX2V4dHJhKTtcclxufSlcclxuXHJcbnZhciBzZWxlY3RFeHRyYVBheW1lbnQgPSAkKFwiI3NlbGVjdC1leHRyYS1wYXltZW50XCIpO1xyXG5zZWxlY3RFeHRyYVBheW1lbnQub24oJ2NoYW5nZScsZnVuY3Rpb24oKXtcclxuICB2YXIgaWRfcGFnbyA9IHNlbGVjdEV4dHJhUGF5bWVudC52YWwoKVxyXG4gIGFwcFBhZ29FeHRyYS5nZXRQYXltZW50KGlkX3BhZ28pXHJcbn0pIiwidmFyIGV4dHJhU2VjdGlvbiA9IG5ldyBWdWUoe1xyXG4gIGVsOiAnI2V4dHJhLXNlY3Rpb24nLFxyXG4gIGRhdGE6IHtcclxuICAgIGNvbnRlbnQ6ICcnLFxyXG4gICAgc2VhcmNoOiB7XHJcbiAgICAgIHRleHQ6ICcnLFxyXG4gICAgICBzdGF0ZTogJ2FjdGl2bydcclxuICAgIH0sXHJcbiAgICB0b3RhbGVzOiB7XHJcbiAgICAgIHBhZ2FkbzogMCxcclxuICAgICAgcGVuZGllbnRlOiAwLFxyXG4gICAgICB0b3RhbF92ZW5kaWRvOiAwXHJcbiAgICB9LFxyXG4gICAgdGFibGVJZDogJyNleHRyYS10YWJsZS1mdWxsJ1xyXG4gIH0sXHJcbiAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGN1cnJlbnRQYWdlID09ICdleHRyYXMnKSB7XHJcbiAgICAgIHRoaXMuZ2V0RGF0YSgpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGZpbHRlcnM6IHtcclxuICAgIGN1cnJlbmN5Rm9ybWF0OiBmdW5jdGlvbihudW1iZXIpe1xyXG4gICAgICByZXR1cm4gXCJSRCQgXCIrIEN1cnJlbmN5Rm9ybWF0KG51bWJlcik7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgXHJcbiAgbWV0aG9kczoge1xyXG4gICAgZmlsdGVyOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGZpbHRlckJTVGFibGUodGhpcy50YWJsZUlkLHRoaXMuZmlsdGVyVmFsdWUpO1xyXG4gICAgfSxcclxuICAgIFxyXG4gICAgZ2V0RGF0YTogZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBmb3JtID0gJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KHRoaXMuc2VhcmNoKVxyXG4gICAgICBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ2V4dHJhL2dldF9hbGwnLGZvcm0pXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICBzZWxmLmZpbGxUYWJsZShyZXMuZGF0YS5jb250ZW50KTtcclxuICAgICAgICBzZWxmLnRvdGFsZXMgPSByZXMuZGF0YS50b3RhbGVzO1xyXG4gICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICBmaWxsVGFibGU6IGZ1bmN0aW9uIChjb250ZW50KSB7XHJcbiAgICAgIGZpbGxCU1RhYmxlKCcjZXh0cmEtdGFibGUtZnVsbCcsIGNvbnRlbnQpXHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuIiwiXHJcbnZhciBjb25maWdNZXNzYWdlID0ge1xyXG4gIGVtYWlsOiAnJyxcclxuICBwYXNzd29yZDogJycsXHJcbiAgZGV2aWNlX2lkOiAnJyxcclxuICBjb3VudHJ5X2NvZGU6ICcnLFxyXG4gIHNlbmRfYXQ6ICcxIHNlY29uZCcsXHJcbiAgZXhwaXJlc19hdDogJzEgaG91cidcclxufVxyXG5cclxudmFyIGNvbmZpZ01lc3NhZ2VzRm9ybSA9IG5ldyBWdWUoe1xyXG4gIGVsOiAnI21lc3NhZ2Utc2V0dGluZ3Mtc2VjdGlvbicsXHJcbiAgZGF0YToge1xyXG4gICAgY29uZmlnOiBjb25maWdNZXNzYWdlXHJcbiAgfSxcclxuXHJcbiAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGN1cnJlbnRQYWdlID09ICdhZG1pbmlzdHJhZG9yJykgXHJcbiAgICAgIHRoaXMuZ2V0Q29uZmlnKClcclxuICB9LFxyXG5cclxuICBtZXRob2RzOiB7XHJcbiAgICBjb25maXJtUGhvbmU6IGZ1bmN0aW9uICgpIHt9LFxyXG5cclxuICAgIGdldENvbmZpZzogZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgc2VuZFxyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHNlbmQgPSBheGlvcy5nZXQoQkFTRV9VUkwgKyAnbWVzc2FnZXMvZ2V0X2NvbmZpZycpXHJcbiAgICAgIHNlbmQudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgaWYocmVzLmRhdGEuY29uZmlnKXtcclxuICAgICAgICAgIHNlbGYuY29uZmlnID0gcmVzLmRhdGEuY29uZmlnXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICBzZW5kLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICBzYXZlU2V0dGluZ3M6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIHZhciBjb25maWcsIGZvcm0sIHNlbmRcclxuICAgICAgY29uZmlnID0gdGhpcy5jb25maWdcclxuXHJcbiAgICAgIGZvcm0gPSAnZGF0YT0nICsgSlNPTi5zdHJpbmdpZnkoY29uZmlnKVxyXG4gICAgICBzZW5kID0gYXhpb3MucG9zdChCQVNFX1VSTCArICdtZXNzYWdlcy9zYXZlX2NvbmZpZycsIGZvcm0pXHJcbiAgICAgIHNlbmQudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgZGlzcGxheU1lc3NhZ2UocmVzLmRhdGEubWVuc2FqZSlcclxuICAgICAgfSlcclxuICAgICAgc2VuZC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxufSlcclxuXHJcbnZhciBzZW5kTWVzc2FnZUFwcCA9IG5ldyBWdWUoe1xyXG4gIGVsOiAnI3NlbmQtbWVzc2FnZS1tb2RhbCcsXHJcblxyXG4gIGRhdGE6IHtcclxuICAgIGhpZGVfY2xpZW50czogdHJ1ZSxcclxuICAgIGhpZGVfbnVtYmVyczogdHJ1ZSxcclxuXHJcbiAgICBtZXNzYWdlX2RhdGE6IHtcclxuICAgICAgdGlwbzogJycsXHJcbiAgICAgIGNsaWVudGVzOiAnJyxcclxuICAgICAgbnVtZXJvczogJycsXHJcbiAgICAgIG1lbnNhamU6ICcnXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5pbml0U2VsZWN0MigpXHJcbiAgfSxcclxuXHJcbiAgY29tcHV0ZWQ6IHtcclxuICAgIGxldHRlcnNfY291bnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZV9kYXRhLm1lbnNhamUubGVuZ3RoXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgbWV0aG9kczoge1xyXG4gICAgc2VuZE1lc3NhZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIGZvcm0sIHNlbmRcclxuXHJcbiAgICAgIGlmICghaXNFbXB0eShbdGhpcy5tZXNzYWdlX2RhdGEudGlwbywgdGhpcy5tZXNzYWdlX2RhdGEubWVuc2FqZV0pKSB7XHJcbiAgICAgICAgZm9ybSA9ICdkYXRhPScgKyBKU09OLnN0cmluZ2lmeSh0aGlzLm1lc3NhZ2VfZGF0YSlcclxuICAgICAgICBzZW5kID0gYXhpb3MucG9zdChCQVNFX1VSTCArICdtZXNzYWdlcy9zZW5kX21lc3NhZ2UnLCBmb3JtKVxyXG4gICAgICAgIHNlbmQudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICBkaXNwbGF5TWVzc2FnZShyZXMuZGF0YS5tZW5zYWplKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgc2VuZC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3dhbCgnQ2FtcG9zIFJlcXVlcmlkb3MnLCAnUG9yIGZhdm9yIHNlbGVjY2lvbmVzIGVsIHRpcG8gZGUgbWVuc2FqZSB5IGVzY3JpYmEgc3UgbWVuc2FqZScpXHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgaW5pdFNlbGVjdDI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzXHJcbiAgICAgIHZhciBvcHRpb25zID0ge1xyXG4gICAgICAgIGRyb3Bkb3duUGFyZW50OiAkKCcjc2VuZC1tZXNzYWdlLW1vZGFsJylcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHNlbGVjdE1lc3NhZ2VUeXBlID0gJCgnI21lc3NhZ2UtdHlwZScpXHJcbiAgICAgIHNlbGVjdE1lc3NhZ2VUeXBlLnNlbGVjdDIob3B0aW9ucylcclxuICAgICAgdmFyIHNlbGVjdENsaWVudHNGb3JNZXNzYWdlID0gJCgnI2NsaWVudHMtZm9yLW1lc3NhZ2UnKS5zZWxlY3QyKHtcclxuICAgICAgICBkcm9wZG93blBhcmVudDogJCgnI3NlbmQtbWVzc2FnZS1tb2RhbCcpLFxyXG4gICAgICAgIGFqYXg6IHtcclxuICAgICAgICAgIHVybDogQkFTRV9VUkwgKyAnbWVzc2FnZXMvc2VhcmNoX2NsaWVudHMnLFxyXG4gICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgIGRlbGF5OiAyNTAsXHJcbiAgICAgICAgICBkYXRhOiBmdW5jdGlvbiAocGFyYW1zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgcTogcGFyYW1zLnRlcm0sXHJcbiAgICAgICAgICAgICAgcGFnZTogcGFyYW1zLnBhZ2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICBwcm9jZXNzUmVzdWx0czogZnVuY3Rpb24gKGRhdGEsIHBhcmFtcykge1xyXG4gICAgICAgICAgICBwYXJhbXMucGFnZSA9IHBhcmFtcy5wYWdlIHx8IDFcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICByZXN1bHRzOiBkYXRhLml0ZW1zLFxyXG4gICAgICAgICAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICAgICAgICAgIG1vcmU6IChwYXJhbXMucGFnZSAqIDMwKSA8IGRhdGEudG90YWxfY291bnRcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjYWNoZTogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuXHJcbiAgICAgIHZhciBzZWxlY3RzID0ge1xyXG4gICAgICAgIGNsaWVudHM6IHNlbGVjdENsaWVudHNGb3JNZXNzYWdlLFxyXG4gICAgICAgIG1lc3NhZ2VUeXBlOiBzZWxlY3RNZXNzYWdlVHlwZVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuc2VsZWMyTGl0ZW5lcnMoc2VsZWN0cylcclxuICAgIH0sXHJcblxyXG4gICAgc2VsZWMyTGl0ZW5lcnM6IGZ1bmN0aW9uIChzZWxlY3RzKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpc1xyXG4gICAgICBzZWxlY3RzLm1lc3NhZ2VUeXBlLm9uKCdzZWxlY3QyOnNlbGVjdCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdmFyIHNlbGVjdCA9IGUucGFyYW1zLmRhdGEuZWxlbWVudFxyXG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gc2VsZWN0LmF0dHJpYnV0ZXNcclxuICAgICAgICB2YXIgdGlwbyA9IGUucGFyYW1zLmRhdGEuaWRcclxuICAgICAgICBzZWxmLm1lc3NhZ2VfZGF0YS50aXBvID0gdGlwb1xyXG5cclxuICAgICAgICBpZiAodGlwbyA9PSAnb3Ryb3MnKSB7XHJcbiAgICAgICAgICBzZWxmLmhpZGVfY2xpZW50cyA9IHRydWVcclxuICAgICAgICAgIHNlbGYuaGlkZV9udW1iZXJzID0gZmFsc2VcclxuICAgICAgICB9IGVsc2UgaWYgKHRpcG8gPT0gJ3BlcnNvbmFsaXphZG8nKSB7XHJcbiAgICAgICAgICBzZWxmLmhpZGVfbnVtYmVycyA9IHRydWVcclxuICAgICAgICAgIHNlbGYuaGlkZV9jbGllbnRzID0gZmFsc2VcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VsZi5oaWRlX2NsaWVudHMgPSB0cnVlXHJcbiAgICAgICAgICBzZWxmLmhpZGVfbnVtYmVycyA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBzZWxlY3RzLm1lc3NhZ2VUeXBlLnNlbGVjdDIoJ3ZhbCcsJ21vcmEnKTtcclxuXHJcbiAgICAgIHNlbGVjdHMuY2xpZW50cy5vbignc2VsZWN0MjpzZWxlY3QnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciBjbGllbnRlcyA9IHNlbGVjdHMuY2xpZW50cy5zZWxlY3QyKCdkYXRhJylcclxuICAgICAgICB2YXIgaXRlbXMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsaWVudGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpdGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgJ25vbWJyZV9jb21wbGV0byc6IGNsaWVudGVzW2ldLnRleHQsXHJcbiAgICAgICAgICAgICdjZWx1bGFyJzogY2xpZW50ZXNbaV0uaWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYubWVzc2FnZV9kYXRhLmNsaWVudGVzID0gaXRlbXNcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcbn0pIiwidmFyIHBheW1lbnRzUmVwb3J0ID0gbmV3IFZ1ZSh7XHJcbiAgZWw6ICcjcmVjaWJvcycsXHJcbiAgZGF0YToge1xyXG4gICB0YWJsZTogJycsXHJcbiAgIHRhYmxlSFRNTDogJycsXHJcbiAgIHRvdGFsOiAnJyxcclxuICAgYmV0d2Vlbjoge1xyXG4gICAgIGZpcnN0X2RhdGU6ICcnLFxyXG4gICAgIHNlY29uZF9kYXRlOiAnJyxcclxuICAgICB0ZXh0OiAnJ1xyXG4gICB9XHJcbiAgfSxcclxuICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoY3VycmVudFBhZ2UgPT0gJ25vdGlmaWNhY2lvbmVzJykge1xyXG4gICAgICB0aGlzLmdldFJlcG9ydCgpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgZmlsdGVyczoge1xyXG4gICAgY3VycmVuY3lGb3JtYXQ6IGZ1bmN0aW9uKG51bWJlcil7XHJcbiAgICAgIHJldHVybiBcIlJEJCBcIisgQ3VycmVuY3lGb3JtYXQobnVtYmVyKTtcclxuICAgIH0sXHJcbiAgfSxcclxuXHJcbiAgbWV0aG9kczoge1xyXG4gICAgZ2V0UmVwb3J0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGZvcm0gPSAnZGF0YT0nICsgSlNPTi5zdHJpbmdpZnkodGhpcy5iZXR3ZWVuKVxyXG4gICAgICBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ3BheW1lbnQvZ2V0X3JlY2VpcHRzLycsIGZvcm0pXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICBzZWxmLmZpbGxUYWJsZShyZXMuZGF0YS5jb250ZW50KVxyXG4gICAgICAgIHNlbGYudG90YWwgPSByZXMuZGF0YS5hY3VtO1xyXG4gICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICBmaWxsVGFibGU6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuICAgICAgdmFyICR0YWJsZSA9ICQoJyNyZWNlaXB0cy10YWJsZScpXHJcbiAgICAgICR0YWJsZS5ib290c3RyYXBUYWJsZSgnZGVzdHJveScpO1xyXG4gICAgICAkdGFibGUuZmluZCgndGJvZHknKS5odG1sKGNvbnRlbnQpO1xyXG4gICAgICAkdGFibGUuYm9vdHN0cmFwVGFibGUoKTtcclxuICAgICAgJHRhYmxlLmZpbmQoJ3Rib2R5JykuY3NzKHtkaXNwbGF5OlwidGFibGUtcm93LWdyb3VwXCJ9KTtcclxuICAgIH1cclxuICB9XHJcbn0pIiwidmFyIFJldGlyZW1lbnRSZXBvcnQgPSBuZXcgVnVlKHtcclxuICBlbDogJyNyZXRpcm9zJyxcclxuICBkYXRhOiB7XHJcbiAgIHRhYmxlOiAnJyxcclxuICAgdGFibGVIVE1MOiAnJyxcclxuICAgYmV0d2Vlbjoge1xyXG4gICAgIGZpcnN0X2RhdGU6ICcnLFxyXG4gICAgIHNlY29uZF9kYXRlOiAnJ1xyXG4gICB9XHJcbiAgfSxcclxuICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoY3VycmVudFBhZ2UgPT0gJ25vdGlmaWNhY2lvbmVzJykge1xyXG4gICAgICB0aGlzLmdldFJlcG9ydCgpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIG1ldGhvZHM6IHtcclxuICAgIGdldFJlcG9ydDogZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBmb3JtID0gJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KHRoaXMuYmV0d2VlbilcclxuICAgICAgYXhpb3MucG9zdChCQVNFX1VSTCArICdjb250cmFjdC9nZXRDYW5jZWxhdGlvbnMvJywgZm9ybSlcclxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgIHNlbGYuZmlsbFRhYmxlKHJlcy5kYXRhLmNvbnRlbnQpXHJcbiAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIGZpbGxUYWJsZTogZnVuY3Rpb24oY29udGVudCkge1xyXG4gICAgICB2YXIgJHRhYmxlID0gJCgnI2NhbmNlbGF0aW9uLXRhYmxlJylcclxuICAgICAgJHRhYmxlLmJvb3RzdHJhcFRhYmxlKCdkZXN0cm95Jyk7XHJcbiAgICAgICR0YWJsZS5maW5kKCd0Ym9keScpLmh0bWwoY29udGVudCk7XHJcbiAgICAgICR0YWJsZS5ib290c3RyYXBUYWJsZSgpO1xyXG4gICAgICAkdGFibGUuZmluZCgndGJvZHknKS5jc3Moe2Rpc3BsYXk6XCJ0YWJsZS1yb3ctZ3JvdXBcIn0pO1xyXG4gICAgfVxyXG4gIH1cclxufSkiLCIgIHZhciB0aWNrZXRMaXN0VmlldyA9IG5ldyBWdWUoe1xyXG4gICAgZWw6ICcjYXZlcmlhcy1saXN0LXZpZXcnLFxyXG4gICAgZGF0YToge1xyXG4gICAgICBkYXRhU2VhcmNoOiB7XHJcbiAgICAgICAgdGV4dDogJycsXHJcbiAgICAgICAgc3RhdGU6ICdwb3IgcmVwYXJhcicsXHJcbiAgICAgIH0sXHJcbiAgICAgIHRpY2tldHM6IFtdLFxyXG4gICAgICBoaWRlOiBmYWxzZVxyXG4gICAgfSxcclxuXHJcbiAgICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHRoaXMuaXRlbUNsaWNrTGlzdGVuZXIoKTtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzXHJcbiAgICAgIGJ1c0F2ZXJpYS4kb24oJ3RpY2tldHMtbGlzdGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuaXRlbUNsaWNrTGlzdGVuZXIoKVxyXG4gICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICBzZWFyY2g6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZm9ybSA9ICdkYXRhPScgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGFTZWFyY2gpO1xyXG4gICAgICAgIHZhciBzZW5kID0gYXhpb3MucG9zdChCQVNFX1VSTCArICdhcGkvYXZlcmlhcy9zZWFyY2gnLCBmb3JtKTtcclxuXHJcbiAgICAgICAgc2VuZC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgIHRoaXMuZmlsbEF2ZXJpYXNMaXN0KHJlcy5kYXRhKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBzZW5kLmNhdGNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzLmRhdGEubWVuc2FqZSk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBmaWxsQXZlcmlhc0xpc3Q6IGZ1bmN0aW9uICgkY29udGVudCkge1xyXG4gICAgICAgICQoJyNhdmVyaWEtaXRlbS1saXN0JykuaHRtbCgkY29udGVudCk7XHJcbiAgICAgICAgdGlja2V0TGlzdFZpZXcuaXRlbUNsaWNrTGlzdGVuZXIoKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGl0ZW1DbGlja0xpc3RlbmVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnI2F2ZXJpYXMtbGlzdC12aWV3IC5hdmVyaWEtaXRlbScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHZhciBpZF9hdmVyaWEgPSAkKHRoaXMpLmZpbmQoJy5jb2RlJykudGV4dCgpLnRyaW0oKTtcclxuICAgICAgICAgIHRpY2tldFZpZXcuZ2V0VGlja2V0KGlkX2F2ZXJpYSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB2YXIgZW1wdHlUaWNrZXQgPSB7XHJcbiAgICBcImlkX2F2ZXJpYVwiOiBcIlwiLFxyXG4gICAgXCJpZF9jbGllbnRlXCI6IFwiXCIsXHJcbiAgICBcImNsaWVudGVcIjogXCJcIixcclxuICAgIFwiZGlyZWNjaW9uXCI6IFwiXCIsXHJcbiAgICBcImRlc2NyaXBjaW9uXCI6IFwiXCIsXHJcbiAgICBcImNlbHVsYXJcIjogXCJcIixcclxuICAgIFwiZmVjaGFcIjogXCJcIixcclxuICAgIFwiZXN0YWRvXCI6IFwiXCIsXHJcbiAgICBcImZlY2hhX3JlcGFyYWNpb25cIjogXCJcIixcclxuICAgIFwidGVjbmljb1wiOiBcIlwiLFxyXG4gICAgXCJjb2RpZ29cIjogJycsXHJcbiAgfVxyXG4gIFxyXG4gIHZhciB0aWNrZXRWaWV3ID0gbmV3IFZ1ZSh7XHJcbiAgICBlbDogJyN0aWNrZXQtdmlldycsXHJcbiAgICBcclxuICAgIGRhdGE6IHtcclxuICAgICAgY2xhc3Nlczoge1xyXG4gICAgICAgIGhpZGU6IHRydWVcclxuICAgICAgfSxcclxuICAgICAgbW9kZToge1xyXG4gICAgICAgIG5ld0NvbW1lbnQ6IGZhbHNlLFxyXG4gICAgICAgIGVkaXQ6IGZhbHNlLFxyXG4gICAgICB9LFxyXG4gICAgICBuZXdfY29tbWVudDogJycsXHJcbiAgICAgIGNvbW1lbnRzOiBbXSxcclxuICAgICAgdGlja2V0OiBlbXB0eVRpY2tldFxyXG4gICAgfSxcclxuICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgJCgnI3RpY2tldC12aWV3JykucmVtb3ZlQ2xhc3MoJ2ludmlzaWJsZScpXHJcbiAgICB9LFxyXG5cclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgZ2V0VGlja2V0OiBmdW5jdGlvbiAoaWRfYXZlcmlhKSB7XHJcbiAgICAgICAgdmFyIGZvcm0gPSAnZGF0YT0nICsgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgaWRfYXZlcmlhOiBpZF9hdmVyaWFcclxuICAgICAgICB9KVxyXG4gICAgICAgIHZhciBzZW5kID0gYXhpb3MucG9zdChCQVNFX1VSTCArICdhcGkvYXZlcmlhcy9nZXRfYXZlcmlhJywgZm9ybSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc2VuZC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGE7XHJcbiAgICAgICAgICB0aWNrZXRWaWV3LmNsYXNzZXMuaGlkZSA9IGZhbHNlO1xyXG4gICAgICAgICAgdGlja2V0TGlzdFZpZXcuaGlkZSA9IHRydWU7XHJcbiAgICAgICAgICB0aWNrZXRWaWV3LnRpY2tldCA9IGRhdGEudGlja2V0O1xyXG4gICAgICAgICAgdGlja2V0Vmlldy5jb21tZW50cyA9IGRhdGEuY29tbWVudHM7XHJcbiAgICAgICAgfSlcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHF1aXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnRpY2tldCA9IGVtcHR5VGlja2V0O1xyXG4gICAgICAgIHRoaXMuY29tbWVudHMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2xhc3Nlcy5oaWRlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmNsb3NlQ29tbWVudE1vZGUoKTtcclxuICAgICAgICB0aWNrZXRMaXN0Vmlldy5oaWRlID0gZmFsc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBwcmludDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHByaW50KCk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzdGFydENvbW1lbnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm1vZGUubmV3Q29tbWVudCA9IHRydWU7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBhZGRDb21tZW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGZvcm0gPSBnZXRGb3JtKHtpZF9hdmVyaWE6IHRoaXMudGlja2V0LmlkX2F2ZXJpYSwgZGVzY3JpcGNpb246IHRoaXMubmV3X2NvbW1lbnR9KTtcclxuICAgICAgICB2YXIgc2VuZCA9IGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAnYXBpL2F2ZXJpYXMvYWRkX2NvbW1lbnQnLGZvcm0pO1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZW5kLnRoZW4oIGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgIHNlbGYuZ2V0Q29tbWVudHMoKTtcclxuICAgICAgICAgIHNlbGYuY2xvc2VDb21tZW50TW9kZSgpXHJcbiAgICAgICAgICBkaXNwbGF5TWVzc2FnZShyZXMuZGF0YS5tZW5zYWplKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIF9kZWxldGVDb21tZW50OiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciBjb21tZW50SXRlbSA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZVxyXG4gICAgICAgIHZhciBpZENvbW1lbnQgPSBlLnRhcmdldC5wYXJlbnROb2RlLmF0dHJpYnV0ZXNbJ2RhdGEtaWQnXS52YWx1ZVxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBjb21tZW50SXRlbS5jbGFzc0xpc3QuYWRkKCd0by1kZWxldGUnKTtcclxuXHJcbiAgICAgICAgc3dhbCh7XHJcbiAgICAgICAgICB0aXRsZTogJ0VzdMOhIFNlZ3Vybz8nLFxyXG4gICAgICAgICAgdGV4dDogXCJTZWd1cm8gZGUgcXVlIGVsaW1pbmFyIGVzdGUgcmVwb3J0ZT9cIixcclxuICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcclxuICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXHJcbiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ0VsaW1pbmFyJyxcclxuICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWxhcidcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICBzZWxmLmRlbGV0ZUNvbW1lbnQoaWRDb21tZW50KTtcclxuICAgICAgICAgIGNvbW1lbnRJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3RvLWRlbGV0ZScpXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgY29tbWVudEl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgndG8tZGVsZXRlJylcclxuICAgICAgICB9KVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgZGVsZXRlQ29tbWVudDogZnVuY3Rpb24gKGlkQ29tbWVudCl7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciBmb3JtID0gZ2V0Rm9ybSh7IGlkX3JlcG9ydGU6IGlkQ29tbWVudH0pO1xyXG4gICAgICAgIHZhciBzZW5kID0gYXhpb3MucG9zdChCQVNFX1VSTCArICdhcGkvYXZlcmlhcy9kZWxldGVfY29tbWVudCcsZm9ybSk7XHJcblxyXG4gICAgICAgIHNlbmQudGhlbiggZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgc2VsZi5nZXRDb21tZW50cygpO1xyXG4gICAgICAgICAgZGlzcGxheU1lc3NhZ2UocmVzLmRhdGEubWVuc2FqZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBlZGl0Q29tbWVudDogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgfSxcclxuICAgICAgXHJcbiAgICAgIGNsb3NlQ29tbWVudE1vZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm1vZGUubmV3Q29tbWVudCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubmV3X2NvbW1lbnQgPSAnJztcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldENvbW1lbnRzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGZvcm0gPSBnZXRGb3JtKHtpZF9hdmVyaWE6IHRoaXMudGlja2V0LmlkX2F2ZXJpYX0pO1xyXG4gICAgICAgIHZhciBzZW5kID0gYXhpb3MucG9zdChCQVNFX1VSTCArICdhcGkvYXZlcmlhcy9nZXRfY29tbWVudHMnLGZvcm0pO1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpc1xyXG4gICAgICAgIHNlbmQudGhlbiggZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgc2VsZi5jb21tZW50cyA9IHJlcy5kYXRhLmNvbW1lbnRzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgdXBkYXRlRGVzY3JpcHRpb246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVRpY2tldChbJ2lkX2F2ZXJpYScsJ2Rlc2NyaXBjaW9uJywndGVjbmljbycsJ2VzdGFkbycsJ2ZlY2hhX3JlcGFyYWNpb24nXSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB1cGRhdGVTdGF0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnRpY2tldC5lc3RhZG8gPT0gJ3BvciByZXBhcmFyJykge1xyXG4gICAgICAgICAgdGhpcy50aWNrZXQuZmVjaGFfcmVwYXJhY2lvbiA9ICcnXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMudGlja2V0LmZlY2hhX3JlcGFyYWNpb24gPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB1cGRhdGVUaWNrZXQ6IGZ1bmN0aW9uIChmaWVsZHMpIHtcclxuICAgICAgICB0aGlzLmNsb3NlRWRpdE1vZGUoKTtcclxuICAgICAgICB2YXIgZm9ybSA9IGdldEZvcm0odGhpcy5nZXRGaWVsZHMoZmllbGRzKSk7XHJcbiAgICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ2FwaS9hdmVyaWFzL3VwZGF0ZV9hdmVyaWEnLGZvcm0pO1xyXG5cclxuICAgICAgICBzZW5kLnRoZW4oIGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgIHRpY2tldExpc3RWaWV3LnNlYXJjaCgpO1xyXG4gICAgICAgICAgZGlzcGxheU1lc3NhZ2UocmVzLmRhdGEubWVuc2FqZSlcclxuICAgICAgICB9KVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgZGVsZXRlVGlja2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKCdkZWxldGVkJyk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjbG9zZUVkaXRNb2RlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlLmVkaXQgPSBmYWxzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGVudGVyRWRpdE1vZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm1vZGUuZWRpdCA9IHRydWU7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBnZXRGaWVsZHM6IGZ1bmN0aW9uIChmaWVsZHMpIHtcclxuICAgICAgICB2YXIgc2VsZWN0ZWRGaWVsZHMgPSB7fTtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcclxuICAgICAgICAgIHNlbGVjdGVkRmllbGRzW2ZpZWxkXSA9IHNlbGYudGlja2V0W2ZpZWxkXVxyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICByZXR1cm4gc2VsZWN0ZWRGaWVsZHM7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgZnVuY3Rpb24gZ2V0Rm9ybShvYmplY3Qpe1xyXG4gICAgcmV0dXJuIFwiZGF0YT1cIiArIEpTT04uc3RyaW5naWZ5KG9iamVjdCk7XHJcbiAgfVxyXG4iXX0=
