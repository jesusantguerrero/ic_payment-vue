function fillBSTable(e,t){var a=$(e);a.bootstrapTable("destroy"),a.find("tbody").html(t),a.bootstrapTable(),$(".pull-right.search").addClass("hide"),a.find("tbody").css({display:"table-row-group"}),a.addClass("innertable")}function filterBSTable(e,t){$(e).bootstrapTable("filterBy",{estado:t})}function isCurrentPage(e){return getCurrentPage()==e}function getCurrentPage(){var e=$("title").text().split(" ");return e=e[4].toLowerCase().trim()}function cierreCajaFunctions(){function e(){return moment().format("YYYY-MM-DD")}var t={total1:0,total5:0,total10:0,total20:0,total25:0,total50:0,total100:0,total200:0,total500:0,total1000:0,total2000:0},a=[{fecha:e(),descripcion:"hola",monto:2e3,id_gasto:1}],o=$("#autor-cierre").text().trim(),s=new Vue({el:"#app-cierre",data:{isHide:!1,fecha:e(),data_cierre:{autor:o,pagos_facturas:0,pagos_extras:0,pagos_efectivo:0,pagos_banco:0,total_ingresos:0,efectivo_caja:0,total_descuadre:0,total_gastos:0,banco:0},conteo:t,suma:0,gasto:{fecha:"",descripcion:"",monto:""},gastos:a},mounted:function(){this.getGastos(),this.setIngresos()},created:function(){$(".will-load").css({visibility:"visible"})},filters:{currencyFormat:function(e){return CurrencyFormat(e)}},methods:{changeTotal:function(e){var a=e.srcElement.attributes["data-unit"].value,o=e.srcElement.value;t["total"+a]=o*a*1},addGasto:function(t){var a=this.gasto;a.fecha=e(),form="data="+JSON.stringify(a);var o=axios.post(BASE_URL+"caja/add_gasto",form);o.then(function(e){var t=e.data;displayMessage(t.mensaje),s.fillGastos(t.gastos,"normal"),s.setGastoTotal(t.total_gastos)}),o.catch(function(){console.log(error)})},fillGastos:function(e,t){"group"==t?null!=e||e.length>0?s.gastos=e:s.gastos=[]:s.gastos.push(JSON.parse(e)[0])},setGastoTotal:function(e){this.data_cierre.total_gastos=e},getGasto:function(e){var t=this.gasto;form="data="+JSON.stringify(t),connectAndSend("caja/get_gasto",!1,null,s.fillGastos,form,null,null)},deleteGasto:function(t){var a=t.target;"i"==a.localname&&(a=a.parentElement);var o=a.attributes["data-id"].value;swal({title:"Está Seguro?",text:"Seguro de que quiere eliminar este gasto?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){form="data="+JSON.stringify({id:o,fecha:e()});var t=axios.post(BASE_URL+"caja/delete_gasto",form);t.then(function(e){var t=e.data;displayMessage(t.mensaje),s.fillGastos(t.gastos,"group"),s.setGastoTotal(t.total_gastos)}),t.catch(function(e){})})},getGastos:function(){var t={fecha:e()};form="data="+JSON.stringify(t);var a=axios.post(BASE_URL+"caja/get_gastos",form);a.then(function(e){var t=e.data;displayMessage(t.mensaje),s.fillGastos(t.gastos,"group"),s.setGastoTotal(t.total_gastos)}),a.catch(function(){console.log(error)})},setIngresos:function(){var t="data="+JSON.stringify({fecha:e()}),a=this.data_cierre,o=axios.post(BASE_URL+"caja/get_ingresos",t);o.then(function(e){var t=e.data;a.pagos_facturas=t.pagos_facturas,a.pagos_extras=t.pagos_extras,a.pagos_efectivo=t.pagos_efectivo,a.pagos_banco=t.pagos_banco,a.total_ingresos=parseFloat(t.pagos_facturas)+parseFloat(a.pagos_extras),a.total_descuadre=-a.pagos_efectivo+a.efectivo_caja}),o.catch(function(){console.log(error)})},cerrarCaja:function(){var e=this,t=this.data_cierre;window.cierre=t,0!=t.total_descuadre?swal({title:"Está Seguro?",text:"Hay un descuadre en la caja, quiere hacer el cierre de todos modos?",type:"warning",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(function(){e.cerrar(t)}):e.cerrar(t)},cerrar:function(t){t.fecha=e(),form="data="+JSON.stringify(t);var a=axios.post(BASE_URL+"caja/add_cierre",form);a.then(function(e){var a=e.data;displayMessage(a.mensaje),self.isHide=!0,appSummaryView.isHide=!1,appSummaryView.cierre=t,$("#app-cierre").addClass("hide"),$(".top-nav").addClass("hide"),$("#print-view").css({visibility:"visible"})}),a.catch(function(){console.log(error)})}},computed:{getTotal:function(e){var a=t,o=this.data_cierre,s=function(e){for(var t=0,a=0;a<e.length;a++)t+=parseFloat(e[a]);return t}([a.total1,a.total5,a.total10,a.total20,a.total25,a.total50,a.total100,a.total200,a.total500,a.total1000,a.total2000]);return this.suma=s,o.efectivo_caja=s.toFixed(2),o.total_descuadre=parseFloat(-o.pagos_efectivo)+parseFloat(o.efectivo_caja),o.banco=parseFloat(o.pagos_banco)+parseFloat(o.pagos_efectivo)-parseFloat(o.total_gastos)+parseFloat(o.total_descuadre),this.suma},decimals:function(){["pagos_facturas","pagos_extra","pagos_efectivo","pagos_banco","total_ingresos","efectivo_caja","total_descuadre","total_gasto","banco"].forEach(function(e){this.data_cierre[e]=this.data_cierre[e].toFixed(2)},this)}}});window.appCierre=s}function fetchReportData(){var e=axios.get(BASE_URL+"caja/get_last_cierre");e.then(function(e){cajaWeekChart(e.data),appVistaDetalle.cierre=e.data.cierre}),e.catch(function(e){});var t="data="+JSON.stringify({year:moment().format("YYYY")});axios.post(BASE_URL+"caja/get_year_info",t).then(function(e){yearChart(e.data.gastos,e.data.ganancias)})}function cajaWeekChart(e){var t=$("#ganancias-chart"),a={type:"bar",data:{labels:e.labels,datasets:[{label:"Valores",data:e.values,backgroundColor:[colors.lightBlue6,colors.lightBlue6,colors.blue7,window.chartColors.blue,window.chartColors.green,colors.blueGreen,window.chartColors.red,window.chartColors.red,window.chartColors.blue]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{callback:function(e,t,a){return""!=e&&null!=e||(e=0),"RD$ "+CurrencyFormat(e)}}}],xAxes:[{ticks:{callback:function(e,t,a){return e.replace(/_/g," ")}}}]},tooltips:{callbacks:{label:function(e,t){return"RD$ "+CurrencyFormat(e.yLabel)}}},title:{display:!0,text:"Datos del ultimo cierre. hecho por "+e.autor+" el dia "+e.fecha}}};new Chart(t,a)}function yearChart(e,t){var a=$("#ganancias-mes-chart"),o={labels:meses,datasets:[{label:"Gastos",backgroundColor:window.chartColors.red,borderColor:window.chartColors.red,data:e,fill:!1},{label:"Banco(Ganancias)",fill:!1,backgroundColor:window.chartColors.blue,borderColor:window.chartColors.blue,data:t}]},s={responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{callback:function(e,t,a){return"RD$ "+CurrencyFormat(e)}}}]},tooltips:{callbacks:{label:function(e,t){return"RD$ "+CurrencyFormat(e.yLabel)}}},title:{display:!0,text:"Registros de cierre Este ultimo año"}};new Chart(a,{type:"line",data:o,options:s})}function getForm(e){return"data="+JSON.stringify(e)}var acountView=new Vue({el:"#acount-section",data:{user:{user_id:"",nickname:"",name:"",lastname:"",dni:"",type:"",email:""},isChangePassword:!1,currentPassword:"",newPassword:"",passwordConfirm:"",states:{"has-error":!1,"has-success":!1,button:!0}},mounted:function(){"cuenta"==currentPage&&this.getUser()},methods:{getUser:function(){var e=this,t=$("#acount-user-id").val(),a="data="+JSON.stringify({user_id:t});axios.post(BASE_URL+"user/get_user",a).then(function(t){var a=t.data.user;a.fullname=a.name+" "+a.lastname,e.user=a})},updateInfo:function(){this.isChangePassword?this.changePassword():this.changeEmail()},changePassword:function(){if(this.states["has-success"]){var e="data="+JSON.stringify({user_id:this.user.user_id,current_password:this.currentPassword,new_password:this.newPassword});axios.post(BASE_URL+"user/update_password",e).then(function(e){displayMessage(e.data.message),window.location=BASE_URL+"app/logut"})}else displayMessage("Las contraseñas no conciden")},changeEmail:function(){var e=this.user;swal({title:"Contraseña",input:"password"}).then(function(t){var a="data="+JSON.stringify({user_id:e.user_id,password:t,field:"email",value:e.email});axios.post(BASE_URL+"user/update_field",a).then(function(e){displayMessage(e.data.message)})})},confirmPasswordServer:function(e){var t="data="+JSON.stringify({user_id:this.user.user_id,current_password:e});return new Promise(function(e,a){axios.post(BASE_URL+"user/confirm_password",t).then(function(t){e(t.data.is_correct)})})},confirmPassword:function(){var e=this;this.confirmPasswordServer(this.currentPassword).then(function(t){e.isChangePassword=t})},checkPassword:function(){this.newPassword==this.passwordConfirm&&this.changePassword?(this.setStates(!0,!1),this.states.button=!0):this.changePassword?(this.setStates(!1,!0),this.states.button=!1):this.setStates(!1,!1)},setStates:function(e,t){this.states["has-success"]=e,this.states["has-error"]=t}}});(isCurrentPage("cierre")||isCurrentPage("cierre2"))&&cierreCajaFunctions(),Vue.component("summary-print-view",{template:'    <div class="print-container">      <div class="__header">      <h2 class="__title t-center"> {{title}}</h2>      </div>      <div class="__body">      <printeable></printeable>      </div>    <div>        ',props:["somevalue"],methods:{goBack:function(){appSummaryView.isHide=!0,window.appCierre.isHide=!1,self.isHide=!0,$(".top-nav").removeClass("hide"),$("#app-cierre").removeClass("hide")}},data:function(){return{back:{link:"somelink",text:"volver a cierre"},foward:{link:BASE_URL+"app/logout",text:"cerrar session"},title:"Resumen de cierre de hoy"}}});var appSummaryView=new Vue({el:"#print-view",data:{isHide:!0,back:{link:"somelink",text:"volver a cierre"},foward:{link:BASE_URL+"app/logout",text:"cerrar session"},cierre:{autor:"",pagos_facturas:0,pagos_extras:0,pagos_efectivo:0,pagos_banco:0,total_ingresos:0,efectivo_caja:0,total_descuadre:0,total_gastos:0,banco:0}},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)},spanishDateFormat:function(e){return moment.locale("es-DO"),moment(e).format("dddd DD [de] MMMM [del] YYYY")}},methods:{goBack:function(){appSummaryView.isHide=!0,window.appCierre.isHide=!1,self.isHide=!0,$(".top-nav").removeClass("hide"),$("#app-cierre").removeClass("hide")},print:function(){print()}}}),closeReport=new Vue({el:"#cierres",data:{table:"",tableHTML:"",hasTotals:!1,totals:!1,between:{first_date:"",second_date:"",text:""}},mounted:function(){"informes"==currentPage&&this.getReport()},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{getReport:function(){var e=this,t="data="+JSON.stringify(this.between);axios.post(BASE_URL+"caja/get_cierres/true",t).then(function(t){e.fillTable(t.data.content),e.hasTotals=!0,e.totals=t.data.acum})},fillTable:function(e){fillBSTable("#cierres-table",e)}}}),expensesReport=new Vue({el:"#gastos",data:{table:"",tableHTML:"",total:"",between:{first_date:"",second_date:"",text:""}},mounted:function(){"informes"==currentPage&&this.getReport()},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{getReport:function(){var e=this,t="data="+JSON.stringify(this.between);axios.post(BASE_URL+"caja/get_gastos/true",t).then(function(t){e.fillTable(t.data.content),e.total=t.data.acum})},fillTable:function(e){fillBSTable("#gastos-table",e)}}}),listExtras="",reciboReset={id_pago:0,id_contrato:0,id_servicio:0,id_empleado:0,fecha_pago:"",concepto:"extra",detalles_extra:"",cuota:"",mora:"",monto_extra:"",total:"",estado:"",fecha_limite:"",complete_date:"",descuento:"",razon_descuento:"",deuda:"",abono_a:"",tipo:"",generado:""},appPagoExtra=new Vue({el:"#app-pago-extra",data:{recibo:{id_pago:0,id_contrato:0,id_servicio:0,id_empleado:0,fecha_pago:"dd/mm/yyyy",concepto:"extra",detalles_extra:"",cuota:"",mora:"",monto_extra:"",total:"",estado:"",fecha_limite:"",complete_date:"",descuento:"",razon_descuento:"",deuda:"",abono_a:"",tipo:"",generado:""},visible:!1,pagado:!1,extra:{controls:"",id_extra:"",id_servicio:"",checkbox:"",fecha:"",concepto:"",ultimo_pago:"",monto_pagado:"",monto_total:"",estado:""},firstControls:{hide:!1}},filters:{},computed:{url_recibo:function(){return BASE_URL+"process/getrecibo/"+this.recibo.id_pago},hide_recibo:function(){return"pagado"!=this.recibo.estado&&(this.hide_recibo=!0)},isPagado:function(){return this.pagado="pagado"==this.recibo.estado,this.pagado}},methods:{goBack:function(){extraTable.el.parents(".bootstrap-table").removeClass("hide"),this.visible=!1,this.extra={concepto:""},extraTable.refresh(listExtras)},generatePayment:function(){if(this.pagado||0==this.recibo.id_pago){var e="data="+JSON.stringify(this.extra),t=axios.post(BASE_URL+"extra/generate_extra_payment",e);t.then(function(e){var t=e.data;displayMessage(t.mensaje),selectExtraPayment.html(t.pagos).change()}),t.catch(function(){})}else displayMessage(MESSAGE_INFO+" Debe realizar este pago antes de crear uno nuevo")},getPayment:function(e){var t="data="+JSON.stringify({id_pago:e}),a=this;axios.post(BASE_URL+"extra/get_payment",t).then(function(e){var t=e.data;t.recibo&&(a.recibo=t.recibo)})},applyPayment:function(){0!=this.recibo.id_pago?this.sender("extra/apply_payment"):displayMessage(MESSAGE_INFO+" Debe generar un pago primero")},editPayment:function(){this.sender("extra/edit_payment")},sender:function(e){var t=this,a=this.prepareData(),o=a.info,s=a.data,i="data="+JSON.stringify(s)+"&info="+JSON.stringify(o),n=axios.post(BASE_URL+e,i);n.then(function(e){var a=e.data;listExtras=a.extras,t.getPayments(t.extra.id_extra),displayMessage(a.mensaje)}),n.catch(function(e){console.log(e)})},prepareData:function(e){return{data:{concepto:"extra -",detalles_extra:(e=this.recibo).detalles_extra,fecha_pago:e.fecha_pago,cuota:e.cuota,total:e.cuota,estado:"pagado",tipo:e.tipo,generado:!0},info:{id_extra:e.id_extra,id_pago:e.id_pago}}},getPayments:function(e){var t=this,a="data="+JSON.stringify({id_extra:e});axios.post(BASE_URL+"extra/get_extra_payment_of",a).then(function(e){var a=e.data;a.pagos||(t.recibo=reciboReset),selectExtraPayment.html(a.pagos).change()})},deletePayment:function(){var e=this,t=this.recibo,a={id_extra:t.id_extra,id_pago:t.id_pago},o="data="+JSON.stringify(a),s=axios.post(BASE_URL+"extra/delete_payment",o);s.then(function(t){var a=t.data;displayMessage(a.mensaje),e.getPayments(e.extra.id_extra)}),s.catch(function(e){console.log(e)})}}});bus.$on("row-selected",function(e){extraTable.el.parents(".bootstrap-table").addClass("hide"),appPagoExtra.visible=!0,appPagoExtra.extra=e,listExtras=extraTable.el.find("tbody").html(),appPagoExtra.getPayments(e.id_extra)});var selectExtraPayment=$("#select-extra-payment");selectExtraPayment.on("change",function(){var e=selectExtraPayment.val();appPagoExtra.getPayment(e)});var extraSection=new Vue({el:"#extra-section",data:{content:"",search:{text:"",state:"activo"},totales:{pagado:0,pendiente:0,total_vendido:0},tableId:"#extra-table-full"},mounted:function(){"extras"==currentPage&&this.getData()},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{filter:function(e){filterBSTable(this.tableId,this.filterValue)},getData:function(){var e=this,t="data="+JSON.stringify(this.search);axios.post(BASE_URL+"extra/get_all",t).then(function(t){e.fillTable(t.data.content),e.totales=t.data.totales})},fillTable:function(e){fillBSTable("#extra-table-full",e)}}}),configMessage={email:"",password:"",device_id:"",country_code:"",send_at:"1 second",expires_at:"1 hour"},configMessagesForm=new Vue({el:"#message-settings-section",data:{config:configMessage},mounted:function(){"administrador"==currentPage&&this.getConfig()},methods:{confirmPhone:function(){},getConfig:function(){var e,t=this;(e=axios.get(BASE_URL+"messages/get_config")).then(function(e){e.data.config&&(t.config=e.data.config)}),e.catch(function(e){console.log(e)})},saveSettings:function(e){var t,a,o;t=this.config,a="data="+JSON.stringify(t),(o=axios.post(BASE_URL+"messages/save_config",a)).then(function(e){displayMessage(e.data.mensaje)}),o.catch(function(e){console.log(e)})}}}),sendMessageApp=new Vue({el:"#send-message-modal",data:{hide_clients:!0,hide_numbers:!0,message_data:{tipo:"",clientes:"",numeros:"",mensaje:""}},mounted:function(){this.initSelect2()},computed:{letters_count:function(){return this.message_data.mensaje.length}},methods:{sendMessage:function(){var e,t;isEmpty([this.message_data.tipo,this.message_data.mensaje])?swal("Campos Requeridos","Por favor selecciones el tipo de mensaje y escriba su mensaje"):(e="data="+JSON.stringify(this.message_data),(t=axios.post(BASE_URL+"messages/send_message",e)).then(function(e){displayMessage(e.data.mensaje)}),t.catch(function(e){console.log(e)}))},initSelect2:function(){var e={dropdownParent:$("#send-message-modal")},t=$("#message-type");t.select2(e);var a={clients:$("#clients-for-message").select2({dropdownParent:$("#send-message-modal"),ajax:{url:BASE_URL+"messages/search_clients",dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:30*t.page<e.total_count}}},cache:!0}}),messageType:t};this.selec2Liteners(a)},selec2Liteners:function(e){var t=this;e.messageType.on("select2:select",function(e){e.params.data.element.attributes;var a=e.params.data.id;t.message_data.tipo=a,"otros"==a?(t.hide_clients=!0,t.hide_numbers=!1):"personalizado"==a?(t.hide_numbers=!0,t.hide_clients=!1):(t.hide_clients=!0,t.hide_numbers=!0)}),e.messageType.select2("val","mora"),e.clients.on("select2:select",function(a){for(var o=e.clients.select2("data"),s=[],i=0;i<o.length;i++)s.push({nombre_completo:o[i].text,celular:o[i].id});t.message_data.clientes=s})}}}),paymentsReport=new Vue({el:"#recibos",data:{table:"",tableHTML:"",total:"",between:{first_date:"",second_date:"",text:""}},mounted:function(){"notificaciones"==currentPage&&this.getReport()},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{getReport:function(){var e=this,t="data="+JSON.stringify(this.between);axios.post(BASE_URL+"payment/get_receipts/",t).then(function(t){e.fillTable(t.data.content),e.total=t.data.acum})},fillTable:function(e){var t=$("#receipts-table");t.bootstrapTable("destroy"),t.find("tbody").html(e),t.bootstrapTable(),t.find("tbody").css({display:"table-row-group"})}}});"reportes"==currentPage&&fetchReportData(),window.chartColors={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"};var meses=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],colors={green:"rgba(0,230,118 ,1)",blueGreen:"rgba(29,233,182 ,1)",blue7:"rgba(25,118,210 ,1)",lightBlue6:"rgba(3,155,229 ,1)",red3:"rgba(229,115,115 ,1)",deepOrange4:"rgba(255,112,67 ,1)"},cierre={autor:"",banco:0,dinero_real_en_caja:0,fecha:"",pago_de_facturas:0,pagos_de_extras:0,pagos_en_efectivo:0,pagos_via_banco:0,total_de_ingresos:0,total_descuadre:0},appVistaDetalle=new Vue({el:"#app-vista-detalle",data:{cierre:cierre},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{print:function(){print()}}}),RetirementReport=new Vue({el:"#retiros",data:{table:"",tableHTML:"",between:{first_date:"",second_date:""}},mounted:function(){"notificaciones"==currentPage&&this.getReport()},methods:{getReport:function(){var e=this,t="data="+JSON.stringify(this.between);axios.post(BASE_URL+"contract/getCancelations/",t).then(function(t){e.fillTable(t.data.content)})},fillTable:function(e){var t=$("#cancelation-table");t.bootstrapTable("destroy"),t.find("tbody").html(e),t.bootstrapTable(),t.find("tbody").css({display:"table-row-group"})}}}),ticketListView=new Vue({el:"#averias-list-view",data:{dataSearch:{text:"",state:"por reparar"},tickets:[],hide:!1},mounted:function(){this.itemClickListener();var e=this;busAveria.$on("tickets-listed",function(){e.itemClickListener()})},methods:{search:function(){var e="data="+JSON.stringify(this.dataSearch),t=axios.post(BASE_URL+"api/averias/search",e);t.then(function(e){this.fillAveriasList(e.data)}),t.catch(function(){console.error(res.data.mensaje)})},fillAveriasList:function(e){$("#averia-item-list").html(e),ticketListView.itemClickListener()},itemClickListener:function(){$("#averias-list-view .averia-item").on("click",function(){var e=$(this).find(".code").text().trim();ticketView.getTicket(e)})}}}),emptyTicket={id_averia:"",id_cliente:"",cliente:"",direccion:"",descripcion:"",celular:"",fecha:"",estado:"",fecha_reparacion:"",tecnico:"",codigo:""},ticketView=new Vue({el:"#ticket-view",data:{classes:{hide:!0},mode:{newComment:!1,edit:!1},new_comment:"",comments:[],ticket:emptyTicket},created:function(){$("#ticket-view").removeClass("invisible")},methods:{getTicket:function(e){var t="data="+JSON.stringify({id_averia:e});axios.post(BASE_URL+"api/averias/get_averia",t).then(function(e){var t=e.data;ticketView.classes.hide=!1,ticketListView.hide=!0,ticketView.ticket=t.ticket,ticketView.comments=t.comments})},quit:function(){this.ticket=emptyTicket,this.comments=null,this.classes.hide=!0,this.closeCommentMode(),ticketListView.hide=!1},print:function(){print()},startComment:function(){this.mode.newComment=!0},addComment:function(){var e=getForm({id_averia:this.ticket.id_averia,descripcion:this.new_comment}),t=this;axios.post(BASE_URL+"api/averias/add_comment",e).then(function(e){t.getComments(),t.closeCommentMode(),displayMessage(e.data.mensaje)})},_deleteComment:function(e){var t=e.target.parentNode.parentNode,a=e.target.parentNode.attributes["data-id"].value,o=this;t.classList.add("to-delete"),swal({title:"Está Seguro?",text:"Seguro de que eliminar este reporte?",type:"warning",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then(function(){o.deleteComment(a),t.classList.remove("to-delete")}).catch(function(){t.classList.remove("to-delete")})},deleteComment:function(e){var t=this,a=getForm({id_reporte:e});axios.post(BASE_URL+"api/averias/delete_comment",a).then(function(e){t.getComments(),displayMessage(e.data.mensaje)})},editComment:function(){},closeCommentMode:function(){this.mode.newComment=!1,this.new_comment=""},getComments:function(){var e=getForm({id_averia:this.ticket.id_averia}),t=this;axios.post(BASE_URL+"api/averias/get_comments",e).then(function(e){t.comments=e.data.comments})},updateDescription:function(){this.updateTicket(["id_averia","descripcion","tecnico","estado","fecha_reparacion"])},updateState:function(){"por reparar"==this.ticket.estado?this.ticket.fecha_reparacion="":this.ticket.fecha_reparacion=moment().format("YYYY-MM-DD")},updateTicket:function(e){this.closeEditMode();var t=getForm(this.getFields(e));axios.post(BASE_URL+"api/averias/update_averia",t).then(function(e){ticketListView.search(),displayMessage(e.data.mensaje)})},deleteTicket:function(){console.info("deleted")},closeEditMode:function(){this.mode.edit=!1},enterEditMode:function(){this.mode.edit=!0},getFields:function(e){var t={},a=this;return e.forEach(function(e){t[e]=a.ticket[e]},this),t}}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkEtTGliLmpzIiwiY2llcnJlQ2FqYS5qcyIsIlJlcG9ydGVzR3JhZmljb3MuanMiLCJBY291bnQuanMiLCJjbG9zZVJlcG9ydC4xLmpzIiwiRXhwZW5zZXNSZXBvcnQuanMiLCJleHRyYXMuanMiLCJFeHRyYVNlY3Rpb24uanMiLCJNZXNzYWdlcy5qcyIsIlBheW1lbnRzLmpzIiwiUmV0aXJlbWVudHMuanMiLCJUaWNrZXRzLmpzIl0sIm5hbWVzIjpbImZpbGxCU1RhYmxlIiwidGFibGVJZCIsImNvbnRlbnQiLCIkdGFibGUiLCIkIiwiYm9vdHN0cmFwVGFibGUiLCJmaW5kIiwiaHRtbCIsImFkZENsYXNzIiwiY3NzIiwiZGlzcGxheSIsImZpbHRlckJTVGFibGUiLCJzdGF0ZSIsImVzdGFkbyIsImlzQ3VycmVudFBhZ2UiLCJwYWdlTmFtZSIsImdldEN1cnJlbnRQYWdlIiwiY3VycmVudFBhZ2UiLCJ0ZXh0Iiwic3BsaXQiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJjaWVycmVDYWphRnVuY3Rpb25zIiwibm93IiwibW9tZW50IiwiZm9ybWF0IiwidG90YWxlcyIsInRvdGFsMSIsInRvdGFsNSIsInRvdGFsMTAiLCJ0b3RhbDIwIiwidG90YWwyNSIsInRvdGFsNTAiLCJ0b3RhbDEwMCIsInRvdGFsMjAwIiwidG90YWw1MDAiLCJ0b3RhbDEwMDAiLCJ0b3RhbDIwMDAiLCJnYXN0b3MiLCJmZWNoYSIsImRlc2NyaXBjaW9uIiwibW9udG8iLCJpZF9nYXN0byIsImF1dG9yIiwiYXBwQ2llcnJlIiwiVnVlIiwiZWwiLCJkYXRhIiwiaXNIaWRlIiwiZGF0YV9jaWVycmUiLCJwYWdvc19mYWN0dXJhcyIsInBhZ29zX2V4dHJhcyIsInBhZ29zX2VmZWN0aXZvIiwicGFnb3NfYmFuY28iLCJ0b3RhbF9pbmdyZXNvcyIsImVmZWN0aXZvX2NhamEiLCJ0b3RhbF9kZXNjdWFkcmUiLCJ0b3RhbF9nYXN0b3MiLCJiYW5jbyIsImNvbnRlbyIsInN1bWEiLCJnYXN0byIsIm1vdW50ZWQiLCJ0aGlzIiwiZ2V0R2FzdG9zIiwic2V0SW5ncmVzb3MiLCJjcmVhdGVkIiwidmlzaWJpbGl0eSIsImZpbHRlcnMiLCJjdXJyZW5jeUZvcm1hdCIsIm51bWJlciIsIkN1cnJlbmN5Rm9ybWF0IiwibWV0aG9kcyIsImNoYW5nZVRvdGFsIiwiZSIsInVuaXQiLCJzcmNFbGVtZW50IiwiYXR0cmlidXRlcyIsInZhbHVlIiwiY2FudGlkYWQiLCJhZGRHYXN0byIsImZvcm0iLCJKU09OIiwic3RyaW5naWZ5Iiwic2VuZCIsImF4aW9zIiwicG9zdCIsIkJBU0VfVVJMIiwidGhlbiIsInJlc3BvbnNlIiwiZGlzcGxheU1lc3NhZ2UiLCJtZW5zYWplIiwiZmlsbEdhc3RvcyIsInNldEdhc3RvVG90YWwiLCJjYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImdhc3Rvc19zZXJ2aWRvciIsIm1vZGUiLCJsZW5ndGgiLCJwdXNoIiwicGFyc2UiLCJ0b3RhbEdhc3RvcyIsImdldEdhc3RvIiwiY29ubmVjdEFuZFNlbmQiLCJkZWxldGVHYXN0byIsImNhbGxlciIsInRhcmdldCIsImxvY2FsbmFtZSIsInBhcmVudEVsZW1lbnQiLCJpZCIsInN3YWwiLCJ0aXRsZSIsInR5cGUiLCJzaG93Q2FuY2VsQnV0dG9uIiwiY29uZmlybUJ1dHRvblRleHQiLCJjYW5jZWxCdXR0b25UZXh0Iiwic2VsZiIsInBhcnNlRmxvYXQiLCJjZXJyYXJDYWphIiwiY2llcnJlIiwid2luZG93IiwiY2VycmFyIiwiYXBwU3VtbWFyeVZpZXciLCJjb21wdXRlZCIsImdldFRvdGFsIiwidCIsInZhbG9yZXMiLCJpIiwic3VtYXIiLCJ0b0ZpeGVkIiwiZGVjaW1hbHMiLCJmb3JFYWNoIiwiZmllbGQiLCJmZXRjaFJlcG9ydERhdGEiLCJnZXQiLCJjYWphV2Vla0NoYXJ0IiwiYXBwVmlzdGFEZXRhbGxlIiwieWVhciIsInJlcyIsInllYXJDaGFydCIsImdhbmFuY2lhcyIsImNhbnZhcyIsImNoYXJ0T3B0aW9ucyIsImxhYmVscyIsImRhdGFzZXRzIiwibGFiZWwiLCJ2YWx1ZXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvcnMiLCJsaWdodEJsdWU2IiwiYmx1ZTciLCJjaGFydENvbG9ycyIsImJsdWUiLCJncmVlbiIsImJsdWVHcmVlbiIsInJlZCIsIm9wdGlvbnMiLCJyZXNwb25zaXZlIiwibWFpbnRhaW5Bc3BlY3RSYXRpbyIsInNjYWxlcyIsInlBeGVzIiwidGlja3MiLCJjYWxsYmFjayIsImluZGV4IiwieEF4ZXMiLCJyZXBsYWNlIiwidG9vbHRpcHMiLCJjYWxsYmFja3MiLCJ0b29sdGlwSXRlbSIsInlMYWJlbCIsIkNoYXJ0IiwiJGNhbnZhcyIsIm1lc2VzIiwiYm9yZGVyQ29sb3IiLCJmaWxsIiwiYWNvdW50VmlldyIsInVzZXIiLCJ1c2VyX2lkIiwibmlja25hbWUiLCJuYW1lIiwibGFzdG5hbWUiLCJkbmkiLCJlbWFpbCIsImlzQ2hhbmdlUGFzc3dvcmQiLCJjdXJyZW50UGFzc3dvcmQiLCJuZXdQYXNzd29yZCIsInBhc3N3b3JkQ29uZmlybSIsInN0YXRlcyIsImhhcy1lcnJvciIsImhhcy1zdWNjZXNzIiwiYnV0dG9uIiwiZ2V0VXNlciIsInZhbCIsInVwZGF0ZUluZm8iLCJjaGFuZ2VQYXNzd29yZCIsImNoYW5nZUVtYWlsIiwiY3VycmVudF9wYXNzd29yZCIsIm5ld19wYXNzd29yZCIsIm1lc3NhZ2UiLCJsb2NhdGlvbiIsImlucHV0IiwicGFzc3dvcmQiLCJjb25maXJtUGFzc3dvcmRTZXJ2ZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImlzX2NvcnJlY3QiLCJjb25maXJtUGFzc3dvcmQiLCJjaGVja1Bhc3N3b3JkIiwic2V0U3RhdGVzIiwic3VjY2VzcyIsImNvbXBvbmVudCIsInRlbXBsYXRlIiwicHJvcHMiLCJnb0JhY2siLCJyZW1vdmVDbGFzcyIsImJhY2siLCJsaW5rIiwiZm93YXJkIiwic3BhbmlzaERhdGVGb3JtYXQiLCJkYXRlIiwibG9jYWxlIiwicHJpbnQiLCJjbG9zZVJlcG9ydCIsInRhYmxlIiwidGFibGVIVE1MIiwiaGFzVG90YWxzIiwidG90YWxzIiwiYmV0d2VlbiIsImZpcnN0X2RhdGUiLCJzZWNvbmRfZGF0ZSIsImdldFJlcG9ydCIsImZpbGxUYWJsZSIsImFjdW0iLCJleHBlbnNlc1JlcG9ydCIsInRvdGFsIiwibGlzdEV4dHJhcyIsInJlY2lib1Jlc2V0IiwiaWRfcGFnbyIsImlkX2NvbnRyYXRvIiwiaWRfc2VydmljaW8iLCJpZF9lbXBsZWFkbyIsImZlY2hhX3BhZ28iLCJjb25jZXB0byIsImRldGFsbGVzX2V4dHJhIiwiY3VvdGEiLCJtb3JhIiwibW9udG9fZXh0cmEiLCJmZWNoYV9saW1pdGUiLCJjb21wbGV0ZV9kYXRlIiwiZGVzY3VlbnRvIiwicmF6b25fZGVzY3VlbnRvIiwiZGV1ZGEiLCJhYm9ub19hIiwidGlwbyIsImdlbmVyYWRvIiwiYXBwUGFnb0V4dHJhIiwicmVjaWJvIiwidmlzaWJsZSIsInBhZ2FkbyIsImV4dHJhIiwiY29udHJvbHMiLCJpZF9leHRyYSIsImNoZWNrYm94IiwidWx0aW1vX3BhZ28iLCJtb250b19wYWdhZG8iLCJtb250b190b3RhbCIsImZpcnN0Q29udHJvbHMiLCJoaWRlIiwidXJsX3JlY2libyIsImhpZGVfcmVjaWJvIiwiaXNQYWdhZG8iLCJleHRyYVRhYmxlIiwicGFyZW50cyIsInJlZnJlc2giLCJnZW5lcmF0ZVBheW1lbnQiLCJzZWxlY3RFeHRyYVBheW1lbnQiLCJwYWdvcyIsImNoYW5nZSIsIk1FU1NBR0VfSU5GTyIsImdldFBheW1lbnQiLCJhcHBseVBheW1lbnQiLCJzZW5kZXIiLCJlZGl0UGF5bWVudCIsImVuZHBvaW50IiwicHJlcGFyZWREYXRhIiwicHJlcGFyZURhdGEiLCJpbmZvIiwiZXh0cmFzIiwiZ2V0UGF5bWVudHMiLCJkZWxldGVQYXltZW50IiwiYnVzIiwiJG9uIiwicm93Iiwib24iLCJleHRyYVNlY3Rpb24iLCJzZWFyY2giLCJwZW5kaWVudGUiLCJ0b3RhbF92ZW5kaWRvIiwiZ2V0RGF0YSIsImZpbHRlciIsImZpbHRlclZhbHVlIiwiY29uZmlnTWVzc2FnZSIsImRldmljZV9pZCIsImNvdW50cnlfY29kZSIsInNlbmRfYXQiLCJleHBpcmVzX2F0IiwiY29uZmlnTWVzc2FnZXNGb3JtIiwiY29uZmlnIiwiZ2V0Q29uZmlnIiwiY29uZmlybVBob25lIiwic2F2ZVNldHRpbmdzIiwiZXJyIiwic2VuZE1lc3NhZ2VBcHAiLCJoaWRlX2NsaWVudHMiLCJoaWRlX251bWJlcnMiLCJtZXNzYWdlX2RhdGEiLCJjbGllbnRlcyIsIm51bWVyb3MiLCJpbml0U2VsZWN0MiIsImxldHRlcnNfY291bnQiLCJzZW5kTWVzc2FnZSIsImlzRW1wdHkiLCJkcm9wZG93blBhcmVudCIsInNlbGVjdE1lc3NhZ2VUeXBlIiwic2VsZWN0MiIsInNlbGVjdHMiLCJjbGllbnRzIiwiYWpheCIsInVybCIsImRhdGFUeXBlIiwiZGVsYXkiLCJwYXJhbXMiLCJxIiwidGVybSIsInBhZ2UiLCJwcm9jZXNzUmVzdWx0cyIsInJlc3VsdHMiLCJpdGVtcyIsInBhZ2luYXRpb24iLCJtb3JlIiwidG90YWxfY291bnQiLCJjYWNoZSIsIm1lc3NhZ2VUeXBlIiwic2VsZWMyTGl0ZW5lcnMiLCJlbGVtZW50Iiwibm9tYnJlX2NvbXBsZXRvIiwiY2VsdWxhciIsInBheW1lbnRzUmVwb3J0Iiwib3JhbmdlIiwieWVsbG93IiwicHVycGxlIiwiZ3JleSIsInJlZDMiLCJkZWVwT3JhbmdlNCIsImRpbmVyb19yZWFsX2VuX2NhamEiLCJwYWdvX2RlX2ZhY3R1cmFzIiwicGFnb3NfZGVfZXh0cmFzIiwicGFnb3NfZW5fZWZlY3Rpdm8iLCJwYWdvc192aWFfYmFuY28iLCJ0b3RhbF9kZV9pbmdyZXNvcyIsIlJldGlyZW1lbnRSZXBvcnQiLCJ0aWNrZXRMaXN0VmlldyIsImRhdGFTZWFyY2giLCJ0aWNrZXRzIiwiaXRlbUNsaWNrTGlzdGVuZXIiLCJidXNBdmVyaWEiLCJmaWxsQXZlcmlhc0xpc3QiLCIkY29udGVudCIsImlkX2F2ZXJpYSIsInRpY2tldFZpZXciLCJnZXRUaWNrZXQiLCJlbXB0eVRpY2tldCIsImlkX2NsaWVudGUiLCJjbGllbnRlIiwiZGlyZWNjaW9uIiwiZmVjaGFfcmVwYXJhY2lvbiIsInRlY25pY28iLCJjb2RpZ28iLCJjbGFzc2VzIiwibmV3Q29tbWVudCIsImVkaXQiLCJuZXdfY29tbWVudCIsImNvbW1lbnRzIiwidGlja2V0IiwicXVpdCIsImNsb3NlQ29tbWVudE1vZGUiLCJzdGFydENvbW1lbnQiLCJhZGRDb21tZW50IiwiZ2V0Rm9ybSIsImdldENvbW1lbnRzIiwiX2RlbGV0ZUNvbW1lbnQiLCJjb21tZW50SXRlbSIsInBhcmVudE5vZGUiLCJpZENvbW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJkZWxldGVDb21tZW50IiwicmVtb3ZlIiwiaWRfcmVwb3J0ZSIsImVkaXRDb21tZW50IiwidXBkYXRlRGVzY3JpcHRpb24iLCJ1cGRhdGVUaWNrZXQiLCJ1cGRhdGVTdGF0ZSIsImZpZWxkcyIsImNsb3NlRWRpdE1vZGUiLCJnZXRGaWVsZHMiLCJkZWxldGVUaWNrZXQiLCJlbnRlckVkaXRNb2RlIiwic2VsZWN0ZWRGaWVsZHMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQUFBLFlBQUFDLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUMsRUFBQUgsR0FDQUUsRUFBQUUsZUFBQSxXQUNBRixFQUFBRyxLQUFBLFNBQUFDLEtBQUFMLEdBQ0FDLEVBQUFFLGlCQUNBRCxFQUFBLHNCQUFBSSxTQUFBLFFBQ0FMLEVBQUFHLEtBQUEsU0FBQUcsS0FBQUMsUUFBQSxvQkFDQVAsRUFBQUssU0FBQSxjQUlBLFNBQUFHLGNBQUFWLEVBQUFXLEdBQ0FSLEVBQUFILEdBQUFJLGVBQUEsWUFDQVEsT0FBQUQsSUNiQSxTQUFBRSxjQUFBQyxHQUNBLE9BQUFDLGtCQUFBRCxFQU1BLFNBQUFDLGlCQUNBLElBQUFDLEVBQUFiLEVBQUEsU0FBQWMsT0FBQUMsTUFBQSxLQUVBLE9BREFGLEVBQUFBLEVBQUEsR0FBQUcsY0FBQUMsT0FRQSxTQUFBQyxzQkFrUEEsU0FBQUMs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QW9DLEtBQUE0UixNQUFBLEdBR0EyQixjQUFBLFdBQ0EzVixLQUFBb0MsS0FBQTRSLE1BQUEsR0FHQXlCLFVBQUEsU0FBQUYsR0FDQSxJQUFBSyxLQUNBclMsRUFBQXZELFlBQ0F1VixFQUFBalIsUUFBQSxTQUFBQyxHQUNBcVIsRUFBQXJSLEdBQUFoQixFQUFBNFEsT0FBQTVQLElBQ0F2RSIsImZpbGUiOiJjb21wb25lbnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZmlsbEJTVGFibGUodGFibGVJZCwgY29udGVudCkge1xyXG4gIHZhciAkdGFibGUgPSAkKHRhYmxlSWQpO1xyXG4gICR0YWJsZS5ib290c3RyYXBUYWJsZSgnZGVzdHJveScpO1xyXG4gICR0YWJsZS5maW5kKCd0Ym9keScpLmh0bWwoY29udGVudCk7XHJcbiAgJHRhYmxlLmJvb3RzdHJhcFRhYmxlKCk7XHJcbiAgJCgnLnB1bGwtcmlnaHQuc2VhcmNoJykuYWRkQ2xhc3MoJ2hpZGUnKVxyXG4gICR0YWJsZS5maW5kKCd0Ym9keScpLmNzcyh7ZGlzcGxheTpcInRhYmxlLXJvdy1ncm91cFwifSk7XHJcbiAgJHRhYmxlLmFkZENsYXNzKCdpbm5lcnRhYmxlJyk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBmaWx0ZXJCU1RhYmxlKHRhYmxlSWQsc3RhdGUpIHtcclxuICAkKHRhYmxlSWQpLmJvb3RzdHJhcFRhYmxlKCdmaWx0ZXJCeScse1xyXG4gICAgZXN0YWRvOiBzdGF0ZVxyXG4gIH0pO1xyXG59IiwiICBmdW5jdGlvbiBpc0N1cnJlbnRQYWdlKHBhZ2VOYW1lKXtcclxuICAgIGlmKGdldEN1cnJlbnRQYWdlKCkgPT0gcGFnZU5hbWUpe1xyXG4gICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfSAgXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRDdXJyZW50UGFnZSgpe1xyXG4gICAgdmFyIGN1cnJlbnRQYWdlID0gJChcInRpdGxlXCIpLnRleHQoKS5zcGxpdChcIiBcIik7XHJcbiAgICBjdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlWzRdLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xyXG4gICAgcmV0dXJuIGN1cnJlbnRQYWdlO1xyXG4gIH1cclxuXHJcbiAgaWYoaXNDdXJyZW50UGFnZShcImNpZXJyZVwiKSB8fCBpc0N1cnJlbnRQYWdlKFwiY2llcnJlMlwiKSl7XHJcbiAgICBjaWVycmVDYWphRnVuY3Rpb25zKCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjaWVycmVDYWphRnVuY3Rpb25zKCl7XHJcbiAgICBcclxuICAgIHZhciB0b3RhbGVzID0ge1xyXG4gICAgICAgICAgdG90YWwxOiAwLFxyXG4gICAgICAgICAgdG90YWw1OiAwLFxyXG4gICAgICAgICAgdG90YWwxMDogMCxcclxuICAgICAgICAgIHRvdGFsMjA6IDAsXHJcbiAgICAgICAgICB0b3RhbDI1OiAwLFxyXG4gICAgICAgICAgdG90YWw1MDogMCxcclxuICAgICAgICAgIHRvdGFsMTAwOiAwLFxyXG4gICAgICAgICAgdG90YWwyMDA6IDAsXHJcbiAgICAgICAgICB0b3RhbDUwMDogMCxcclxuICAgICAgICAgIHRvdGFsMTAwMDogMCxcclxuICAgICAgICAgIHRvdGFsMjAwMDogMFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB2YXIgZ2FzdG8gICA9IHtcclxuICAgICAgICAnZmVjaGEnOiAnJyxcclxuICAgICAgICAnZGVzY3JpcGNpb24nOiAnJyxcclxuICAgICAgICAnbW9udG8nOiAnJyxcclxuICAgICAgfVxyXG5cclxuICAgIHZhciBnYXN0b3MgID0gW3tmZWNoYTogbm93KCksZGVzY3JpcGNpb246XCJob2xhXCIsbW9udG86IDIwMDAsIGlkX2dhc3RvOiAxfV1cclxuICAgIHZhciBhdXRvciAgID0gJCgnI2F1dG9yLWNpZXJyZScpLnRleHQoKS50cmltKClcclxuXHJcbiAgICB2YXIgYXBwQ2llcnJlID0gbmV3IFZ1ZSh7XHJcbiAgICAgIGVsOiAnI2FwcC1jaWVycmUnLFxyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgaXNIaWRlOiBmYWxzZSxcclxuICAgICAgICBmZWNoYTogbm93KCksXHJcbiAgICAgICAgZGF0YV9jaWVycmU6e1xyXG4gICAgICAgICAgYXV0b3I6IGF1dG9yLFxyXG4gICAgICAgICAgcGFnb3NfZmFjdHVyYXM6IDAsXHJcbiAgICAgICAgICBwYWdvc19leHRyYXM6IDAsXHJcbiAgICAgICAgICBwYWdvc19lZmVjdGl2bzogMCxcclxuICAgICAgICAgIHBhZ29zX2JhbmNvOiAwLFxyXG4gICAgICAgICAgdG90YWxfaW5ncmVzb3M6IDAsXHJcbiAgICAgICAgICBlZmVjdGl2b19jYWphOiAwLFxyXG4gICAgICAgICAgdG90YWxfZGVzY3VhZHJlOiAwLFxyXG4gICAgICAgICAgdG90YWxfZ2FzdG9zOiAwLFxyXG4gICAgICAgICAgYmFuY286IDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRlbzp0b3RhbGVzLFxyXG4gICAgICAgIHN1bWE6IDAsXHJcbiAgICAgICAgZ2FzdG86IGdhc3RvLFxyXG4gICAgICAgIGdhc3RvczogZ2FzdG9zXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBtb3VudGVkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmdldEdhc3RvcygpO1xyXG4gICAgICAgIHRoaXMuc2V0SW5ncmVzb3MoKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJCgnLndpbGwtbG9hZCcpLmNzcyh7dmlzaWJpbGl0eTpcInZpc2libGVcIn0pXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBmaWx0ZXJzOiB7XHJcbiAgICAgICAgY3VycmVuY3lGb3JtYXQ6IGZ1bmN0aW9uKG51bWJlcil7XHJcbiAgICAgICAgICByZXR1cm4gQ3VycmVuY3lGb3JtYXQobnVtYmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBtZXRob2RzOntcclxuICAgICAgICBjaGFuZ2VUb3RhbDogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICB2YXIgdW5pdCA9IGUuc3JjRWxlbWVudC5hdHRyaWJ1dGVzWydkYXRhLXVuaXQnXS52YWx1ZVxyXG4gICAgICAgICAgdmFyIGNhbnRpZGFkID0gZS5zcmNFbGVtZW50LnZhbHVlXHJcbiAgICAgICAgICB2YXIgdG90YWwgPSBjYW50aWRhZCAqIHVuaXRcclxuICAgICAgICAgIHRvdGFsZXNbJ3RvdGFsJysgdW5pdF0gPSBjYW50aWRhZCAqIHVuaXQgKiAxLjAwICAgIFxyXG4gICAgICAgIH0sIFxyXG5cclxuICAgICAgICBhZGRHYXN0bzogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgdmFyIGdhc3RvID0gdGhpcy5nYXN0bztcclxuICAgICAgICAgIGdhc3RvLmZlY2hhID0gbm93KCk7XHJcbiAgICAgICAgICBmb3JtID0gJ2RhdGE9JysgSlNPTi5zdHJpbmdpZnkoZ2FzdG8pO1xyXG4gICAgICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KCBCQVNFX1VSTCArICdjYWphL2FkZF9nYXN0bycsZm9ybSlcclxuICAgICAgICAgIHNlbmQudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YVxyXG4gICAgICAgICAgICBkaXNwbGF5TWVzc2FnZShkYXRhLm1lbnNhamUpXHJcbiAgICAgICAgICAgIGFwcENpZXJyZS5maWxsR2FzdG9zKGRhdGEuZ2FzdG9zLFwibm9ybWFsXCIpXHJcbiAgICAgICAgICAgIGFwcENpZXJyZS5zZXRHYXN0b1RvdGFsKGRhdGEudG90YWxfZ2FzdG9zKVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBzZW5kLmNhdGNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGZpbGxHYXN0b3M6IGZ1bmN0aW9uKGdhc3Rvc19zZXJ2aWRvcixtb2RlKXtcclxuICAgICAgICAgIGlmKG1vZGUgPT0gXCJncm91cFwiKXtcclxuICAgICAgICAgICAgaWYoZ2FzdG9zX3NlcnZpZG9yICE9IG51bGwgfHwgZ2FzdG9zX3NlcnZpZG9yLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgIGFwcENpZXJyZS5nYXN0b3MgPSBnYXN0b3Nfc2Vydmlkb3I7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgIGFwcENpZXJyZS5nYXN0b3MgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGFwcENpZXJyZS5nYXN0b3MucHVzaChKU09OLnBhcnNlKGdhc3Rvc19zZXJ2aWRvcilbMF0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldEdhc3RvVG90YWw6IGZ1bmN0aW9uKHRvdGFsR2FzdG9zKXtcclxuICAgICAgICAgIHRoaXMuZGF0YV9jaWVycmUudG90YWxfZ2FzdG9zID0gdG90YWxHYXN0b3NcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRHYXN0bzogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICB2YXIgZ2FzdG8gPSB0aGlzLmdhc3RvO1xyXG4gICAgICAgICAgZm9ybSA9ICdkYXRhPScrIEpTT04uc3RyaW5naWZ5KGdhc3RvKTtcclxuICAgICAgICAgIGNvbm5lY3RBbmRTZW5kKCdjYWphL2dldF9nYXN0bycsZmFsc2UsbnVsbCxhcHBDaWVycmUuZmlsbEdhc3Rvcyxmb3JtLG51bGwsIG51bGwpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGRlbGV0ZUdhc3RvOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgIHZhciBjYWxsZXIgPSBlLnRhcmdldDtcclxuICAgICAgICAgIGlmKGNhbGxlci5sb2NhbG5hbWUgPT0gXCJpXCIpe1xyXG4gICAgICAgICAgICBjYWxsZXIgPSBjYWxsZXIucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHZhciBpZCA9IGNhbGxlci5hdHRyaWJ1dGVzWydkYXRhLWlkJ10udmFsdWVcclxuICAgICAgICAgIHN3YWwoe1xyXG4gICAgICAgICAgICB0aXRsZTogJ0VzdMOhIFNlZ3Vybz8nLFxyXG4gICAgICAgICAgICB0ZXh0OiBcIlNlZ3VybyBkZSBxdWUgcXVpZXJlIGVsaW1pbmFyIGVzdGUgZ2FzdG8/XCIsXHJcbiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcclxuICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdFc3RveSBTZWd1cm8hJyxcclxuICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbGFyJ1xyXG4gICAgICAgICAgfSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBmb3JtID0gJ2RhdGE9JysgSlNPTi5zdHJpbmdpZnkoe2lkOiBpZCwgZmVjaGE6bm93KCl9KVxyXG4gICAgICAgICAgICB2YXIgc2VuZCA9IGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAnY2FqYS9kZWxldGVfZ2FzdG8nLGZvcm0pXHJcbiAgICAgICAgICAgIHNlbmQudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhXHJcbiAgICAgICAgICAgICAgZGlzcGxheU1lc3NhZ2UoZGF0YS5tZW5zYWplKVxyXG4gICAgICAgICAgICAgIGFwcENpZXJyZS5maWxsR2FzdG9zKGRhdGEuZ2FzdG9zLFwiZ3JvdXBcIilcclxuICAgICAgICAgICAgICBhcHBDaWVycmUuc2V0R2FzdG9Ub3RhbChkYXRhLnRvdGFsX2dhc3RvcykgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZW5kLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7ICAgICAgXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0R2FzdG9zOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgdmFyIGRhdGEgPSB7ZmVjaGE6IG5vdygpfVxyXG4gICAgICAgICAgZm9ybSA9ICdkYXRhPScrIEpTT04uc3RyaW5naWZ5KGRhdGEpXHJcbiAgICAgICAgICB2YXIgc2VuZCA9IGF4aW9zLnBvc3QoIEJBU0VfVVJMICsgJ2NhamEvZ2V0X2dhc3RvcycsZm9ybSlcclxuICAgICAgICAgIHNlbmQudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YVxyXG4gICAgICAgICAgICBkaXNwbGF5TWVzc2FnZShkYXRhLm1lbnNhamUpXHJcbiAgICAgICAgICAgIGFwcENpZXJyZS5maWxsR2FzdG9zKGRhdGEuZ2FzdG9zLFwiZ3JvdXBcIilcclxuICAgICAgICAgICAgYXBwQ2llcnJlLnNldEdhc3RvVG90YWwoZGF0YS50b3RhbF9nYXN0b3MpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHNlbmQuY2F0Y2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRJbmdyZXNvczogZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHZhciBmb3JtID0gJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KHtmZWNoYTogbm93KCl9KVxyXG4gICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLmRhdGFfY2llcnJlO1xyXG4gICAgICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KCBCQVNFX1VSTCArICdjYWphL2dldF9pbmdyZXNvcycsZm9ybSlcclxuICAgICAgICAgIHNlbmQudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YVxyXG4gICAgICAgICAgICBzZWxmLnBhZ29zX2ZhY3R1cmFzID0gZGF0YS5wYWdvc19mYWN0dXJhcztcclxuICAgICAgICAgICAgc2VsZi5wYWdvc19leHRyYXMgPSBkYXRhLnBhZ29zX2V4dHJhcztcclxuICAgICAgICAgICAgc2VsZi5wYWdvc19lZmVjdGl2byA9IGRhdGEucGFnb3NfZWZlY3Rpdm87XHJcbiAgICAgICAgICAgIHNlbGYucGFnb3NfYmFuY28gPSBkYXRhLnBhZ29zX2JhbmNvO1xyXG4gICAgICAgICAgICBzZWxmLnRvdGFsX2luZ3Jlc29zID0gcGFyc2VGbG9hdChkYXRhLnBhZ29zX2ZhY3R1cmFzKSArIHBhcnNlRmxvYXQoc2VsZi5wYWdvc19leHRyYXMpO1xyXG4gICAgICAgICAgICBzZWxmLnRvdGFsX2Rlc2N1YWRyZSA9IC0gc2VsZi5wYWdvc19lZmVjdGl2byArIHNlbGYuZWZlY3Rpdm9fY2FqYTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgc2VuZC5jYXRjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNlcnJhckNhamE6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICB2YXIgc2VsZiAgID0gdGhpcztcclxuICAgICAgICAgIHZhciBjaWVycmUgPSB0aGlzLmRhdGFfY2llcnJlO1xyXG4gICAgICAgICAgd2luZG93LmNpZXJyZSA9IGNpZXJyZTtcclxuICAgICAgICAgIGlmKGNpZXJyZS50b3RhbF9kZXNjdWFkcmUgIT0gMCl7XHJcbiAgICAgICAgICAgIHN3YWwoe1xyXG4gICAgICAgICAgICAgIHRpdGxlOiAnRXN0w6EgU2VndXJvPycsXHJcbiAgICAgICAgICAgICAgdGV4dDogXCJIYXkgdW4gZGVzY3VhZHJlIGVuIGxhIGNhamEsIHF1aWVyZSBoYWNlciBlbCBjaWVycmUgZGUgdG9kb3MgbW9kb3M/XCIsXHJcbiAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxyXG4gICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXHJcbiAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdTaScsXHJcbiAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ05vJ1xyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgc2VsZi5jZXJyYXIoY2llcnJlKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHNlbGYuY2VycmFyKGNpZXJyZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY2VycmFyOiBmdW5jdGlvbihjaWVycmUpe1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjaWVycmUuZmVjaGEgPSBub3coKTtcclxuICAgICAgICAgIGZvcm0gPSAnZGF0YT0nKyBKU09OLnN0cmluZ2lmeShjaWVycmUpO1xyXG4gICAgICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KCBCQVNFX1VSTCArICdjYWphL2FkZF9jaWVycmUnLGZvcm0pXHJcbiAgICAgICAgICBzZW5kLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGFcclxuICAgICAgICAgICAgZGlzcGxheU1lc3NhZ2UoZGF0YS5tZW5zYWplKVxyXG4gICAgICAgICAgICBzZWxmLmlzSGlkZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcFN1bW1hcnlWaWV3LmlzSGlkZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHBTdW1tYXJ5Vmlldy5jaWVycmUgPSBjaWVycmU7XHJcbiAgICAgICAgICAgICQoXCIjYXBwLWNpZXJyZVwiKS5hZGRDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICAgICAkKFwiLnRvcC1uYXZcIikuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgICAgJChcIiNwcmludC12aWV3XCIpLmNzcyh7dmlzaWJpbGl0eTogXCJ2aXNpYmxlXCJ9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgc2VuZC5jYXRjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjb21wdXRlZDp7XHJcbiAgICAgICAgZ2V0VG90YWw6IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgdmFyIHQgPSB0b3RhbGVzO1xyXG4gICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLmRhdGFfY2llcnJlO1xyXG4gICAgICAgICAgdmFyIHN1bWEgPSBzdW1hcihbdC50b3RhbDEsdC50b3RhbDUsdC50b3RhbDEwLCB0LnRvdGFsMjAsIHQudG90YWwyNSwgdC50b3RhbDUwLCB0LnRvdGFsMTAwLCB0LnRvdGFsMjAwLCB0LnRvdGFsNTAwLCB0LnRvdGFsMTAwMCwgdC50b3RhbDIwMDBdKTtcclxuICAgICAgICAgIHRoaXMuc3VtYSA9IHN1bWE7XHJcbiAgICAgICAgICBzZWxmLmVmZWN0aXZvX2NhamEgPSBzdW1hLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICBzZWxmLnRvdGFsX2Rlc2N1YWRyZSA9IHBhcnNlRmxvYXQoLXNlbGYucGFnb3NfZWZlY3Rpdm8pICsgcGFyc2VGbG9hdChzZWxmLmVmZWN0aXZvX2NhamEpO1xyXG4gICAgICAgICAgc2VsZi5iYW5jbyA9IHBhcnNlRmxvYXQoc2VsZi5wYWdvc19iYW5jbykgKyBwYXJzZUZsb2F0KHNlbGYucGFnb3NfZWZlY3Rpdm8pIC0gcGFyc2VGbG9hdChzZWxmLnRvdGFsX2dhc3RvcykgKyBwYXJzZUZsb2F0KHNlbGYudG90YWxfZGVzY3VhZHJlKVxyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3VtYTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBkZWNpbWFsczogZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHZhciBmaWVsZHMgPSBbXCJwYWdvc19mYWN0dXJhc1wiLFwicGFnb3NfZXh0cmFcIixcInBhZ29zX2VmZWN0aXZvXCIsXCJwYWdvc19iYW5jb1wiLFwidG90YWxfaW5ncmVzb3NcIixcImVmZWN0aXZvX2NhamFcIixcInRvdGFsX2Rlc2N1YWRyZVwiLFwidG90YWxfZ2FzdG9cIixcImJhbmNvXCJdO1xyXG4gICAgICAgICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhX2NpZXJyZVtmaWVsZF0gPSB0aGlzLmRhdGFfY2llcnJlW2ZpZWxkXS50b0ZpeGVkKDIpXHJcbiAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgd2luZG93LmFwcENpZXJyZSA9IGFwcENpZXJyZTtcclxuICAgIGZ1bmN0aW9uIHN1bWFyICh2YWxvcmVzKXtcclxuICAgICAgdmFyIHN1bWEgPSAwO1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbG9yZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBzdW1hICs9IHBhcnNlRmxvYXQodmFsb3Jlc1tpXSk7IFxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBzdW1hO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5vdygpe1xyXG4gICAgICByZXR1cm4gbW9tZW50KCkuZm9ybWF0KFwiWVlZWS1NTS1ERFwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIFZ1ZS5jb21wb25lbnQoJ3N1bW1hcnktcHJpbnQtdmlldycse1xyXG4gICAgdGVtcGxhdGU6ICdcXFxyXG4gICAgPGRpdiBjbGFzcz1cInByaW50LWNvbnRhaW5lclwiPlxcXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJfX2hlYWRlclwiPlxcXHJcbiAgICAgIDxoMiBjbGFzcz1cIl9fdGl0bGUgdC1jZW50ZXJcIj4ge3t0aXRsZX19PC9oMj5cXFxyXG4gICAgICA8L2Rpdj5cXFxyXG4gICAgICA8ZGl2IGNsYXNzPVwiX19ib2R5XCI+XFxcclxuICAgICAgPHByaW50ZWFibGU+PC9wcmludGVhYmxlPlxcXHJcbiAgICAgIDwvZGl2PlxcXHJcbiAgICA8ZGl2PlxcXHJcbiAgICBcXFxyXG4gICAgJyxcclxuICAgIHByb3BzOlsnc29tZXZhbHVlJ10sXHJcbiAgICBtZXRob2RzOntcclxuICAgICAgZ29CYWNrOiBmdW5jdGlvbigpe1xyXG4gICAgICAgIGFwcFN1bW1hcnlWaWV3LmlzSGlkZSA9IHRydWU7XHJcbiAgICAgICAgd2luZG93LmFwcENpZXJyZS5pc0hpZGUgPSBmYWxzZTtcclxuICAgICAgICBzZWxmLmlzSGlkZSA9IHRydWU7XHJcbiAgICAgICAgJChcIi50b3AtbmF2XCIpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgJChcIiNhcHAtY2llcnJlXCIpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkYXRhOiBmdW5jdGlvbigpe1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGJhY2s6IHtsaW5rOlwic29tZWxpbmtcIix0ZXh0Olwidm9sdmVyIGEgY2llcnJlXCJ9LFxyXG4gICAgICAgIGZvd2FyZDoge2xpbms6IEJBU0VfVVJMICsgXCJhcHAvbG9nb3V0XCIsdGV4dDpcImNlcnJhciBzZXNzaW9uXCJ9LFxyXG4gICAgICAgIHRpdGxlOlwiUmVzdW1lbiBkZSBjaWVycmUgZGUgaG95XCIsXHJcblxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgdmFyIGFwcFN1bW1hcnlWaWV3ID0gbmV3IFZ1ZSh7XHJcbiAgICBlbDogXCIjcHJpbnQtdmlld1wiLFxyXG4gICAgZGF0YToge1xyXG4gICAgICBpc0hpZGU6IHRydWUsXHJcbiAgICAgIGJhY2s6IHtsaW5rOlwic29tZWxpbmtcIix0ZXh0Olwidm9sdmVyIGEgY2llcnJlXCJ9LFxyXG4gICAgICBmb3dhcmQ6IHtsaW5rOiBCQVNFX1VSTCArIFwiYXBwL2xvZ291dFwiLHRleHQ6XCJjZXJyYXIgc2Vzc2lvblwifSxcclxuICAgICAgY2llcnJlOntcclxuICAgICAgICAgIGF1dG9yOiAnJyxcclxuICAgICAgICAgIHBhZ29zX2ZhY3R1cmFzOiAwLFxyXG4gICAgICAgICAgcGFnb3NfZXh0cmFzOiAwLFxyXG4gICAgICAgICAgcGFnb3NfZWZlY3Rpdm86IDAsXHJcbiAgICAgICAgICBwYWdvc19iYW5jbzogMCxcclxuICAgICAgICAgIHRvdGFsX2luZ3Jlc29zOiAwLFxyXG4gICAgICAgICAgZWZlY3Rpdm9fY2FqYTogMCxcclxuICAgICAgICAgIHRvdGFsX2Rlc2N1YWRyZTogMCxcclxuICAgICAgICAgIHRvdGFsX2dhc3RvczogMCxcclxuICAgICAgICAgIGJhbmNvOiAwXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGZpbHRlcnM6IHtcclxuICAgICAgY3VycmVuY3lGb3JtYXQ6IGZ1bmN0aW9uKG51bWJlcil7XHJcbiAgICAgICAgcmV0dXJuIFwiUkQkIFwiKyBDdXJyZW5jeUZvcm1hdChudW1iZXIpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc3BhbmlzaERhdGVGb3JtYXQ6IGZ1bmN0aW9uKGRhdGUpe1xyXG4gICAgICAgIG1vbWVudC5sb2NhbGUoJ2VzLURPJyk7XHJcbiAgICAgICAgcmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQoJ2RkZGQgREQgW2RlXSBNTU1NIFtkZWxdIFlZWVknKVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczp7XHJcbiAgICAgIGdvQmFjazogZnVuY3Rpb24oKXtcclxuICAgICAgICBhcHBTdW1tYXJ5Vmlldy5pc0hpZGUgPSB0cnVlO1xyXG4gICAgICAgIHdpbmRvdy5hcHBDaWVycmUuaXNIaWRlID0gZmFsc2U7XHJcbiAgICAgICAgc2VsZi5pc0hpZGUgPSB0cnVlO1xyXG4gICAgICAgICQoXCIudG9wLW5hdlwiKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICQoXCIjYXBwLWNpZXJyZVwiKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4gICAgICB9LFxyXG4gICAgICBwcmludDogZnVuY3Rpb24oKXtcclxuICAgICAgICBwcmludCgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KSIsIlxyXG5pZiAoY3VycmVudFBhZ2UgPT0gJ3JlcG9ydGVzJyl7XHJcbiAgZmV0Y2hSZXBvcnREYXRhKCk7XHJcbn1cclxuZnVuY3Rpb24gZmV0Y2hSZXBvcnREYXRhKCkge1xyXG4gIHZhciBzZW5kID0gYXhpb3MuZ2V0KEJBU0VfVVJMICsgJ2NhamEvZ2V0X2xhc3RfY2llcnJlJylcclxuICBzZW5kLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICBjYWphV2Vla0NoYXJ0KHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgYXBwVmlzdGFEZXRhbGxlLmNpZXJyZSA9IHJlc3BvbnNlLmRhdGEuY2llcnJlO1xyXG4gIH0pXHJcbiAgc2VuZC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICBcclxuICB9KVxyXG4gIFxyXG4gIHZhciBmb3JtID0gXCJkYXRhPVwiKyBKU09OLnN0cmluZ2lmeSh7eWVhcjptb21lbnQoKS5mb3JtYXQoXCJZWVlZXCIpfSlcclxuICB2YXIgc2VuZDIgPSBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ2NhamEvZ2V0X3llYXJfaW5mbycsZm9ybSlcclxuICBzZW5kMi50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcbiAgICB2YXIgZ2FzdG9zICAgID0gcmVzLmRhdGEuZ2FzdG9zO1xyXG4gICAgdmFyIGdhbmFuY2lhcyA9IHJlcy5kYXRhLmdhbmFuY2lhcztcclxuICAgIHllYXJDaGFydChnYXN0b3MsZ2FuYW5jaWFzKTtcclxuICB9KVxyXG59XHJcblxyXG5cclxud2luZG93LmNoYXJ0Q29sb3JzID0ge1xyXG4gIHJlZDogJ3JnYigyNTUsIDk5LCAxMzIpJyxcclxuICBvcmFuZ2U6ICdyZ2IoMjU1LCAxNTksIDY0KScsXHJcbiAgeWVsbG93OiAncmdiKDI1NSwgMjA1LCA4NiknLFxyXG4gIGdyZWVuOiAncmdiKDc1LCAxOTIsIDE5MiknLFxyXG4gIGJsdWU6ICdyZ2IoNTQsIDE2MiwgMjM1KScsXHJcbiAgcHVycGxlOiAncmdiKDE1MywgMTAyLCAyNTUpJyxcclxuICBncmV5OiAncmdiKDIwMSwgMjAzLCAyMDcpJ1xyXG59O1xyXG52YXIgbWVzZXMgPSBbXCJFbmVyb1wiLCBcIkZlYnJlcm9cIiwgXCJNYXJ6b1wiLCBcIkFicmlsXCIsIFwiTWF5b1wiLCBcIkp1bmlvXCIsIFwiSnVsaW9cIiwgXCJBZ29zdG9cIiwgXCJTZXB0aWVtYnJlXCIsIFwiT2N0dWJyZVwiLCBcIk5vdmllbWJyZVwiLCBcIkRpY2llbWJyZVwiXTtcclxuXHJcbnZhciBjb2xvcnMgPSB7XHJcbiAgZ3JlZW46ICdyZ2JhKDAsMjMwLDExOCAsMSknLFxyXG4gIGJsdWVHcmVlbjogJ3JnYmEoMjksMjMzLDE4MiAsMSknLFxyXG4gIGJsdWU3OiAncmdiYSgyNSwxMTgsMjEwICwxKScsXHJcbiAgbGlnaHRCbHVlNjogJ3JnYmEoMywxNTUsMjI5ICwxKScsXHJcbiAgcmVkMzogJ3JnYmEoMjI5LDExNSwxMTUgLDEpJyxcclxuICBkZWVwT3JhbmdlNDogJ3JnYmEoMjU1LDExMiw2NyAsMSknXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhamFXZWVrQ2hhcnQoZGF0YSkge1xyXG4gIHZhciBjYW52YXMgPSAkKFwiI2dhbmFuY2lhcy1jaGFydFwiKTtcclxuICB2YXIgY2hhcnRPcHRpb25zID0ge1xyXG4gICAgdHlwZTogJ2JhcicsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIGxhYmVsczogZGF0YS5sYWJlbHMsXHJcbiAgICAgIGRhdGFzZXRzOiBbe1xyXG4gICAgICAgIGxhYmVsOiBcIlZhbG9yZXNcIixcclxuICAgICAgICBkYXRhOiBkYXRhLnZhbHVlcyxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFtjb2xvcnMubGlnaHRCbHVlNiwgY29sb3JzLmxpZ2h0Qmx1ZTYsIGNvbG9ycy5ibHVlNywgd2luZG93LmNoYXJ0Q29sb3JzLmJsdWUsd2luZG93LmNoYXJ0Q29sb3JzLmdyZWVuLCBjb2xvcnMuYmx1ZUdyZWVuLCB3aW5kb3cuY2hhcnRDb2xvcnMucmVkLHdpbmRvdy5jaGFydENvbG9ycy5yZWQsICB3aW5kb3cuY2hhcnRDb2xvcnMuYmx1ZV0sXHJcbiAgICAgIH1dXHJcbiAgICB9LFxyXG4gICAgb3B0aW9uczoge1xyXG4gICAgICByZXNwb25zaXZlOiB0cnVlLFxyXG4gICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiBmYWxzZSxcclxuICAgICAgc2NhbGVzOiB7XHJcbiAgICAgICAgeUF4ZXM6IFt7XHJcbiAgICAgICAgICB0aWNrczoge1xyXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGxhYmVsLCBpbmRleCwgbGFiZWxzKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGxhYmVsID09ICcnIHx8IGxhYmVsID09IG51bGwpIGxhYmVsID0gMDtcclxuICAgICAgICAgICAgICByZXR1cm4gXCJSRCQgXCIgKyBDdXJyZW5jeUZvcm1hdChsYWJlbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XSxcclxuICAgICAgICB4QXhlczogW3tcclxuICAgICAgICAgIHRpY2tzOiB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAobGFiZWwsIGluZGV4LCBsYWJlbHMpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gbGFiZWwucmVwbGFjZSgvXy9nLCBcIiBcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XVxyXG4gICAgICB9LFxyXG4gICAgICB0b29sdGlwczoge1xyXG4gICAgICAgIGNhbGxiYWNrczoge1xyXG4gICAgICAgICAgbGFiZWw6IGZ1bmN0aW9uICh0b29sdGlwSXRlbSwgZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJSRCQgXCIgKyBDdXJyZW5jeUZvcm1hdCh0b29sdGlwSXRlbS55TGFiZWwpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgdGl0bGU6IHtcclxuICAgICAgICBkaXNwbGF5OiB0cnVlLFxyXG4gICAgICAgIHRleHQ6IFwiRGF0b3MgZGVsIHVsdGltbyBjaWVycmUuIGhlY2hvIHBvciBcIiArIGRhdGEuYXV0b3IgKyBcIiBlbCBkaWEgXCIgKyBkYXRhLmZlY2hhXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG4gIHZhciBteWNoYXJ0ID0gbmV3IENoYXJ0KGNhbnZhcywgY2hhcnRPcHRpb25zKTtcclxufVxyXG5cclxuZnVuY3Rpb24geWVhckNoYXJ0KGdhc3RvcyxnYW5hbmNpYXMpIHtcclxuICB2YXIgJGNhbnZhcyA9ICQoXCIjZ2FuYW5jaWFzLW1lcy1jaGFydFwiKTtcclxuICB2YXIgZGF0YSA9IHtcclxuICAgICAgbGFiZWxzOiBtZXNlcyxcclxuICAgICAgZGF0YXNldHM6IFt7XHJcbiAgICAgICAgbGFiZWw6IFwiR2FzdG9zXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB3aW5kb3cuY2hhcnRDb2xvcnMucmVkLFxyXG4gICAgICAgIGJvcmRlckNvbG9yOiB3aW5kb3cuY2hhcnRDb2xvcnMucmVkLFxyXG4gICAgICAgIGRhdGE6IGdhc3RvcyxcclxuICAgICAgICBmaWxsOiBmYWxzZSxcclxuICAgICAgfSwge1xyXG4gICAgICAgIGxhYmVsOiBcIkJhbmNvKEdhbmFuY2lhcylcIixcclxuICAgICAgICBmaWxsOiBmYWxzZSxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHdpbmRvdy5jaGFydENvbG9ycy5ibHVlLFxyXG4gICAgICAgIGJvcmRlckNvbG9yOiB3aW5kb3cuY2hhcnRDb2xvcnMuYmx1ZSxcclxuICAgICAgICBkYXRhOiBnYW5hbmNpYXMsXHJcbiAgICAgIH1dXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBvcHRpb25zID0ge1xyXG4gICAgICByZXNwb25zaXZlOiB0cnVlLFxyXG4gICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiBmYWxzZSxcclxuICAgICAgc2NhbGVzOiB7XHJcbiAgICAgICAgeUF4ZXM6IFt7XHJcbiAgICAgICAgICB0aWNrczoge1xyXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGxhYmVsLCBpbmRleCwgbGFiZWxzKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIFwiUkQkIFwiICsgQ3VycmVuY3lGb3JtYXQobGFiZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfV1cclxuICAgICAgfSxcclxuICAgICAgdG9vbHRpcHM6IHtcclxuICAgICAgICBjYWxsYmFja3M6IHtcclxuICAgICAgICAgIGxhYmVsOiBmdW5jdGlvbiAodG9vbHRpcEl0ZW0sIGRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiUkQkIFwiICsgQ3VycmVuY3lGb3JtYXQodG9vbHRpcEl0ZW0ueUxhYmVsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgZGlzcGxheTogdHJ1ZSxcclxuICAgICAgICB0ZXh0OiBcIlJlZ2lzdHJvcyBkZSBjaWVycmUgRXN0ZSB1bHRpbW8gYcOxb1wiXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgdmFyIGNoYXJ0ID0gbmV3IENoYXJ0KCRjYW52YXMsIHtcclxuICAgIHR5cGU6ICdsaW5lJyxcclxuICAgIGRhdGE6IGRhdGEsXHJcbiAgICBvcHRpb25zOiBvcHRpb25zXHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG52YXIgY2llcnJlID0geyBcclxuICBhdXRvcjogXCJcIixcclxuICBiYW5jbzogMCxcclxuICBkaW5lcm9fcmVhbF9lbl9jYWphOiAwLFxyXG4gIGZlY2hhIDogJycsXHJcbiAgcGFnb19kZV9mYWN0dXJhczogMCxcclxuICBwYWdvc19kZV9leHRyYXM6IDAsXHJcbiAgcGFnb3NfZW5fZWZlY3Rpdm86MCxcclxuICBwYWdvc192aWFfYmFuY286MCxcclxuICB0b3RhbF9kZV9pbmdyZXNvczogMCxcclxuICB0b3RhbF9kZXNjdWFkcmU6MCB9XHJcblxyXG52YXIgYXBwVmlzdGFEZXRhbGxlID0gbmV3IFZ1ZSh7XHJcbiAgZWw6ICcjYXBwLXZpc3RhLWRldGFsbGUnLFxyXG4gIGRhdGE6IHtcclxuICAgIGNpZXJyZTogY2llcnJlLFxyXG4gIH0sXHJcblxyXG4gIGZpbHRlcnM6IHtcclxuICAgIGN1cnJlbmN5Rm9ybWF0OiBmdW5jdGlvbihudW1iZXIpe1xyXG4gICAgICByZXR1cm4gXCJSRCQgXCIrIEN1cnJlbmN5Rm9ybWF0KG51bWJlcik7XHJcbiAgICB9XHJcbiAgfSxcclxuICBtZXRob2RzOntcclxuICAgIHByaW50OiBmdW5jdGlvbigpe1xyXG4gICAgICBwcmludCgpXHJcbiAgICB9XHJcbiAgfVxyXG59KSIsIiAgdmFyIGFjb3VudFZpZXcgPSBuZXcgVnVlKHtcclxuICAgIGVsOiAnI2Fjb3VudC1zZWN0aW9uJyxcclxuICAgIGRhdGE6IHtcclxuICAgICAgdXNlcjoge1xyXG4gICAgICAgIHVzZXJfaWQ6ICcnLFxyXG4gICAgICAgIG5pY2tuYW1lOiAnJyxcclxuICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICBsYXN0bmFtZTogJycsXHJcbiAgICAgICAgZG5pOiAnJyxcclxuICAgICAgICB0eXBlOiAnJyxcclxuICAgICAgICBlbWFpbDogJydcclxuICAgICAgfSxcclxuICAgICAgaXNDaGFuZ2VQYXNzd29yZDogZmFsc2UsXHJcbiAgICAgIGN1cnJlbnRQYXNzd29yZDogJycsXHJcbiAgICAgIG5ld1Bhc3N3b3JkOiAnJyxcclxuICAgICAgcGFzc3dvcmRDb25maXJtOiAnJyxcclxuICAgICAgc3RhdGVzOiB7XHJcbiAgICAgICAgJ2hhcy1lcnJvcic6IGZhbHNlLFxyXG4gICAgICAgICdoYXMtc3VjY2Vzcyc6IGZhbHNlLFxyXG4gICAgICAgICBidXR0b246IHRydWUsXHJcbiAgICAgIH1cclxuXHJcbiAgICB9LFxyXG5cclxuICAgIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKGN1cnJlbnRQYWdlID09ICdjdWVudGEnKSB7XHJcbiAgICAgICAgdGhpcy5nZXRVc2VyKCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICBnZXRVc2VyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciB1c2VyX2lkID0gJCgnI2Fjb3VudC11c2VyLWlkJykudmFsKCk7XHJcbiAgICAgICAgdmFyIGZvcm0gPSAnZGF0YT0nICsgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgdXNlcl9pZDogdXNlcl9pZFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ3VzZXIvZ2V0X3VzZXInLCBmb3JtKVxyXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICB2YXIgdXNlciA9IHJlcy5kYXRhLnVzZXI7XHJcbiAgICAgICAgICAgIHVzZXJbJ2Z1bGxuYW1lJ10gPSB1c2VyLm5hbWUgKyAnICcgKyB1c2VyLmxhc3RuYW1lO1xyXG4gICAgICAgICAgICBzZWxmLnVzZXIgPSB1c2VyO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHVwZGF0ZUluZm86IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0NoYW5nZVBhc3N3b3JkKSB7XHJcbiAgICAgICAgICB0aGlzLmNoYW5nZVBhc3N3b3JkKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5jaGFuZ2VFbWFpbCgpXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgY2hhbmdlUGFzc3dvcmQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZXNbJ2hhcy1zdWNjZXNzJ10pIHtcclxuICAgICAgICAgIHZhciBmb3JtID0gJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgdXNlcl9pZDogdGhpcy51c2VyLnVzZXJfaWQsXHJcbiAgICAgICAgICAgIGN1cnJlbnRfcGFzc3dvcmQ6IHRoaXMuY3VycmVudFBhc3N3b3JkLFxyXG4gICAgICAgICAgICBuZXdfcGFzc3dvcmQ6IHRoaXMubmV3UGFzc3dvcmRcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAndXNlci91cGRhdGVfcGFzc3dvcmQnLCBmb3JtKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgZGlzcGxheU1lc3NhZ2UocmVzLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gQkFTRV9VUkwgKyAnYXBwL2xvZ3V0JztcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZGlzcGxheU1lc3NhZ2UoXCJMYXMgY29udHJhc2XDsWFzIG5vIGNvbmNpZGVuXCIpXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgY2hhbmdlRW1haWw6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXNcclxuICAgICAgICB2YXIgdXNlciA9IHRoaXMudXNlclxyXG5cclxuICAgICAgICBzd2FsKHtcclxuICAgICAgICAgICAgJ3RpdGxlJzogJ0NvbnRyYXNlw7FhJyxcclxuICAgICAgICAgICAgJ2lucHV0JzogJ3Bhc3N3b3JkJyxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgICB2YXIgZm9ybSA9ICdkYXRhPScgKyBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICAndXNlcl9pZCc6IHVzZXIudXNlcl9pZCxcclxuICAgICAgICAgICAgICAgICdwYXNzd29yZCc6IHBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgJ2ZpZWxkJzogJ2VtYWlsJyxcclxuICAgICAgICAgICAgICAgICd2YWx1ZSc6IHVzZXIuZW1haWxcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgYXhpb3MucG9zdChCQVNFX1VSTCArICd1c2VyL3VwZGF0ZV9maWVsZCcsIGZvcm0pXHJcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlKHJlcy5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgY29uZmlybVBhc3N3b3JkU2VydmVyOiBmdW5jdGlvbiAocGFzc3dvcmQpIHtcclxuICAgICAgICB2YXIgZm9ybSA9ICdkYXRhPScgKyBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICB1c2VyX2lkOiB0aGlzLnVzZXIudXNlcl9pZCxcclxuICAgICAgICAgIGN1cnJlbnRfcGFzc3dvcmQ6IHBhc3N3b3JkXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ3VzZXIvY29uZmlybV9wYXNzd29yZCcsIGZvcm0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhLmlzX2NvcnJlY3QpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjb25maXJtUGFzc3dvcmQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5jb25maXJtUGFzc3dvcmRTZXJ2ZXIodGhpcy5jdXJyZW50UGFzc3dvcmQpXHJcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAoaXNfY29ycmVjdCkge1xyXG4gICAgICAgICAgICBzZWxmLmlzQ2hhbmdlUGFzc3dvcmQgPSBpc19jb3JyZWN0XHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgY2hlY2tQYXNzd29yZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgodGhpcy5uZXdQYXNzd29yZCA9PSB0aGlzLnBhc3N3b3JkQ29uZmlybSkgJiYgdGhpcy5jaGFuZ2VQYXNzd29yZCkge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZXModHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0ZXMuYnV0dG9uID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhbmdlUGFzc3dvcmQpIHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGVzKGZhbHNlLCB0cnVlKTtcclxuICAgICAgICAgIHRoaXMuc3RhdGVzLmJ1dHRvbiA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlcyhmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNldFN0YXRlczogZnVuY3Rpb24gKHN1Y2Nlc3MsIGVycm9yKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZXNbJ2hhcy1zdWNjZXNzJ10gPSBzdWNjZXNzO1xyXG4gICAgICAgIHRoaXMuc3RhdGVzWydoYXMtZXJyb3InXSA9IGVycm9yO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuXHJcbiAgfSkiLCJ2YXIgY2xvc2VSZXBvcnQgPSBuZXcgVnVlKHtcclxuICBlbDogJyNjaWVycmVzJyxcclxuICBkYXRhOiB7XHJcbiAgIHRhYmxlOiAnJyxcclxuICAgdGFibGVIVE1MOiAnJyxcclxuICAgaGFzVG90YWxzOiBmYWxzZSxcclxuICAgdG90YWxzOiBmYWxzZSxcclxuICAgYmV0d2Vlbjoge1xyXG4gICAgIGZpcnN0X2RhdGU6ICcnLFxyXG4gICAgIHNlY29uZF9kYXRlOiAnJyxcclxuICAgICB0ZXh0OiAnJ1xyXG4gICB9XHJcbiAgfSxcclxuXHJcbiAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGN1cnJlbnRQYWdlID09ICdpbmZvcm1lcycpIHtcclxuICAgICAgdGhpcy5nZXRSZXBvcnQoKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBmaWx0ZXJzOiB7XHJcbiAgICBjdXJyZW5jeUZvcm1hdDogZnVuY3Rpb24obnVtYmVyKXtcclxuICAgICAgcmV0dXJuIFwiUkQkIFwiKyBDdXJyZW5jeUZvcm1hdChudW1iZXIpO1xyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICBtZXRob2RzOiB7XHJcbiAgICBnZXRSZXBvcnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgZm9ybSA9ICdkYXRhPScgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmJldHdlZW4pXHJcbiAgICAgIGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAnY2FqYS9nZXRfY2llcnJlcy90cnVlJywgZm9ybSlcclxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgIHNlbGYuZmlsbFRhYmxlKHJlcy5kYXRhLmNvbnRlbnQpO1xyXG4gICAgICAgIHNlbGYuaGFzVG90YWxzID0gdHJ1ZTtcclxuICAgICAgICBzZWxmLnRvdGFscyAgICA9IHJlcy5kYXRhLmFjdW07XHJcbiAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIGZpbGxUYWJsZTogZnVuY3Rpb24oY29udGVudCkge1xyXG4gICAgICBmaWxsQlNUYWJsZSgnI2NpZXJyZXMtdGFibGUnLCBjb250ZW50KTtcclxuICAgIH1cclxuICB9XHJcbn0pIiwidmFyIGV4cGVuc2VzUmVwb3J0ID0gbmV3IFZ1ZSh7XHJcbiAgZWw6ICcjZ2FzdG9zJyxcclxuICBkYXRhOiB7XHJcbiAgIHRhYmxlOiAnJyxcclxuICAgdGFibGVIVE1MOiAnJyxcclxuICAgdG90YWw6ICcnLFxyXG4gICBiZXR3ZWVuOiB7XHJcbiAgICAgZmlyc3RfZGF0ZTogJycsXHJcbiAgICAgc2Vjb25kX2RhdGU6ICcnLFxyXG4gICAgIHRleHQ6ICcnXHJcbiAgIH1cclxuICB9LFxyXG5cclxuICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoY3VycmVudFBhZ2UgPT0gJ2luZm9ybWVzJykge1xyXG4gICAgICB0aGlzLmdldFJlcG9ydCgpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGZpbHRlcnM6IHtcclxuICAgIGN1cnJlbmN5Rm9ybWF0OiBmdW5jdGlvbihudW1iZXIpe1xyXG4gICAgICByZXR1cm4gXCJSRCQgXCIrIEN1cnJlbmN5Rm9ybWF0KG51bWJlcik7XHJcbiAgICB9LFxyXG4gIH0sXHJcblxyXG4gIG1ldGhvZHM6IHtcclxuICAgIGdldFJlcG9ydDogZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBmb3JtID0gJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KHRoaXMuYmV0d2VlbilcclxuICAgICAgYXhpb3MucG9zdChCQVNFX1VSTCArICdjYWphL2dldF9nYXN0b3MvdHJ1ZScsIGZvcm0pXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICBzZWxmLmZpbGxUYWJsZShyZXMuZGF0YS5jb250ZW50KVxyXG4gICAgICAgIHNlbGYudG90YWwgPSByZXMuZGF0YS5hY3VtO1xyXG4gICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICBmaWxsVGFibGU6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuICAgICAgZmlsbEJTVGFibGUoJyNnYXN0b3MtdGFibGUnLCBjb250ZW50KTtcclxuICAgIH1cclxuICB9XHJcbn0pIiwidmFyIGxpc3RFeHRyYXMgPSAnJztcclxudmFyIHJlY2lib1Jlc2V0ID0ge1xyXG4gIGlkX3BhZ286IDAsXHJcbiAgaWRfY29udHJhdG86IDAsXHJcbiAgaWRfc2VydmljaW86IDAsXHJcbiAgaWRfZW1wbGVhZG86IDAsXHJcbiAgZmVjaGFfcGFnbyA6ICcnLFxyXG4gIGNvbmNlcHRvIDogJ2V4dHJhJyxcclxuICBkZXRhbGxlc19leHRyYSA6ICcnLFxyXG4gIGN1b3RhOiAnJyxcclxuICBtb3JhIDogJycsXHJcbiAgbW9udG9fZXh0cmE6ICcnLFxyXG4gIHRvdGFsOiAnJyxcclxuICBlc3RhZG86ICcnLFxyXG4gIGZlY2hhX2xpbWl0ZTogJycsXHJcbiAgY29tcGxldGVfZGF0ZSA6ICcnLFxyXG4gIGRlc2N1ZW50bzogJycsXHJcbiAgcmF6b25fZGVzY3VlbnRvOiAnJyxcclxuICBkZXVkYTogJycsXHJcbiAgYWJvbm9fYTogJycsXHJcbiAgdGlwbzogJycsXHJcbiAgZ2VuZXJhZG86ICcnXHJcbn1cclxuXHJcbnZhciBhcHBQYWdvRXh0cmEgPSBuZXcgVnVlKHtcclxuICBlbDogXCIjYXBwLXBhZ28tZXh0cmFcIixcclxuICBkYXRhOiB7XHJcbiAgICByZWNpYm86e1xyXG4gICAgICAgaWRfcGFnbzogMCxcclxuICAgICAgIGlkX2NvbnRyYXRvOiAwLFxyXG4gICAgICAgaWRfc2VydmljaW86IDAsXHJcbiAgICAgICBpZF9lbXBsZWFkbzogMCxcclxuICAgICAgIGZlY2hhX3BhZ28gOiAnZGQvbW0veXl5eScsXHJcbiAgICAgICBjb25jZXB0byA6ICdleHRyYScsXHJcbiAgICAgICBkZXRhbGxlc19leHRyYSA6ICcnLFxyXG4gICAgICAgY3VvdGE6ICcnLFxyXG4gICAgICAgbW9yYSA6ICcnLFxyXG4gICAgICAgbW9udG9fZXh0cmE6ICcnLFxyXG4gICAgICAgdG90YWw6ICcnLFxyXG4gICAgICAgZXN0YWRvOiAnJyxcclxuICAgICAgIGZlY2hhX2xpbWl0ZTogJycsXHJcbiAgICAgICBjb21wbGV0ZV9kYXRlIDogJycsXHJcbiAgICAgICBkZXNjdWVudG86ICcnLFxyXG4gICAgICAgcmF6b25fZGVzY3VlbnRvOiAnJyxcclxuICAgICAgIGRldWRhOiAnJyxcclxuICAgICAgIGFib25vX2E6ICcnLFxyXG4gICAgICAgdGlwbzogJycsXHJcbiAgICAgICBnZW5lcmFkbzogJydcclxuICAgIH0sXHJcblxyXG4gICAgdmlzaWJsZTogZmFsc2UsXHJcbiAgICBwYWdhZG86IGZhbHNlLFxyXG4gICAgZXh0cmE6e1xyXG4gICAgICBcImNvbnRyb2xzXCI6ICcnLFxyXG4gICAgICBcImlkX2V4dHJhXCI6ICcnLFxyXG4gICAgICBcImlkX3NlcnZpY2lvXCI6ICcnLFxyXG4gICAgICBcImNoZWNrYm94XCI6ICcnLFxyXG4gICAgICBcImZlY2hhXCI6ICcnLFxyXG4gICAgICBcImNvbmNlcHRvXCI6ICcnLFxyXG4gICAgICBcInVsdGltb19wYWdvXCI6ICcnLFxyXG4gICAgICBcIm1vbnRvX3BhZ2Fkb1wiOiAnJyxcclxuICAgICAgXCJtb250b190b3RhbFwiOiAnJyxcclxuICAgICAgXCJlc3RhZG9cIjogJydcclxuICAgIH0sXHJcbiAgICBmaXJzdENvbnRyb2xzOiB7XHJcbiAgICAgIGhpZGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgZmlsdGVyczoge1xyXG5cclxuICB9LFxyXG4gIGNvbXB1dGVkOiB7XHJcbiAgICB1cmxfcmVjaWJvOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBCQVNFX1VSTCArICdwcm9jZXNzL2dldHJlY2liby8nICsgdGhpcy5yZWNpYm8uaWRfcGFnbztcclxuICAgIH0sXHJcblxyXG4gICAgaGlkZV9yZWNpYm86IGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYodGhpcy5yZWNpYm8uZXN0YWRvID09IFwicGFnYWRvXCIpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICAgICByZXR1cm4gdGhpcy5oaWRlX3JlY2libyA9IHRydWU7IFxyXG4gICAgfSxcclxuXHJcbiAgICBpc1BhZ2FkbzogZnVuY3Rpb24gKCkge1xyXG4gICAgICB0aGlzLnBhZ2FkbyA9ICh0aGlzLnJlY2liby5lc3RhZG8gPT0gJ3BhZ2FkbycpO1xyXG4gICAgICByZXR1cm4gdGhpcy5wYWdhZG87XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgbWV0aG9kczp7XHJcblxyXG4gICAgZ29CYWNrOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGV4dHJhVGFibGUuZWwucGFyZW50cyhcIi5ib290c3RyYXAtdGFibGVcIikucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpO1xyXG4gICAgICB0aGlzLnZpc2libGUgPSBmYWxzZVxyXG4gICAgICB0aGlzLmV4dHJhID0ge2NvbmNlcHRvOiAnJ31cclxuICAgICAgZXh0cmFUYWJsZS5yZWZyZXNoKGxpc3RFeHRyYXMpO1xyXG4gICAgfSxcclxuXHJcbiAgICBnZW5lcmF0ZVBheW1lbnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKHRoaXMucGFnYWRvIHx8IHRoaXMucmVjaWJvLmlkX3BhZ28gPT0gMCkge1xyXG4gICAgICAgIHZhciBmb3JtID0gJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KHRoaXMuZXh0cmEpO1xyXG4gICAgICAgIHZhciBzZW5kID0gYXhpb3MucG9zdCggQkFTRV9VUkwgKyAnZXh0cmEvZ2VuZXJhdGVfZXh0cmFfcGF5bWVudCcsZm9ybSk7XHJcbiAgICAgICAgc2VuZC50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgZGlzcGxheU1lc3NhZ2UoZGF0YS5tZW5zYWplKTtcclxuICAgICAgICAgIHNlbGVjdEV4dHJhUGF5bWVudC5odG1sKGRhdGEucGFnb3MpLmNoYW5nZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlbmQuY2F0Y2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgIFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGlzcGxheU1lc3NhZ2UoIE1FU1NBR0VfSU5GTyArICcgRGViZSByZWFsaXphciBlc3RlIHBhZ28gYW50ZXMgZGUgY3JlYXIgdW5vIG51ZXZvJyk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgZ2V0UGF5bWVudDogZnVuY3Rpb24gKGlkX3BhZ28pIHtcclxuICAgICAgdmFyIGZvcm0gPSBcImRhdGE9XCIgKyBKU09OLnN0cmluZ2lmeSh7aWRfcGFnbzogaWRfcGFnb30pO1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXNcclxuICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KCBCQVNFX1VSTCArICdleHRyYS9nZXRfcGF5bWVudCcsZm9ybSk7XHJcbiAgICAgIHNlbmQudGhlbihmdW5jdGlvbihyZXMpe1xyXG4gICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEgXHJcbiAgICAgICAgaWYoZGF0YS5yZWNpYm8pe1xyXG4gICAgICAgICAgc2VsZi5yZWNpYm8gPSBkYXRhLnJlY2lib1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH0sXHJcblxyXG4gICAgYXBwbHlQYXltZW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICh0aGlzLnJlY2liby5pZF9wYWdvICE9IDApIHtcclxuICAgICAgICB0aGlzLnNlbmRlcignZXh0cmEvYXBwbHlfcGF5bWVudCcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRpc3BsYXlNZXNzYWdlKCBNRVNTQUdFX0lORk8gKyAnIERlYmUgZ2VuZXJhciB1biBwYWdvIHByaW1lcm8nKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBlZGl0UGF5bWVudDogZnVuY3Rpb24gKCkge1xyXG4gICAgICB0aGlzLnNlbmRlcignZXh0cmEvZWRpdF9wYXltZW50Jyk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNlbmRlcjogZnVuY3Rpb24oZW5kcG9pbnQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgcHJlcGFyZWREYXRhID0gdGhpcy5wcmVwYXJlRGF0YSgpXHJcbiAgICAgIHZhciBpbmZvID0gcHJlcGFyZWREYXRhLmluZm87XHJcbiAgICAgIHZhciBkYXRhID0gcHJlcGFyZWREYXRhLmRhdGE7XHJcblxyXG4gICAgICB2YXIgZm9ybSA9ICdkYXRhPScrIEpTT04uc3RyaW5naWZ5KGRhdGEpICsgJyZpbmZvPScrIEpTT04uc3RyaW5naWZ5KGluZm8pXHJcbiAgICAgIHZhciBzZW5kID0gYXhpb3MucG9zdChCQVNFX1VSTCArIGVuZHBvaW50LGZvcm0pXHJcblxyXG4gICAgICBzZW5kLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGFcclxuICAgICAgICBsaXN0RXh0cmFzID0gZGF0YS5leHRyYXM7XHJcbiAgICAgICAgc2VsZi5nZXRQYXltZW50cyhzZWxmLmV4dHJhLmlkX2V4dHJhKTtcclxuICAgICAgICBkaXNwbGF5TWVzc2FnZShkYXRhLm1lbnNhamUpO1xyXG4gICAgICB9KVxyXG4gICAgICBzZW5kLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIHByZXBhcmVEYXRhOiBmdW5jdGlvbiAocmVjaWJvKSB7XHJcbiAgICAgIHZhciByZWNpYm8gPSB0aGlzLnJlY2libztcclxuICAgICAgXHJcbiAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgIGNvbmNlcHRvOiAnZXh0cmEgLScsIFxyXG4gICAgICAgIGRldGFsbGVzX2V4dHJhOiByZWNpYm8uZGV0YWxsZXNfZXh0cmEsXHJcbiAgICAgICAgZmVjaGFfcGFnbzogcmVjaWJvLmZlY2hhX3BhZ28sXHJcbiAgICAgICAgY3VvdGE6IHJlY2liby5jdW90YSxcclxuICAgICAgICB0b3RhbDogcmVjaWJvLmN1b3RhLFxyXG4gICAgICAgIGVzdGFkbzogJ3BhZ2FkbycsXHJcbiAgICAgICAgdGlwbzogcmVjaWJvLnRpcG8sXHJcbiAgICAgICAgZ2VuZXJhZG86IHRydWVcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIHZhciBpbmZvID0ge1xyXG4gICAgICAgIGlkX2V4dHJhOiByZWNpYm8uaWRfZXh0cmEsXHJcbiAgICAgICAgaWRfcGFnbzogcmVjaWJvLmlkX3BhZ29cclxuICAgICAgfTtcclxuICAgIFxyXG4gICAgICByZXR1cm4ge2RhdGE6IGRhdGEsIGluZm86IGluZm99O1xyXG4gICAgfSxcclxuICAgIFxyXG4gICAgZ2V0UGF5bWVudHM6IGZ1bmN0aW9uIChpZF9leHRyYSkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBmb3JtID0gXCJkYXRhPVwiKyBKU09OLnN0cmluZ2lmeSh7aWRfZXh0cmE6IGlkX2V4dHJhfSlcclxuICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ2V4dHJhL2dldF9leHRyYV9wYXltZW50X29mJywgZm9ybSlcclxuICAgICAgc2VuZC50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTtcclxuXHJcbiAgICAgICAgaWYoIWRhdGEucGFnb3Mpe1xyXG4gICAgICAgICAgc2VsZi5yZWNpYm8gPSByZWNpYm9SZXNldFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZWN0RXh0cmFQYXltZW50Lmh0bWwoZGF0YS5wYWdvcykuY2hhbmdlKClcclxuXHJcbiAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIGRlbGV0ZVBheW1lbnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgcmVjaWJvID0gdGhpcy5yZWNpYm9cclxuICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgJ2lkX2V4dHJhJzogcmVjaWJvLmlkX2V4dHJhLFxyXG4gICAgICAgICdpZF9wYWdvJzogcmVjaWJvLmlkX3BhZ29cclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGZvcm0gPSAnZGF0YT0nKyBKU09OLnN0cmluZ2lmeShkYXRhKVxyXG4gICAgICB2YXIgc2VuZCA9IGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAnZXh0cmEvZGVsZXRlX3BheW1lbnQnLGZvcm0pXHJcblxyXG4gICAgICBzZW5kLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGFcclxuICAgICAgICBkaXNwbGF5TWVzc2FnZShkYXRhLm1lbnNhamUpO1xyXG4gICAgICAgIHNlbGYuZ2V0UGF5bWVudHMoc2VsZi5leHRyYS5pZF9leHRyYSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIHNlbmQuY2F0Y2goZnVuY3Rpb24oZXJyb3Ipe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxuYnVzLiRvbigncm93LXNlbGVjdGVkJyxmdW5jdGlvbiAocm93KSB7XHJcbiAgZXh0cmFUYWJsZS5lbC5wYXJlbnRzKFwiLmJvb3RzdHJhcC10YWJsZVwiKS5hZGRDbGFzcyhcImhpZGVcIik7XHJcbiAgYXBwUGFnb0V4dHJhLnZpc2libGUgPSB0cnVlXHJcbiAgYXBwUGFnb0V4dHJhLmV4dHJhID0gcm93XHJcbiAgbGlzdEV4dHJhcyA9IGV4dHJhVGFibGUuZWwuZmluZCgndGJvZHknKS5odG1sKCk7XHJcbiAgYXBwUGFnb0V4dHJhLmdldFBheW1lbnRzKHJvdy5pZF9leHRyYSk7XHJcbn0pXHJcblxyXG52YXIgc2VsZWN0RXh0cmFQYXltZW50ID0gJChcIiNzZWxlY3QtZXh0cmEtcGF5bWVudFwiKTtcclxuc2VsZWN0RXh0cmFQYXltZW50Lm9uKCdjaGFuZ2UnLGZ1bmN0aW9uKCl7XHJcbiAgdmFyIGlkX3BhZ28gPSBzZWxlY3RFeHRyYVBheW1lbnQudmFsKClcclxuICBhcHBQYWdvRXh0cmEuZ2V0UGF5bWVudChpZF9wYWdvKVxyXG59KSIsInZhciBleHRyYVNlY3Rpb24gPSBuZXcgVnVlKHtcclxuICBlbDogJyNleHRyYS1zZWN0aW9uJyxcclxuICBkYXRhOiB7XHJcbiAgICBjb250ZW50OiAnJyxcclxuICAgIHNlYXJjaDoge1xyXG4gICAgICB0ZXh0OiAnJyxcclxuICAgICAgc3RhdGU6ICdhY3Rpdm8nXHJcbiAgICB9LFxyXG4gICAgdG90YWxlczoge1xyXG4gICAgICBwYWdhZG86IDAsXHJcbiAgICAgIHBlbmRpZW50ZTogMCxcclxuICAgICAgdG90YWxfdmVuZGlkbzogMFxyXG4gICAgfSxcclxuICAgIHRhYmxlSWQ6ICcjZXh0cmEtdGFibGUtZnVsbCdcclxuICB9LFxyXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChjdXJyZW50UGFnZSA9PSAnZXh0cmFzJykge1xyXG4gICAgICB0aGlzLmdldERhdGEoKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBmaWx0ZXJzOiB7XHJcbiAgICBjdXJyZW5jeUZvcm1hdDogZnVuY3Rpb24obnVtYmVyKXtcclxuICAgICAgcmV0dXJuIFwiUkQkIFwiKyBDdXJyZW5jeUZvcm1hdChudW1iZXIpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIFxyXG4gIG1ldGhvZHM6IHtcclxuICAgIGZpbHRlcjogZnVuY3Rpb24oZSkge1xyXG4gICAgICBmaWx0ZXJCU1RhYmxlKHRoaXMudGFibGVJZCx0aGlzLmZpbHRlclZhbHVlKTtcclxuICAgIH0sXHJcbiAgICBcclxuICAgIGdldERhdGE6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgZm9ybSA9ICdkYXRhPScgKyBKU09OLnN0cmluZ2lmeSh0aGlzLnNlYXJjaClcclxuICAgICAgYXhpb3MucG9zdChCQVNFX1VSTCArICdleHRyYS9nZXRfYWxsJyxmb3JtKVxyXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgc2VsZi5maWxsVGFibGUocmVzLmRhdGEuY29udGVudCk7XHJcbiAgICAgICAgc2VsZi50b3RhbGVzID0gcmVzLmRhdGEudG90YWxlcztcclxuICAgICAgfSlcclxuICAgIH0sXHJcblxyXG4gICAgZmlsbFRhYmxlOiBmdW5jdGlvbiAoY29udGVudCkge1xyXG4gICAgICBmaWxsQlNUYWJsZSgnI2V4dHJhLXRhYmxlLWZ1bGwnLCBjb250ZW50KVxyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcbiIsIlxyXG52YXIgY29uZmlnTWVzc2FnZSA9IHtcclxuICBlbWFpbDogJycsXHJcbiAgcGFzc3dvcmQ6ICcnLFxyXG4gIGRldmljZV9pZDogJycsXHJcbiAgY291bnRyeV9jb2RlOiAnJyxcclxuICBzZW5kX2F0OiAnMSBzZWNvbmQnLFxyXG4gIGV4cGlyZXNfYXQ6ICcxIGhvdXInXHJcbn1cclxuXHJcbnZhciBjb25maWdNZXNzYWdlc0Zvcm0gPSBuZXcgVnVlKHtcclxuICBlbDogJyNtZXNzYWdlLXNldHRpbmdzLXNlY3Rpb24nLFxyXG4gIGRhdGE6IHtcclxuICAgIGNvbmZpZzogY29uZmlnTWVzc2FnZVxyXG4gIH0sXHJcblxyXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChjdXJyZW50UGFnZSA9PSAnYWRtaW5pc3RyYWRvcicpIFxyXG4gICAgICB0aGlzLmdldENvbmZpZygpXHJcbiAgfSxcclxuXHJcbiAgbWV0aG9kczoge1xyXG4gICAgY29uZmlybVBob25lOiBmdW5jdGlvbiAoKSB7fSxcclxuXHJcbiAgICBnZXRDb25maWc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHNlbmRcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICBzZW5kID0gYXhpb3MuZ2V0KEJBU0VfVVJMICsgJ21lc3NhZ2VzL2dldF9jb25maWcnKVxyXG4gICAgICBzZW5kLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgIGlmKHJlcy5kYXRhLmNvbmZpZyl7XHJcbiAgICAgICAgICBzZWxmLmNvbmZpZyA9IHJlcy5kYXRhLmNvbmZpZ1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgc2VuZC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgfSlcclxuICAgIH0sXHJcblxyXG4gICAgc2F2ZVNldHRpbmdzOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICB2YXIgY29uZmlnLCBmb3JtLCBzZW5kXHJcbiAgICAgIGNvbmZpZyA9IHRoaXMuY29uZmlnXHJcblxyXG4gICAgICBmb3JtID0gJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KGNvbmZpZylcclxuICAgICAgc2VuZCA9IGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAnbWVzc2FnZXMvc2F2ZV9jb25maWcnLCBmb3JtKVxyXG4gICAgICBzZW5kLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgIGRpc3BsYXlNZXNzYWdlKHJlcy5kYXRhLm1lbnNhamUpXHJcbiAgICAgIH0pXHJcbiAgICAgIHNlbmQuY2F0Y2goZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcbn0pXHJcblxyXG52YXIgc2VuZE1lc3NhZ2VBcHAgPSBuZXcgVnVlKHtcclxuICBlbDogJyNzZW5kLW1lc3NhZ2UtbW9kYWwnLFxyXG5cclxuICBkYXRhOiB7XHJcbiAgICBoaWRlX2NsaWVudHM6IHRydWUsXHJcbiAgICBoaWRlX251bWJlcnM6IHRydWUsXHJcblxyXG4gICAgbWVzc2FnZV9kYXRhOiB7XHJcbiAgICAgIHRpcG86ICcnLFxyXG4gICAgICBjbGllbnRlczogJycsXHJcbiAgICAgIG51bWVyb3M6ICcnLFxyXG4gICAgICBtZW5zYWplOiAnJ1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuaW5pdFNlbGVjdDIoKVxyXG4gIH0sXHJcblxyXG4gIGNvbXB1dGVkOiB7XHJcbiAgICBsZXR0ZXJzX2NvdW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VfZGF0YS5tZW5zYWplLmxlbmd0aFxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIG1ldGhvZHM6IHtcclxuICAgIHNlbmRNZXNzYWdlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBmb3JtLCBzZW5kXHJcblxyXG4gICAgICBpZiAoIWlzRW1wdHkoW3RoaXMubWVzc2FnZV9kYXRhLnRpcG8sIHRoaXMubWVzc2FnZV9kYXRhLm1lbnNhamVdKSkge1xyXG4gICAgICAgIGZvcm0gPSAnZGF0YT0nICsgSlNPTi5zdHJpbmdpZnkodGhpcy5tZXNzYWdlX2RhdGEpXHJcbiAgICAgICAgc2VuZCA9IGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAnbWVzc2FnZXMvc2VuZF9tZXNzYWdlJywgZm9ybSlcclxuICAgICAgICBzZW5kLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgZGlzcGxheU1lc3NhZ2UocmVzLmRhdGEubWVuc2FqZSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIHNlbmQuY2F0Y2goZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN3YWwoJ0NhbXBvcyBSZXF1ZXJpZG9zJywgJ1BvciBmYXZvciBzZWxlY2Npb25lcyBlbCB0aXBvIGRlIG1lbnNhamUgeSBlc2NyaWJhIHN1IG1lbnNhamUnKVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGluaXRTZWxlY3QyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpc1xyXG4gICAgICB2YXIgb3B0aW9ucyA9IHtcclxuICAgICAgICBkcm9wZG93blBhcmVudDogJCgnI3NlbmQtbWVzc2FnZS1tb2RhbCcpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBzZWxlY3RNZXNzYWdlVHlwZSA9ICQoJyNtZXNzYWdlLXR5cGUnKVxyXG4gICAgICBzZWxlY3RNZXNzYWdlVHlwZS5zZWxlY3QyKG9wdGlvbnMpXHJcbiAgICAgIHZhciBzZWxlY3RDbGllbnRzRm9yTWVzc2FnZSA9ICQoJyNjbGllbnRzLWZvci1tZXNzYWdlJykuc2VsZWN0Mih7XHJcbiAgICAgICAgZHJvcGRvd25QYXJlbnQ6ICQoJyNzZW5kLW1lc3NhZ2UtbW9kYWwnKSxcclxuICAgICAgICBhamF4OiB7XHJcbiAgICAgICAgICB1cmw6IEJBU0VfVVJMICsgJ21lc3NhZ2VzL3NlYXJjaF9jbGllbnRzJyxcclxuICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICBkZWxheTogMjUwLFxyXG4gICAgICAgICAgZGF0YTogZnVuY3Rpb24gKHBhcmFtcykge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIHE6IHBhcmFtcy50ZXJtLFxyXG4gICAgICAgICAgICAgIHBhZ2U6IHBhcmFtcy5wYWdlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgcHJvY2Vzc1Jlc3VsdHM6IGZ1bmN0aW9uIChkYXRhLCBwYXJhbXMpIHtcclxuICAgICAgICAgICAgcGFyYW1zLnBhZ2UgPSBwYXJhbXMucGFnZSB8fCAxXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgcmVzdWx0czogZGF0YS5pdGVtcyxcclxuICAgICAgICAgICAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBtb3JlOiAocGFyYW1zLnBhZ2UgKiAzMCkgPCBkYXRhLnRvdGFsX2NvdW50XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY2FjaGU6IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB2YXIgc2VsZWN0cyA9IHtcclxuICAgICAgICBjbGllbnRzOiBzZWxlY3RDbGllbnRzRm9yTWVzc2FnZSxcclxuICAgICAgICBtZXNzYWdlVHlwZTogc2VsZWN0TWVzc2FnZVR5cGVcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNlbGVjMkxpdGVuZXJzKHNlbGVjdHMpXHJcbiAgICB9LFxyXG5cclxuICAgIHNlbGVjMkxpdGVuZXJzOiBmdW5jdGlvbiAoc2VsZWN0cykge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXNcclxuICAgICAgc2VsZWN0cy5tZXNzYWdlVHlwZS5vbignc2VsZWN0MjpzZWxlY3QnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciBzZWxlY3QgPSBlLnBhcmFtcy5kYXRhLmVsZW1lbnRcclxuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IHNlbGVjdC5hdHRyaWJ1dGVzXHJcbiAgICAgICAgdmFyIHRpcG8gPSBlLnBhcmFtcy5kYXRhLmlkXHJcbiAgICAgICAgc2VsZi5tZXNzYWdlX2RhdGEudGlwbyA9IHRpcG9cclxuXHJcbiAgICAgICAgaWYgKHRpcG8gPT0gJ290cm9zJykge1xyXG4gICAgICAgICAgc2VsZi5oaWRlX2NsaWVudHMgPSB0cnVlXHJcbiAgICAgICAgICBzZWxmLmhpZGVfbnVtYmVycyA9IGZhbHNlXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aXBvID09ICdwZXJzb25hbGl6YWRvJykge1xyXG4gICAgICAgICAgc2VsZi5oaWRlX251bWJlcnMgPSB0cnVlXHJcbiAgICAgICAgICBzZWxmLmhpZGVfY2xpZW50cyA9IGZhbHNlXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlbGYuaGlkZV9jbGllbnRzID0gdHJ1ZVxyXG4gICAgICAgICAgc2VsZi5oaWRlX251bWJlcnMgPSB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgc2VsZWN0cy5tZXNzYWdlVHlwZS5zZWxlY3QyKCd2YWwnLCdtb3JhJyk7XHJcblxyXG4gICAgICBzZWxlY3RzLmNsaWVudHMub24oJ3NlbGVjdDI6c2VsZWN0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB2YXIgY2xpZW50ZXMgPSBzZWxlY3RzLmNsaWVudHMuc2VsZWN0MignZGF0YScpXHJcbiAgICAgICAgdmFyIGl0ZW1zID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGllbnRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICdub21icmVfY29tcGxldG8nOiBjbGllbnRlc1tpXS50ZXh0LFxyXG4gICAgICAgICAgICAnY2VsdWxhcic6IGNsaWVudGVzW2ldLmlkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLm1lc3NhZ2VfZGF0YS5jbGllbnRlcyA9IGl0ZW1zXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG59KSIsInZhciBwYXltZW50c1JlcG9ydCA9IG5ldyBWdWUoe1xyXG4gIGVsOiAnI3JlY2lib3MnLFxyXG4gIGRhdGE6IHtcclxuICAgdGFibGU6ICcnLFxyXG4gICB0YWJsZUhUTUw6ICcnLFxyXG4gICB0b3RhbDogJycsXHJcbiAgIGJldHdlZW46IHtcclxuICAgICBmaXJzdF9kYXRlOiAnJyxcclxuICAgICBzZWNvbmRfZGF0ZTogJycsXHJcbiAgICAgdGV4dDogJydcclxuICAgfVxyXG4gIH0sXHJcbiAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGN1cnJlbnRQYWdlID09ICdub3RpZmljYWNpb25lcycpIHtcclxuICAgICAgdGhpcy5nZXRSZXBvcnQoKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGZpbHRlcnM6IHtcclxuICAgIGN1cnJlbmN5Rm9ybWF0OiBmdW5jdGlvbihudW1iZXIpe1xyXG4gICAgICByZXR1cm4gXCJSRCQgXCIrIEN1cnJlbmN5Rm9ybWF0KG51bWJlcik7XHJcbiAgICB9LFxyXG4gIH0sXHJcblxyXG4gIG1ldGhvZHM6IHtcclxuICAgIGdldFJlcG9ydDogZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBmb3JtID0gJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KHRoaXMuYmV0d2VlbilcclxuICAgICAgYXhpb3MucG9zdChCQVNFX1VSTCArICdwYXltZW50L2dldF9yZWNlaXB0cy8nLCBmb3JtKVxyXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgc2VsZi5maWxsVGFibGUocmVzLmRhdGEuY29udGVudClcclxuICAgICAgICBzZWxmLnRvdGFsID0gcmVzLmRhdGEuYWN1bTtcclxuICAgICAgfSlcclxuICAgIH0sXHJcblxyXG4gICAgZmlsbFRhYmxlOiBmdW5jdGlvbihjb250ZW50KSB7XHJcbiAgICAgIHZhciAkdGFibGUgPSAkKCcjcmVjZWlwdHMtdGFibGUnKVxyXG4gICAgICAkdGFibGUuYm9vdHN0cmFwVGFibGUoJ2Rlc3Ryb3knKTtcclxuICAgICAgJHRhYmxlLmZpbmQoJ3Rib2R5JykuaHRtbChjb250ZW50KTtcclxuICAgICAgJHRhYmxlLmJvb3RzdHJhcFRhYmxlKCk7XHJcbiAgICAgICR0YWJsZS5maW5kKCd0Ym9keScpLmNzcyh7ZGlzcGxheTpcInRhYmxlLXJvdy1ncm91cFwifSk7XHJcbiAgICB9XHJcbiAgfVxyXG59KSIsInZhciBSZXRpcmVtZW50UmVwb3J0ID0gbmV3IFZ1ZSh7XHJcbiAgZWw6ICcjcmV0aXJvcycsXHJcbiAgZGF0YToge1xyXG4gICB0YWJsZTogJycsXHJcbiAgIHRhYmxlSFRNTDogJycsXHJcbiAgIGJldHdlZW46IHtcclxuICAgICBmaXJzdF9kYXRlOiAnJyxcclxuICAgICBzZWNvbmRfZGF0ZTogJydcclxuICAgfVxyXG4gIH0sXHJcbiAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGN1cnJlbnRQYWdlID09ICdub3RpZmljYWNpb25lcycpIHtcclxuICAgICAgdGhpcy5nZXRSZXBvcnQoKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBtZXRob2RzOiB7XHJcbiAgICBnZXRSZXBvcnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgZm9ybSA9ICdkYXRhPScgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmJldHdlZW4pXHJcbiAgICAgIGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAnY29udHJhY3QvZ2V0Q2FuY2VsYXRpb25zLycsIGZvcm0pXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICBzZWxmLmZpbGxUYWJsZShyZXMuZGF0YS5jb250ZW50KVxyXG4gICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICBmaWxsVGFibGU6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuICAgICAgdmFyICR0YWJsZSA9ICQoJyNjYW5jZWxhdGlvbi10YWJsZScpXHJcbiAgICAgICR0YWJsZS5ib290c3RyYXBUYWJsZSgnZGVzdHJveScpO1xyXG4gICAgICAkdGFibGUuZmluZCgndGJvZHknKS5odG1sKGNvbnRlbnQpO1xyXG4gICAgICAkdGFibGUuYm9vdHN0cmFwVGFibGUoKTtcclxuICAgICAgJHRhYmxlLmZpbmQoJ3Rib2R5JykuY3NzKHtkaXNwbGF5OlwidGFibGUtcm93LWdyb3VwXCJ9KTtcclxuICAgIH1cclxuICB9XHJcbn0pIiwiICB2YXIgdGlja2V0TGlzdFZpZXcgPSBuZXcgVnVlKHtcclxuICAgIGVsOiAnI2F2ZXJpYXMtbGlzdC12aWV3JyxcclxuICAgIGRhdGE6IHtcclxuICAgICAgZGF0YVNlYXJjaDoge1xyXG4gICAgICAgIHRleHQ6ICcnLFxyXG4gICAgICAgIHN0YXRlOiAncG9yIHJlcGFyYXInLFxyXG4gICAgICB9LFxyXG4gICAgICB0aWNrZXRzOiBbXSxcclxuICAgICAgaGlkZTogZmFsc2VcclxuICAgIH0sXHJcblxyXG4gICAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICB0aGlzLml0ZW1DbGlja0xpc3RlbmVyKCk7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpc1xyXG4gICAgICBidXNBdmVyaWEuJG9uKCd0aWNrZXRzLWxpc3RlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLml0ZW1DbGlja0xpc3RlbmVyKClcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgc2VhcmNoOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGZvcm0gPSAnZGF0YT0nICsgSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhU2VhcmNoKTtcclxuICAgICAgICB2YXIgc2VuZCA9IGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAnYXBpL2F2ZXJpYXMvc2VhcmNoJywgZm9ybSk7XHJcblxyXG4gICAgICAgIHNlbmQudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICB0aGlzLmZpbGxBdmVyaWFzTGlzdChyZXMuZGF0YSk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgc2VuZC5jYXRjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKHJlcy5kYXRhLm1lbnNhamUpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICB9LFxyXG5cclxuICAgICAgZmlsbEF2ZXJpYXNMaXN0OiBmdW5jdGlvbiAoJGNvbnRlbnQpIHtcclxuICAgICAgICAkKCcjYXZlcmlhLWl0ZW0tbGlzdCcpLmh0bWwoJGNvbnRlbnQpO1xyXG4gICAgICAgIHRpY2tldExpc3RWaWV3Lml0ZW1DbGlja0xpc3RlbmVyKCk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBpdGVtQ2xpY2tMaXN0ZW5lcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJyNhdmVyaWFzLWxpc3QtdmlldyAuYXZlcmlhLWl0ZW0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2YXIgaWRfYXZlcmlhID0gJCh0aGlzKS5maW5kKCcuY29kZScpLnRleHQoKS50cmltKCk7XHJcbiAgICAgICAgICB0aWNrZXRWaWV3LmdldFRpY2tldChpZF9hdmVyaWEpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdmFyIGVtcHR5VGlja2V0ID0ge1xyXG4gICAgXCJpZF9hdmVyaWFcIjogXCJcIixcclxuICAgIFwiaWRfY2xpZW50ZVwiOiBcIlwiLFxyXG4gICAgXCJjbGllbnRlXCI6IFwiXCIsXHJcbiAgICBcImRpcmVjY2lvblwiOiBcIlwiLFxyXG4gICAgXCJkZXNjcmlwY2lvblwiOiBcIlwiLFxyXG4gICAgXCJjZWx1bGFyXCI6IFwiXCIsXHJcbiAgICBcImZlY2hhXCI6IFwiXCIsXHJcbiAgICBcImVzdGFkb1wiOiBcIlwiLFxyXG4gICAgXCJmZWNoYV9yZXBhcmFjaW9uXCI6IFwiXCIsXHJcbiAgICBcInRlY25pY29cIjogXCJcIixcclxuICAgIFwiY29kaWdvXCI6ICcnLFxyXG4gIH1cclxuICBcclxuICB2YXIgdGlja2V0VmlldyA9IG5ldyBWdWUoe1xyXG4gICAgZWw6ICcjdGlja2V0LXZpZXcnLFxyXG4gICAgXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIGNsYXNzZXM6IHtcclxuICAgICAgICBoaWRlOiB0cnVlXHJcbiAgICAgIH0sXHJcbiAgICAgIG1vZGU6IHtcclxuICAgICAgICBuZXdDb21tZW50OiBmYWxzZSxcclxuICAgICAgICBlZGl0OiBmYWxzZSxcclxuICAgICAgfSxcclxuICAgICAgbmV3X2NvbW1lbnQ6ICcnLFxyXG4gICAgICBjb21tZW50czogW10sXHJcbiAgICAgIHRpY2tldDogZW1wdHlUaWNrZXRcclxuICAgIH0sXHJcbiAgICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQoJyN0aWNrZXQtdmlldycpLnJlbW92ZUNsYXNzKCdpbnZpc2libGUnKVxyXG4gICAgfSxcclxuXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgIGdldFRpY2tldDogZnVuY3Rpb24gKGlkX2F2ZXJpYSkge1xyXG4gICAgICAgIHZhciBmb3JtID0gJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGlkX2F2ZXJpYTogaWRfYXZlcmlhXHJcbiAgICAgICAgfSlcclxuICAgICAgICB2YXIgc2VuZCA9IGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAnYXBpL2F2ZXJpYXMvZ2V0X2F2ZXJpYScsIGZvcm0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHNlbmQudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgdGlja2V0Vmlldy5jbGFzc2VzLmhpZGUgPSBmYWxzZTtcclxuICAgICAgICAgIHRpY2tldExpc3RWaWV3LmhpZGUgPSB0cnVlO1xyXG4gICAgICAgICAgdGlja2V0Vmlldy50aWNrZXQgPSBkYXRhLnRpY2tldDtcclxuICAgICAgICAgIHRpY2tldFZpZXcuY29tbWVudHMgPSBkYXRhLmNvbW1lbnRzO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBxdWl0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy50aWNrZXQgPSBlbXB0eVRpY2tldDtcclxuICAgICAgICB0aGlzLmNvbW1lbnRzID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNsYXNzZXMuaGlkZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jbG9zZUNvbW1lbnRNb2RlKCk7XHJcbiAgICAgICAgdGlja2V0TGlzdFZpZXcuaGlkZSA9IGZhbHNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgcHJpbnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwcmludCgpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc3RhcnRDb21tZW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlLm5ld0NvbW1lbnQgPSB0cnVlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgYWRkQ29tbWVudDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBmb3JtID0gZ2V0Rm9ybSh7aWRfYXZlcmlhOiB0aGlzLnRpY2tldC5pZF9hdmVyaWEsIGRlc2NyaXBjaW9uOiB0aGlzLm5ld19jb21tZW50fSk7XHJcbiAgICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ2FwaS9hdmVyaWFzL2FkZF9jb21tZW50Jyxmb3JtKTtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VuZC50aGVuKCBmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICBzZWxmLmdldENvbW1lbnRzKCk7XHJcbiAgICAgICAgICBzZWxmLmNsb3NlQ29tbWVudE1vZGUoKVxyXG4gICAgICAgICAgZGlzcGxheU1lc3NhZ2UocmVzLmRhdGEubWVuc2FqZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBfZGVsZXRlQ29tbWVudDogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB2YXIgY29tbWVudEl0ZW0gPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGVcclxuICAgICAgICB2YXIgaWRDb21tZW50ID0gZS50YXJnZXQucGFyZW50Tm9kZS5hdHRyaWJ1dGVzWydkYXRhLWlkJ10udmFsdWVcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgY29tbWVudEl0ZW0uY2xhc3NMaXN0LmFkZCgndG8tZGVsZXRlJyk7XHJcblxyXG4gICAgICAgIHN3YWwoe1xyXG4gICAgICAgICAgdGl0bGU6ICdFc3TDoSBTZWd1cm8/JyxcclxuICAgICAgICAgIHRleHQ6IFwiU2VndXJvIGRlIHF1ZSBlbGltaW5hciBlc3RlIHJlcG9ydGU/XCIsXHJcbiAgICAgICAgICB0eXBlOiAnd2FybmluZycsXHJcbiAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxyXG4gICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdFbGltaW5hcicsXHJcbiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAnQ2FuY2VsYXInXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgc2VsZi5kZWxldGVDb21tZW50KGlkQ29tbWVudCk7XHJcbiAgICAgICAgICBjb21tZW50SXRlbS5jbGFzc0xpc3QucmVtb3ZlKCd0by1kZWxldGUnKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGNvbW1lbnRJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3RvLWRlbGV0ZScpXHJcbiAgICAgICAgfSlcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGRlbGV0ZUNvbW1lbnQ6IGZ1bmN0aW9uIChpZENvbW1lbnQpe1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICB2YXIgZm9ybSA9IGdldEZvcm0oeyBpZF9yZXBvcnRlOiBpZENvbW1lbnR9KTtcclxuICAgICAgICB2YXIgc2VuZCA9IGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAnYXBpL2F2ZXJpYXMvZGVsZXRlX2NvbW1lbnQnLGZvcm0pO1xyXG5cclxuICAgICAgICBzZW5kLnRoZW4oIGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgIHNlbGYuZ2V0Q29tbWVudHMoKTtcclxuICAgICAgICAgIGRpc3BsYXlNZXNzYWdlKHJlcy5kYXRhLm1lbnNhamUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZWRpdENvbW1lbnQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgIH0sXHJcbiAgICAgIFxyXG4gICAgICBjbG9zZUNvbW1lbnRNb2RlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlLm5ld0NvbW1lbnQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm5ld19jb21tZW50ID0gJyc7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBnZXRDb21tZW50czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBmb3JtID0gZ2V0Rm9ybSh7aWRfYXZlcmlhOiB0aGlzLnRpY2tldC5pZF9hdmVyaWF9KTtcclxuICAgICAgICB2YXIgc2VuZCA9IGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAnYXBpL2F2ZXJpYXMvZ2V0X2NvbW1lbnRzJyxmb3JtKTtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXNcclxuICAgICAgICBzZW5kLnRoZW4oIGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgIHNlbGYuY29tbWVudHMgPSByZXMuZGF0YS5jb21tZW50cztcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHVwZGF0ZURlc2NyaXB0aW9uOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVUaWNrZXQoWydpZF9hdmVyaWEnLCdkZXNjcmlwY2lvbicsJ3RlY25pY28nLCdlc3RhZG8nLCdmZWNoYV9yZXBhcmFjaW9uJ10pO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgdXBkYXRlU3RhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy50aWNrZXQuZXN0YWRvID09ICdwb3IgcmVwYXJhcicpIHtcclxuICAgICAgICAgIHRoaXMudGlja2V0LmZlY2hhX3JlcGFyYWNpb24gPSAnJ1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnRpY2tldC5mZWNoYV9yZXBhcmFjaW9uID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgdXBkYXRlVGlja2V0OiBmdW5jdGlvbiAoZmllbGRzKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZUVkaXRNb2RlKCk7XHJcbiAgICAgICAgdmFyIGZvcm0gPSBnZXRGb3JtKHRoaXMuZ2V0RmllbGRzKGZpZWxkcykpO1xyXG4gICAgICAgIHZhciBzZW5kID0gYXhpb3MucG9zdChCQVNFX1VSTCArICdhcGkvYXZlcmlhcy91cGRhdGVfYXZlcmlhJyxmb3JtKTtcclxuXHJcbiAgICAgICAgc2VuZC50aGVuKCBmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICB0aWNrZXRMaXN0Vmlldy5zZWFyY2goKTtcclxuICAgICAgICAgIGRpc3BsYXlNZXNzYWdlKHJlcy5kYXRhLm1lbnNhamUpXHJcbiAgICAgICAgfSlcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGRlbGV0ZVRpY2tldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnZGVsZXRlZCcpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgY2xvc2VFZGl0TW9kZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMubW9kZS5lZGl0ID0gZmFsc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBlbnRlckVkaXRNb2RlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlLmVkaXQgPSB0cnVlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0RmllbGRzOiBmdW5jdGlvbiAoZmllbGRzKSB7XHJcbiAgICAgICAgdmFyIHNlbGVjdGVkRmllbGRzID0ge307XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKSB7XHJcbiAgICAgICAgICBzZWxlY3RlZEZpZWxkc1tmaWVsZF0gPSBzZWxmLnRpY2tldFtmaWVsZF1cclxuICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkRmllbGRzO1xyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG4gIH0pXHJcblxyXG4gIGZ1bmN0aW9uIGdldEZvcm0ob2JqZWN0KXtcclxuICAgIHJldHVybiBcImRhdGE9XCIgKyBKU09OLnN0cmluZ2lmeShvYmplY3QpO1xyXG4gIH1cclxuIl19
