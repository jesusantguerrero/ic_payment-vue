function fillBSTable(e,t){var a=$(e);a.bootstrapTable("destroy"),a.find("tbody").html(t),a.bootstrapTable(),$(".pull-right.search").addClass("hide"),a.find("tbody").css({display:"table-row-group"}),a.addClass("innertable")}function filterBSTable(e,t){$(e).bootstrapTable("filterBy",{estado:t})}function isCurrentPage(e){return getCurrentPage()==e}function getCurrentPage(){var e=$("title").text().split(" ");return e=e[4].toLowerCase().trim()}function cierreCajaFunctions(){function e(){return moment().format("YYYY-MM-DD")}var t={total1:0,total5:0,total10:0,total20:0,total25:0,total50:0,total100:0,total200:0,total500:0,total1000:0,total2000:0},a=[{fecha:e(),descripcion:"hola",monto:2e3,id_gasto:1}],o=$("#autor-cierre").text().trim(),s=new Vue({el:"#app-cierre",data:{isHide:!1,fecha:e(),data_cierre:{autor:o,pagos_facturas:0,pagos_extras:0,pagos_efectivo:0,pagos_banco:0,total_ingresos:0,efectivo_caja:0,total_descuadre:0,total_gastos:0,banco:0},conteo:t,suma:0,gasto:{fecha:"",descripcion:"",monto:""},gastos:a},mounted:function(){this.getGastos(),this.setIngresos()},created:function(){$(".will-load").css({visibility:"visible"})},filters:{currencyFormat:function(e){return CurrencyFormat(e)}},methods:{changeTotal:function(e){var a=e.srcElement.attributes["data-unit"].value,o=e.srcElement.value;t["total"+a]=o*a*1},addGasto:function(t){var a=this.gasto;a.fecha=e(),form="data="+JSON.stringify(a);var o=axios.post(BASE_URL+"caja/add_gasto",form);o.then(function(e){var t=e.data;displayMessage(t.mensaje),s.fillGastos(t.gastos,"normal"),s.setGastoTotal(t.total_gastos)}),o.catch(function(){console.log(error)})},fillGastos:function(e,t){"group"==t?null!=e||e.length>0?s.gastos=e:s.gastos=[]:s.gastos.push(JSON.parse(e)[0])},setGastoTotal:function(e){this.data_cierre.total_gastos=e},getGasto:function(e){var t=this.gasto;form="data="+JSON.stringify(t),connectAndSend("caja/get_gasto",!1,null,s.fillGastos,form,null,null)},deleteGasto:function(t){console.log(t);var a=t.target;"i"==a.localname&&(a=a.parentElement);var o=a.attributes["data-id"].value;swal({title:"Está Seguro?",text:"Seguro de que quiere eliminar este gasto?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){form="data="+JSON.stringify({id:o,fecha:e()});var t=axios.post(BASE_URL+"caja/delete_gasto",form);t.then(function(e){var t=e.data;displayMessage(t.mensaje),s.fillGastos(t.gastos,"group"),s.setGastoTotal(t.total_gastos)}),t.catch(function(e){})})},getGastos:function(){var t={fecha:e()};form="data="+JSON.stringify(t);var a=axios.post(BASE_URL+"caja/get_gastos",form);a.then(function(e){var t=e.data;displayMessage(t.mensaje),s.fillGastos(t.gastos,"group"),s.setGastoTotal(t.total_gastos)}),a.catch(function(){console.log(error)})},setIngresos:function(){var t="data="+JSON.stringify({fecha:e()}),a=this.data_cierre,o=axios.post(BASE_URL+"caja/get_ingresos",t);o.then(function(e){var t=e.data;a.pagos_facturas=t.pagos_facturas,a.pagos_extras=t.pagos_extras,a.pagos_efectivo=t.pagos_efectivo,a.pagos_banco=t.pagos_banco,a.total_ingresos=parseFloat(t.pagos_facturas)+parseFloat(a.pagos_extras),a.total_descuadre=-a.pagos_efectivo+a.efectivo_caja}),o.catch(function(){console.log(error)})},cerrarCaja:function(){var e=this,t=this.data_cierre;window.cierre=t,0!=t.total_descuadre?swal({title:"Está Seguro?",text:"Hay un descuadre en la caja, quiere hacer el cierre de todos modos?",type:"warning",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(function(){e.cerrar(t)}):e.cerrar(t)},cerrar:function(t){t.fecha=e(),form="data="+JSON.stringify(t);var a=axios.post(BASE_URL+"caja/add_cierre",form);a.then(function(e){var a=e.data;displayMessage(a.mensaje),self.isHide=!0,appSummaryView.isHide=!1,appSummaryView.cierre=t,$("#app-cierre").addClass("hide"),$(".top-nav").addClass("hide"),$("#print-view").css({visibility:"visible"})}),a.catch(function(){console.log(error)})}},computed:{getTotal:function(e){var a=t,o=this.data_cierre,s=function(e){for(var t=0,a=0;a<e.length;a++)t+=parseFloat(e[a]);return t}([a.total1,a.total5,a.total10,a.total20,a.total25,a.total50,a.total100,a.total200,a.total500,a.total1000,a.total2000]);return this.suma=s,o.efectivo_caja=s.toFixed(2),o.total_descuadre=parseFloat(-o.pagos_efectivo)+parseFloat(o.efectivo_caja),o.banco=parseFloat(o.pagos_banco)+parseFloat(o.pagos_efectivo)-parseFloat(o.total_gastos)+parseFloat(o.total_descuadre),this.suma},decimals:function(){["pagos_facturas","pagos_extra","pagos_efectivo","pagos_banco","total_ingresos","efectivo_caja","total_descuadre","total_gasto","banco"].forEach(function(e){this.data_cierre[e]=this.data_cierre[e].toFixed(2)},this)}}});window.appCierre=s}function fetchReportData(){var e=axios.get(BASE_URL+"caja/get_last_cierre");e.then(function(e){cajaWeekChart(e.data),appVistaDetalle.cierre=e.data.cierre}),e.catch(function(e){});var t="data="+JSON.stringify({year:moment().format("YYYY")});axios.post(BASE_URL+"caja/get_year_info",t).then(function(e){yearChart(e.data.gastos,e.data.ganancias)})}function cajaWeekChart(e){var t=$("#ganancias-chart"),a={type:"bar",data:{labels:e.labels,datasets:[{label:"Valores",data:e.values,backgroundColor:[colors.lightBlue6,colors.lightBlue6,colors.blue7,window.chartColors.blue,window.chartColors.green,colors.blueGreen,window.chartColors.red,window.chartColors.red,window.chartColors.blue]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{callback:function(e,t,a){return""!=e&&null!=e||(e=0),"RD$ "+CurrencyFormat(e)}}}],xAxes:[{ticks:{callback:function(e,t,a){return e.replace(/_/g," ")}}}]},tooltips:{callbacks:{label:function(e,t){return"RD$ "+CurrencyFormat(e.yLabel)}}},title:{display:!0,text:"Datos del ultimo cierre. hecho por "+e.autor+" el dia "+e.fecha}}};new Chart(t,a)}function yearChart(e,t){var a=$("#ganancias-mes-chart"),o={labels:meses,datasets:[{label:"Gastos",backgroundColor:window.chartColors.red,borderColor:window.chartColors.red,data:e,fill:!1},{label:"Banco(Ganancias)",fill:!1,backgroundColor:window.chartColors.blue,borderColor:window.chartColors.blue,data:t}]},s={responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{callback:function(e,t,a){return"RD$ "+CurrencyFormat(e)}}}]},tooltips:{callbacks:{label:function(e,t){return"RD$ "+CurrencyFormat(e.yLabel)}}},title:{display:!0,text:"Registros de cierre Este ultimo año"}};new Chart(a,{type:"line",data:o,options:s})}function getForm(e){return"data="+JSON.stringify(e)}var acountView=new Vue({el:"#acount-section",data:{user:{user_id:"",nickname:"",name:"",lastname:"",dni:"",type:"",email:""},isChangePassword:!1,currentPassword:"",newPassword:"",passwordConfirm:"",states:{"has-error":!1,"has-success":!1,button:!0}},mounted:function(){"cuenta"==currentPage&&this.getUser()},methods:{getUser:function(){var e=this,t=$("#acount-user-id").val(),a="data="+JSON.stringify({user_id:t});axios.post(BASE_URL+"user/get_user",a).then(function(t){var a=t.data.user;a.fullname=a.name+" "+a.lastname,e.user=a})},updateInfo:function(){this.isChangePassword?this.changePassword():this.changeEmail()},changePassword:function(){if(this.states["has-success"]){var e="data="+JSON.stringify({user_id:this.user.user_id,current_password:this.currentPassword,new_password:this.newPassword});axios.post(BASE_URL+"user/update_password",e).then(function(e){displayMessage(e.data.message),window.location=BASE_URL+"app/logut"})}else displayMessage("Las contraseñas no conciden")},changeEmail:function(){var e=this.user;swal({title:"Contraseña",input:"password"}).then(function(t){var a="data="+JSON.stringify({user_id:e.user_id,password:t,field:"email",value:e.email});axios.post(BASE_URL+"user/update_field",a).then(function(e){displayMessage(e.data.message)})})},confirmPasswordServer:function(e){var t="data="+JSON.stringify({user_id:this.user.user_id,current_password:e});return new Promise(function(e,a){axios.post(BASE_URL+"user/confirm_password",t).then(function(t){e(t.data.is_correct)})})},confirmPassword:function(){var e=this;this.confirmPasswordServer(this.currentPassword).then(function(t){e.isChangePassword=t})},checkPassword:function(){this.newPassword==this.passwordConfirm&&this.changePassword?(this.setStates(!0,!1),this.states.button=!0):this.changePassword?(this.setStates(!1,!0),this.states.button=!1):this.setStates(!1,!1)},setStates:function(e,t){this.states["has-success"]=e,this.states["has-error"]=t}}});(isCurrentPage("cierre")||isCurrentPage("cierre2"))&&cierreCajaFunctions(),Vue.component("summary-print-view",{template:'    <div class="print-container">      <div class="__header">      <h2 class="__title t-center"> {{title}}</h2>      </div>      <div class="__body">      <printeable></printeable>      </div>    <div>        ',props:["somevalue"],methods:{goBack:function(){appSummaryView.isHide=!0,window.appCierre.isHide=!1,self.isHide=!0,$(".top-nav").removeClass("hide"),$("#app-cierre").removeClass("hide")}},data:function(){return{back:{link:"somelink",text:"volver a cierre"},foward:{link:BASE_URL+"app/logout",text:"cerrar session"},title:"Resumen de cierre de hoy"}}});var appSummaryView=new Vue({el:"#print-view",data:{isHide:!0,back:{link:"somelink",text:"volver a cierre"},foward:{link:BASE_URL+"app/logout",text:"cerrar session"},cierre:{autor:"",pagos_facturas:0,pagos_extras:0,pagos_efectivo:0,pagos_banco:0,total_ingresos:0,efectivo_caja:0,total_descuadre:0,total_gastos:0,banco:0}},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)},spanishDateFormat:function(e){return moment.locale("es-DO"),moment(e).format("dddd DD [de] MMMM [del] YYYY")}},methods:{goBack:function(){appSummaryView.isHide=!0,window.appCierre.isHide=!1,self.isHide=!0,$(".top-nav").removeClass("hide"),$("#app-cierre").removeClass("hide")},print:function(){print()}}}),closeReport=new Vue({el:"#cierres",data:{table:"",tableHTML:"",hasTotals:!1,totals:!1,between:{first_date:"",second_date:"",text:""}},mounted:function(){"informes"==currentPage&&this.getReport()},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{getReport:function(){var e=this,t="data="+JSON.stringify(this.between);axios.post(BASE_URL+"caja/get_cierres/true",t).then(function(t){e.fillTable(t.data.content),e.hasTotals=!0,e.totals=t.data.acum})},fillTable:function(e){fillBSTable("#cierres-table",e)}}}),expensesReport=new Vue({el:"#gastos",data:{table:"",tableHTML:"",total:"",between:{first_date:"",second_date:"",text:""}},mounted:function(){"informes"==currentPage&&this.getReport()},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{getReport:function(){var e=this,t="data="+JSON.stringify(this.between);axios.post(BASE_URL+"caja/get_gastos/true",t).then(function(t){e.fillTable(t.data.content),e.total=t.data.acum})},fillTable:function(e){fillBSTable("#gastos-table",e)}}}),listExtras="",reciboReset={id_pago:0,id_contrato:0,id_servicio:0,id_empleado:0,fecha_pago:"",concepto:"extra",detalles_extra:"",cuota:"",mora:"",monto_extra:"",total:"",estado:"",fecha_limite:"",complete_date:"",descuento:"",razon_descuento:"",deuda:"",abono_a:"",tipo:"",generado:""},appPagoExtra=new Vue({el:"#app-pago-extra",data:{recibo:{id_pago:0,id_contrato:0,id_servicio:0,id_empleado:0,fecha_pago:"dd/mm/yyyy",concepto:"extra",detalles_extra:"",cuota:"",mora:"",monto_extra:"",total:"",estado:"",fecha_limite:"",complete_date:"",descuento:"",razon_descuento:"",deuda:"",abono_a:"",tipo:"",generado:""},visible:!1,pagado:!1,extra:{controls:"",id_extra:"",id_servicio:"",checkbox:"",fecha:"",concepto:"",ultimo_pago:"",monto_pagado:"",monto_total:"",estado:""},firstControls:{hide:!1}},filters:{},computed:{url_recibo:function(){return BASE_URL+"process/getrecibo/"+this.recibo.id_pago},hide_recibo:function(){return"pagado"!=this.recibo.estado&&(this.hide_recibo=!0)},isPagado:function(){return this.pagado="pagado"==this.recibo.estado,this.pagado}},methods:{goBack:function(){extraTable.el.parents(".bootstrap-table").removeClass("hide"),this.visible=!1,this.extra={concepto:""},extraTable.refresh(listExtras)},generatePayment:function(){if(this.pagado||0==this.recibo.id_pago){var e="data="+JSON.stringify(this.extra),t=axios.post(BASE_URL+"extra/generate_extra_payment",e);t.then(function(e){var t=e.data;displayMessage(t.mensaje),selectExtraPayment.html(t.pagos).change()}),t.catch(function(){})}else displayMessage(MESSAGE_INFO+" Debe realizar este pago antes de crear uno nuevo")},getPayment:function(e){var t="data="+JSON.stringify({id_pago:e}),a=this;axios.post(BASE_URL+"extra/get_payment",t).then(function(e){var t=e.data;t.recibo&&(a.recibo=t.recibo)})},applyPayment:function(){0!=this.recibo.id_pago?this.sender("extra/apply_payment"):displayMessage(MESSAGE_INFO+" Debe generar un pago primero")},editPayment:function(){this.sender("extra/edit_payment")},sender:function(e){var t=this,a=this.prepareData(),o=a.info,s=a.data,i="data="+JSON.stringify(s)+"&info="+JSON.stringify(o),n=axios.post(BASE_URL+e,i);n.then(function(e){var a=e.data;listExtras=a.extras,t.getPayments(t.extra.id_extra),displayMessage(a.mensaje)}),n.catch(function(e){console.log(e)})},prepareData:function(e){return{data:{concepto:"extra -",detalles_extra:(e=this.recibo).detalles_extra,fecha_pago:e.fecha_pago,cuota:e.cuota,total:e.cuota,estado:"pagado",tipo:e.tipo,generado:!0},info:{id_extra:e.id_extra,id_pago:e.id_pago}}},getPayments:function(e){var t=this,a="data="+JSON.stringify({id_extra:e});axios.post(BASE_URL+"extra/get_extra_payment_of",a).then(function(e){var a=e.data;a.pagos||(t.recibo=reciboReset),selectExtraPayment.html(a.pagos).change()})},deletePayment:function(){var e=this,t=this.recibo,a={id_extra:t.id_extra,id_pago:t.id_pago},o="data="+JSON.stringify(a),s=axios.post(BASE_URL+"extra/delete_payment",o);s.then(function(t){var a=t.data;displayMessage(a.mensaje),e.getPayments(e.extra.id_extra)}),s.catch(function(e){console.log(e)})}}});bus.$on("row-selected",function(e){extraTable.el.parents(".bootstrap-table").addClass("hide"),appPagoExtra.visible=!0,appPagoExtra.extra=e,listExtras=extraTable.el.find("tbody").html(),appPagoExtra.getPayments(e.id_extra)});var selectExtraPayment=$("#select-extra-payment");selectExtraPayment.on("change",function(){var e=selectExtraPayment.val();appPagoExtra.getPayment(e)});var extraSection=new Vue({el:"#extra-section",data:{content:"",search:{text:"",state:"activo"},totales:{pagado:0,pendiente:0,total_vendido:0},tableId:"#extra-table-full"},mounted:function(){"extras"==currentPage&&this.getData()},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{filter:function(e){filterBSTable(this.tableId,this.filterValue)},getData:function(){var e=this,t="data="+JSON.stringify(this.search);axios.post(BASE_URL+"extra/get_all",t).then(function(t){e.fillTable(t.data.content),e.totales=t.data.totales})},fillTable:function(e){fillBSTable("#extra-table-full",e)}}}),configMessage={email:"",password:"",device_id:"",country_code:"",send_at:"1 second",expires_at:"1 hour"},configMessagesForm=new Vue({el:"#message-settings-section",data:{config:configMessage},mounted:function(){"administrador"==currentPage&&this.getConfig()},methods:{confirmPhone:function(){},getConfig:function(){var e,t=this;(e=axios.get(BASE_URL+"messages/get_config")).then(function(e){e.data.config&&(t.config=e.data.config)}),e.catch(function(e){console.log(e)})},saveSettings:function(e){var t,a,o;t=this.config,a="data="+JSON.stringify(t),(o=axios.post(BASE_URL+"messages/save_config",a)).then(function(e){displayMessage(e.data.mensaje)}),o.catch(function(e){console.log(e)})}}}),sendMessageApp=new Vue({el:"#send-message-modal",data:{hide_clients:!0,hide_numbers:!0,message_data:{tipo:"",clientes:"",numeros:"",mensaje:""}},mounted:function(){this.initSelect2()},computed:{letters_count:function(){return this.message_data.mensaje.length}},methods:{sendMessage:function(){var e,t;isEmpty([this.message_data.tipo,this.message_data.mensaje])?swal("Campos Requeridos","Por favor selecciones el tipo de mensaje y escriba su mensaje"):(e="data="+JSON.stringify(this.message_data),(t=axios.post(BASE_URL+"messages/send_message",e)).then(function(e){displayMessage(e.data.mensaje)}),t.catch(function(e){console.log(e)}))},initSelect2:function(){var e={dropdownParent:$("#send-message-modal")},t=$("#message-type");t.select2(e);var a={clients:$("#clients-for-message").select2({dropdownParent:$("#send-message-modal"),ajax:{url:BASE_URL+"messages/search_clients",dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:30*t.page<e.total_count}}},cache:!0}}),messageType:t};this.selec2Liteners(a)},selec2Liteners:function(e){var t=this;e.messageType.on("select2:select",function(e){e.params.data.element.attributes;var a=e.params.data.id;t.message_data.tipo=a,"otros"==a?(t.hide_clients=!0,t.hide_numbers=!1):"personalizado"==a?(t.hide_numbers=!0,t.hide_clients=!1):(t.hide_clients=!0,t.hide_numbers=!0)}),e.messageType.select2("val","mora"),e.clients.on("select2:select",function(a){for(var o=e.clients.select2("data"),s=[],i=0;i<o.length;i++)s.push({nombre_completo:o[i].text,celular:o[i].id});t.message_data.clientes=s})}}}),paymentsReport=new Vue({el:"#recibos",data:{table:"",tableHTML:"",total:"",between:{first_date:"",second_date:"",text:""}},mounted:function(){"notificaciones"==currentPage&&this.getReport()},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{getReport:function(){var e=this,t="data="+JSON.stringify(this.between);axios.post(BASE_URL+"payment/get_receipts/",t).then(function(t){e.fillTable(t.data.content),e.total=t.data.acum})},fillTable:function(e){var t=$("#receipts-table");t.bootstrapTable("destroy"),t.find("tbody").html(e),t.bootstrapTable(),t.find("tbody").css({display:"table-row-group"})}}});"reportes"==currentPage&&fetchReportData(),window.chartColors={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"};var meses=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],colors={green:"rgba(0,230,118 ,1)",blueGreen:"rgba(29,233,182 ,1)",blue7:"rgba(25,118,210 ,1)",lightBlue6:"rgba(3,155,229 ,1)",red3:"rgba(229,115,115 ,1)",deepOrange4:"rgba(255,112,67 ,1)"},cierre={autor:"",banco:0,dinero_real_en_caja:0,fecha:"",pago_de_facturas:0,pagos_de_extras:0,pagos_en_efectivo:0,pagos_via_banco:0,total_de_ingresos:0,total_descuadre:0},appVistaDetalle=new Vue({el:"#app-vista-detalle",data:{cierre:cierre},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{print:function(){print()}}}),RetirementReport=new Vue({el:"#retiros",data:{table:"",tableHTML:"",between:{first_date:"",second_date:""}},mounted:function(){"notificaciones"==currentPage&&this.getReport()},methods:{getReport:function(){var e=this,t="data="+JSON.stringify(this.between);axios.post(BASE_URL+"contract/getCancelations/",t).then(function(t){e.fillTable(t.data.content)})},fillTable:function(e){var t=$("#cancelation-table");t.bootstrapTable("destroy"),t.find("tbody").html(e),t.bootstrapTable(),t.find("tbody").css({display:"table-row-group"})}}}),ticketListView=new Vue({el:"#averias-list-view",data:{dataSearch:{text:"",state:"por reparar"},tickets:[],hide:!1},mounted:function(){this.itemClickListener();var e=this;busAveria.$on("tickets-listed",function(){e.itemClickListener()})},methods:{search:function(){var e="data="+JSON.stringify(this.dataSearch),t=axios.post(BASE_URL+"api/averias/search",e);t.then(function(e){this.fillAveriasList(e.data)}),t.catch(function(){console.error(res.data.mensaje)})},fillAveriasList:function(e){$("#averia-item-list").html(e),ticketListView.itemClickListener()},itemClickListener:function(){$("#averias-list-view .averia-item").on("click",function(){var e=$(this).find(".code").text().trim();ticketView.getTicket(e)})}}}),emptyTicket={id_averia:"",id_cliente:"",cliente:"",direccion:"",descripcion:"",celular:"",fecha:"",estado:"",fecha_reparacion:"",tecnico:"",codigo:""},ticketView=new Vue({el:"#ticket-view",data:{classes:{hide:!0},mode:{newComment:!1,edit:!1},new_comment:"",comments:[],ticket:emptyTicket},created:function(){$("#ticket-view").removeClass("invisible")},methods:{getTicket:function(e){var t="data="+JSON.stringify({id_averia:e});axios.post(BASE_URL+"api/averias/get_averia",t).then(function(e){var t=e.data;ticketView.classes.hide=!1,ticketListView.hide=!0,ticketView.ticket=t.ticket,ticketView.comments=t.comments})},quit:function(){this.ticket=emptyTicket,this.comments=null,this.classes.hide=!0,this.closeCommentMode(),ticketListView.hide=!1},print:function(){print()},startComment:function(){this.mode.newComment=!0},addComment:function(){var e=getForm({id_averia:this.ticket.id_averia,descripcion:this.new_comment}),t=this;axios.post(BASE_URL+"api/averias/add_comment",e).then(function(e){t.getComments(),t.closeCommentMode(),displayMessage(e.data.mensaje)})},_deleteComment:function(e){var t=e.target.parentNode.parentNode,a=e.target.parentNode.attributes["data-id"].value,o=this;t.classList.add("to-delete"),swal({title:"Está Seguro?",text:"Seguro de que eliminar este reporte?",type:"warning",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then(function(){o.deleteComment(a),t.classList.remove("to-delete")}).catch(function(){t.classList.remove("to-delete")})},deleteComment:function(e){var t=this,a=getForm({id_reporte:e});axios.post(BASE_URL+"api/averias/delete_comment",a).then(function(e){t.getComments(),displayMessage(e.data.mensaje)})},editComment:function(){},closeCommentMode:function(){this.mode.newComment=!1,this.new_comment=""},getComments:function(){var e=getForm({id_averia:this.ticket.id_averia}),t=this;axios.post(BASE_URL+"api/averias/get_comments",e).then(function(e){t.comments=e.data.comments})},updateDescription:function(){this.updateTicket(["id_averia","descripcion","tecnico","estado","fecha_reparacion"])},updateState:function(){"por reparar"==this.ticket.estado?this.ticket.fecha_reparacion="":this.ticket.fecha_reparacion=moment().format("YYYY-MM-DD")},updateTicket:function(e){this.closeEditMode();var t=getForm(this.getFields(e));axios.post(BASE_URL+"api/averias/update_averia",t).then(function(e){ticketListView.search(),displayMessage(e.data.mensaje)})},deleteTicket:function(){console.info("deleted")},closeEditMode:function(){this.mode.edit=!1},enterEditMode:function(){this.mode.edit=!0},getFields:function(e){var t={},a=this;return e.forEach(function(e){t[e]=a.ticket[e]},this),t}}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkEtTGliLmpzIiwiY2llcnJlQ2FqYS5qcyIsIlJlcG9ydGVzR3JhZmljb3MuanMiLCJBY291bnQuanMiLCJjbG9zZVJlcG9ydC4xLmpzIiwiRXhwZW5zZXNSZXBvcnQuanMiLCJleHRyYXMuanMiLCJFeHRyYVNlY3Rpb24uanMiLCJNZXNzYWdlcy5qcyIsIlBheW1lbnRzLmpzIiwiUmV0aXJlbWVudHMuanMiLCJUaWNrZXRzLmpzIl0sIm5hbWVzIjpbImZpbGxCU1RhYmxlIiwidGFibGVJZCIsImNvbnRlbnQiLCIkdGFibGUiLCIkIiwiYm9vdHN0cmFwVGFibGUiLCJmaW5kIiwiaHRtbCIsImFkZENsYXNzIiwiY3NzIiwiZGlzcGxheSIsImZpbHRlckJTVGFibGUiLCJzdGF0ZSIsImVzdGFkbyIsImlzQ3VycmVudFBhZ2UiLCJwYWdlTmFtZSIsImdldEN1cnJlbnRQYWdlIiwiY3VycmVudFBhZ2UiLCJ0ZXh0Iiwic3BsaXQiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJjaWVycmVDYWphRnVuY3Rpb25zIiwibm93IiwibW9tZW50IiwiZm9ybWF0IiwidG90YWxlcyIsInRvdGFsMSIsInRvdGFsNSIsInRvdGFsMTAiLCJ0b3RhbDIwIiwidG90YWwyNSIsInRvdGFsNTAiLCJ0b3RhbDEwMCIsInRvdGFsMjAwIiwidG90YWw1MDAiLCJ0b3RhbDEwMDAiLCJ0b3RhbDIwMDAiLCJnYXN0b3MiLCJmZWNoYSIsImRlc2NyaXBjaW9uIiwibW9udG8iLCJpZF9nYXN0byIsImF1dG9yIiwiYXBwQ2llcnJlIiwiVnVlIiwiZWwiLCJkYXRhIiwiaXNIaWRlIiwiZGF0YV9jaWVycmUiLCJwYWdvc19mYWN0dXJhcyIsInBhZ29zX2V4dHJhcyIsInBhZ29zX2VmZWN0aXZvIiwicGFnb3NfYmFuY28iLCJ0b3RhbF9pbmdyZXNvcyIsImVmZWN0aXZvX2NhamEiLCJ0b3RhbF9kZXNjdWFkcmUiLCJ0b3RhbF9nYXN0b3MiLCJiYW5jbyIsImNvbnRlbyIsInN1bWEiLCJnYXN0byIsIm1vdW50ZWQiLCJ0aGlzIiwiZ2V0R2FzdG9zIiwic2V0SW5ncmVzb3MiLCJjcmVhdGVkIiwidmlzaWJpbGl0eSIsImZpbHRlcnMiLCJjdXJyZW5jeUZvcm1hdCIsIm51bWJlciIsIkN1cnJlbmN5Rm9ybWF0IiwibWV0aG9kcyIsImNoYW5nZVRvdGFsIiwiZSIsInVuaXQiLCJzcmNFbGVtZW50IiwiYXR0cmlidXRlcyIsInZhbHVlIiwiY2FudGlkYWQiLCJhZGRHYXN0byIsImZvcm0iLCJKU09OIiwic3RyaW5naWZ5Iiwic2VuZCIsImF4aW9zIiwicG9zdCIsIkJBU0VfVVJMIiwidGhlbiIsInJlc3BvbnNlIiwiZGlzcGxheU1lc3NhZ2UiLCJtZW5zYWplIiwiZmlsbEdhc3RvcyIsInNldEdhc3RvVG90YWwiLCJjYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImdhc3Rvc19zZXJ2aWRvciIsIm1vZGUiLCJsZW5ndGgiLCJwdXNoIiwicGFyc2UiLCJ0b3RhbEdhc3RvcyIsImdldEdhc3RvIiwiY29ubmVjdEFuZFNlbmQiLCJkZWxldGVHYXN0byIsImNhbGxlciIsInRhcmdldCIsImxvY2FsbmFtZSIsInBhcmVudEVsZW1lbnQiLCJpZCIsInN3YWwiLCJ0aXRsZSIsInR5cGUiLCJzaG93Q2FuY2VsQnV0dG9uIiwiY29uZmlybUJ1dHRvblRleHQiLCJjYW5jZWxCdXR0b25UZXh0Iiwic2VsZiIsInBhcnNlRmxvYXQiLCJjZXJyYXJDYWphIiwiY2llcnJlIiwid2luZG93IiwiY2VycmFyIiwiYXBwU3VtbWFyeVZpZXciLCJjb21wdXRlZCIsImdldFRvdGFsIiwidCIsInZhbG9yZXMiLCJpIiwic3VtYXIiLCJ0b0ZpeGVkIiwiZGVjaW1hbHMiLCJmb3JFYWNoIiwiZmllbGQiLCJmZXRjaFJlcG9ydERhdGEiLCJnZXQiLCJjYWphV2Vla0NoYXJ0IiwiYXBwVmlzdGFEZXRhbGxlIiwieWVhciIsInJlcyIsInllYXJDaGFydCIsImdhbmFuY2lhcyIsImNhbnZhcyIsImNoYXJ0T3B0aW9ucyIsImxhYmVscyIsImRhdGFzZXRzIiwibGFiZWwiLCJ2YWx1ZXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvcnMiLCJsaWdodEJsdWU2IiwiYmx1ZTciLCJjaGFydENvbG9ycyIsImJsdWUiLCJncmVlbiIsImJsdWVHcmVlbiIsInJlZCIsIm9wdGlvbnMiLCJyZXNwb25zaXZlIiwibWFpbnRhaW5Bc3BlY3RSYXRpbyIsInNjYWxlcyIsInlBeGVzIiwidGlja3MiLCJjYWxsYmFjayIsImluZGV4IiwieEF4ZXMiLCJyZXBsYWNlIiwidG9vbHRpcHMiLCJjYWxsYmFja3MiLCJ0b29sdGlwSXRlbSIsInlMYWJlbCIsIkNoYXJ0IiwiJGNhbnZhcyIsIm1lc2VzIiwiYm9yZGVyQ29sb3IiLCJmaWxsIiwiYWNvdW50VmlldyIsInVzZXIiLCJ1c2VyX2lkIiwibmlja25hbWUiLCJuYW1lIiwibGFzdG5hbWUiLCJkbmkiLCJlbWFpbCIsImlzQ2hhbmdlUGFzc3dvcmQiLCJjdXJyZW50UGFzc3dvcmQiLCJuZXdQYXNzd29yZCIsInBhc3N3b3JkQ29uZmlybSIsInN0YXRlcyIsImhhcy1lcnJvciIsImhhcy1zdWNjZXNzIiwiYnV0dG9uIiwiZ2V0VXNlciIsInZhbCIsInVwZGF0ZUluZm8iLCJjaGFuZ2VQYXNzd29yZCIsImNoYW5nZUVtYWlsIiwiY3VycmVudF9wYXNzd29yZCIsIm5ld19wYXNzd29yZCIsIm1lc3NhZ2UiLCJsb2NhdGlvbiIsImlucHV0IiwicGFzc3dvcmQiLCJjb25maXJtUGFzc3dvcmRTZXJ2ZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImlzX2NvcnJlY3QiLCJjb25maXJtUGFzc3dvcmQiLCJjaGVja1Bhc3N3b3JkIiwic2V0U3RhdGVzIiwic3VjY2VzcyIsImNvbXBvbmVudCIsInRlbXBsYXRlIiwicHJvcHMiLCJnb0JhY2siLCJyZW1vdmVDbGFzcyIsImJhY2siLCJsaW5rIiwiZm93YXJkIiwic3BhbmlzaERhdGVGb3JtYXQiLCJkYXRlIiwibG9jYWxlIiwicHJpbnQiLCJjbG9zZVJlcG9ydCIsInRhYmxlIiwidGFibGVIVE1MIiwiaGFzVG90YWxzIiwidG90YWxzIiwiYmV0d2VlbiIsImZpcnN0X2RhdGUiLCJzZWNvbmRfZGF0ZSIsImdldFJlcG9ydCIsImZpbGxUYWJsZSIsImFjdW0iLCJleHBlbnNlc1JlcG9ydCIsInRvdGFsIiwibGlzdEV4dHJhcyIsInJlY2lib1Jlc2V0IiwiaWRfcGFnbyIsImlkX2NvbnRyYXRvIiwiaWRfc2VydmljaW8iLCJpZF9lbXBsZWFkbyIsImZlY2hhX3BhZ28iLCJjb25jZXB0byIsImRldGFsbGVzX2V4dHJhIiwiY3VvdGEiLCJtb3JhIiwibW9udG9fZXh0cmEiLCJmZWNoYV9saW1pdGUiLCJjb21wbGV0ZV9kYXRlIiwiZGVzY3VlbnRvIiwicmF6b25fZGVzY3VlbnRvIiwiZGV1ZGEiLCJhYm9ub19hIiwidGlwbyIsImdlbmVyYWRvIiwiYXBwUGFnb0V4dHJhIiwicmVjaWJvIiwidmlzaWJsZSIsInBhZ2FkbyIsImV4dHJhIiwiY29udHJvbHMiLCJpZF9leHRyYSIsImNoZWNrYm94IiwidWx0aW1vX3BhZ28iLCJtb250b19wYWdhZG8iLCJtb250b190b3RhbCIsImZpcnN0Q29udHJvbHMiLCJoaWRlIiwidXJsX3JlY2libyIsImhpZGVfcmVjaWJvIiwiaXNQYWdhZG8iLCJleHRyYVRhYmxlIiwicGFyZW50cyIsInJlZnJlc2giLCJnZW5lcmF0ZVBheW1lbnQiLCJzZWxlY3RFeHRyYVBheW1lbnQiLCJwYWdvcyIsImNoYW5nZSIsIk1FU1NBR0VfSU5GTyIsImdldFBheW1lbnQiLCJhcHBseVBheW1lbnQiLCJzZW5kZXIiLCJlZGl0UGF5bWVudCIsImVuZHBvaW50IiwicHJlcGFyZWREYXRhIiwicHJlcGFyZURhdGEiLCJpbmZvIiwiZXh0cmFzIiwiZ2V0UGF5bWVudHMiLCJkZWxldGVQYXltZW50IiwiYnVzIiwiJG9uIiwicm93Iiwib24iLCJleHRyYVNlY3Rpb24iLCJzZWFyY2giLCJwZW5kaWVudGUiLCJ0b3RhbF92ZW5kaWRvIiwiZ2V0RGF0YSIsImZpbHRlciIsImZpbHRlclZhbHVlIiwiY29uZmlnTWVzc2FnZSIsImRldmljZV9pZCIsImNvdW50cnlfY29kZSIsInNlbmRfYXQiLCJleHBpcmVzX2F0IiwiY29uZmlnTWVzc2FnZXNGb3JtIiwiY29uZmlnIiwiZ2V0Q29uZmlnIiwiY29uZmlybVBob25lIiwic2F2ZVNldHRpbmdzIiwiZXJyIiwic2VuZE1lc3NhZ2VBcHAiLCJoaWRlX2NsaWVudHMiLCJoaWRlX251bWJlcnMiLCJtZXNzYWdlX2RhdGEiLCJjbGllbnRlcyIsIm51bWVyb3MiLCJpbml0U2VsZWN0MiIsImxldHRlcnNfY291bnQiLCJzZW5kTWVzc2FnZSIsImlzRW1wdHkiLCJkcm9wZG93blBhcmVudCIsInNlbGVjdE1lc3NhZ2VUeXBlIiwic2VsZWN0MiIsInNlbGVjdHMiLCJjbGllbnRzIiwiYWpheCIsInVybCIsImRhdGFUeXBlIiwiZGVsYXkiLCJwYXJhbXMiLCJxIiwidGVybSIsInBhZ2UiLCJwcm9jZXNzUmVzdWx0cyIsInJlc3VsdHMiLCJpdGVtcyIsInBhZ2luYXRpb24iLCJtb3JlIiwidG90YWxfY291bnQiLCJjYWNoZSIsIm1lc3NhZ2VUeXBlIiwic2VsZWMyTGl0ZW5lcnMiLCJlbGVtZW50Iiwibm9tYnJlX2NvbXBsZXRvIiwiY2VsdWxhciIsInBheW1lbnRzUmVwb3J0Iiwib3JhbmdlIiwieWVsbG93IiwicHVycGxlIiwiZ3JleSIsInJlZDMiLCJkZWVwT3JhbmdlNCIsImRpbmVyb19yZWFsX2VuX2NhamEiLCJwYWdvX2RlX2ZhY3R1cmFzIiwicGFnb3NfZGVfZXh0cmFzIiwicGFnb3NfZW5fZWZlY3Rpdm8iLCJwYWdvc192aWFfYmFuY28iLCJ0b3RhbF9kZV9pbmdyZXNvcyIsIlJldGlyZW1lbnRSZXBvcnQiLCJ0aWNrZXRMaXN0VmlldyIsImRhdGFTZWFyY2giLCJ0aWNrZXRzIiwiaXRlbUNsaWNrTGlzdGVuZXIiLCJidXNBdmVyaWEiLCJmaWxsQXZlcmlhc0xpc3QiLCIkY29udGVudCIsImlkX2F2ZXJpYSIsInRpY2tldFZpZXciLCJnZXRUaWNrZXQiLCJlbXB0eVRpY2tldCIsImlkX2NsaWVudGUiLCJjbGllbnRlIiwiZGlyZWNjaW9uIiwiZmVjaGFfcmVwYXJhY2lvbiIsInRlY25pY28iLCJjb2RpZ28iLCJjbGFzc2VzIiwibmV3Q29tbWVudCIsImVkaXQiLCJuZXdfY29tbWVudCIsImNvbW1lbnRzIiwidGlja2V0IiwicXVpdCIsImNsb3NlQ29tbWVudE1vZGUiLCJzdGFydENvbW1lbnQiLCJhZGRDb21tZW50IiwiZ2V0Rm9ybSIsImdldENvbW1lbnRzIiwiX2RlbGV0ZUNvbW1lbnQiLCJjb21tZW50SXRlbSIsInBhcmVudE5vZGUiLCJpZENvbW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJkZWxldGVDb21tZW50IiwicmVtb3ZlIiwiaWRfcmVwb3J0ZSIsImVkaXRDb21tZW50IiwidXBkYXRlRGVzY3JpcHRpb24iLCJ1cGRhdGVUaWNrZXQiLCJ1cGRhdGVTdGF0ZSIsImZpZWxkcyIsImNsb3NlRWRpdE1vZGUiLCJnZXRGaWVsZHMiLCJkZWxldGVUaWNrZXQiLCJlbnRlckVkaXRNb2RlIiwic2VsZWN0ZWRGaWVsZHMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQUFBLFlBQUFDLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUMsRUFBQUgsR0FDQUUsRUFBQUUsZUFBQSxXQUNBRixFQUFBRyxLQUFBLFNBQUFDLEtBQUFMLEdBQ0FDLEVBQUFFLGlCQUNBRCxFQUFBLHNCQUFBSSxTQUFBLFFBQ0FMLEVBQUFHLEtBQUEsU0FBQUcsS0FBQUMsUUFBQSxvQkFDQVAsRUFBQUssU0FBQSxjQUlBLFNBQUFHLGNBQUFWLEVBQUFXLEdBQ0FSLEVBQUFILEdBQUFJLGVBQUEsWUFDQVEsT0FBQUQsSUNiQSxTQUFBRSxjQUFBQyxHQUNBLE9BQUFDLGtCQUFBRCxFQU1BLFNBQUFDLGlCQUNBLElBQUFDLEVBQUFiLEVBQUEsU0FBQWMsT0FBQUMsTUFBQSxLQUVBLE9BREFGLEVBQUFBLEVBQUEsR0FBQUcsY0FBQUMsT0FRQSxTQUFBQyxzQkFtUEEsU0FBQUMs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R0FzSCxjQUFBLFdBQ0F4VixLQUFBb0MsS0FBQTRSLE1BQUEsR0FHQTJCLGNBQUEsV0FDQTNWLEtBQUFvQyxLQUFBNFIsTUFBQSxHQUdBeUIsVUFBQSxTQUFBRixHQUNBLElBQUFLLEtBQ0FyUyxFQUFBdkQsWUFDQXVWLEVBQUFqUixRQUFBLFNBQUFDLEdBQ0FxUixFQUFBclIsR0FBQWhCLEVBQUE0USxPQUFBNVAsSUFDQXZFIiwiZmlsZSI6ImNvbXBvbmVudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBmaWxsQlNUYWJsZSh0YWJsZUlkLCBjb250ZW50KSB7XHJcbiAgdmFyICR0YWJsZSA9ICQodGFibGVJZCk7XHJcbiAgJHRhYmxlLmJvb3RzdHJhcFRhYmxlKCdkZXN0cm95Jyk7XHJcbiAgJHRhYmxlLmZpbmQoJ3Rib2R5JykuaHRtbChjb250ZW50KTtcclxuICAkdGFibGUuYm9vdHN0cmFwVGFibGUoKTtcclxuICAkKCcucHVsbC1yaWdodC5zZWFyY2gnKS5hZGRDbGFzcygnaGlkZScpXHJcbiAgJHRhYmxlLmZpbmQoJ3Rib2R5JykuY3NzKHtkaXNwbGF5OlwidGFibGUtcm93LWdyb3VwXCJ9KTtcclxuICAkdGFibGUuYWRkQ2xhc3MoJ2lubmVydGFibGUnKTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbHRlckJTVGFibGUodGFibGVJZCxzdGF0ZSkge1xyXG4gICQodGFibGVJZCkuYm9vdHN0cmFwVGFibGUoJ2ZpbHRlckJ5Jyx7XHJcbiAgICBlc3RhZG86IHN0YXRlXHJcbiAgfSk7XHJcbn0iLCIgIGZ1bmN0aW9uIGlzQ3VycmVudFBhZ2UocGFnZU5hbWUpe1xyXG4gICAgaWYoZ2V0Q3VycmVudFBhZ2UoKSA9PSBwYWdlTmFtZSl7XHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9ICBcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldEN1cnJlbnRQYWdlKCl7XHJcbiAgICB2YXIgY3VycmVudFBhZ2UgPSAkKFwidGl0bGVcIikudGV4dCgpLnNwbGl0KFwiIFwiKTtcclxuICAgIGN1cnJlbnRQYWdlID0gY3VycmVudFBhZ2VbNF0udG9Mb3dlckNhc2UoKS50cmltKCk7XHJcbiAgICByZXR1cm4gY3VycmVudFBhZ2U7XHJcbiAgfVxyXG5cclxuICBpZihpc0N1cnJlbnRQYWdlKFwiY2llcnJlXCIpIHx8IGlzQ3VycmVudFBhZ2UoXCJjaWVycmUyXCIpKXtcclxuICAgIGNpZXJyZUNhamFGdW5jdGlvbnMoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNpZXJyZUNhamFGdW5jdGlvbnMoKXtcclxuICAgIFxyXG4gICAgdmFyIHRvdGFsZXMgPSB7XHJcbiAgICAgICAgICB0b3RhbDE6IDAsXHJcbiAgICAgICAgICB0b3RhbDU6IDAsXHJcbiAgICAgICAgICB0b3RhbDEwOiAwLFxyXG4gICAgICAgICAgdG90YWwyMDogMCxcclxuICAgICAgICAgIHRvdGFsMjU6IDAsXHJcbiAgICAgICAgICB0b3RhbDUwOiAwLFxyXG4gICAgICAgICAgdG90YWwxMDA6IDAsXHJcbiAgICAgICAgICB0b3RhbDIwMDogMCxcclxuICAgICAgICAgIHRvdGFsNTAwOiAwLFxyXG4gICAgICAgICAgdG90YWwxMDAwOiAwLFxyXG4gICAgICAgICAgdG90YWwyMDAwOiAwXHJcbiAgICAgICAgfVxyXG5cclxuICAgIHZhciBnYXN0byAgID0ge1xyXG4gICAgICAgICdmZWNoYSc6ICcnLFxyXG4gICAgICAgICdkZXNjcmlwY2lvbic6ICcnLFxyXG4gICAgICAgICdtb250byc6ICcnLFxyXG4gICAgICB9XHJcblxyXG4gICAgdmFyIGdhc3RvcyAgPSBbe2ZlY2hhOiBub3coKSxkZXNjcmlwY2lvbjpcImhvbGFcIixtb250bzogMjAwMCwgaWRfZ2FzdG86IDF9XVxyXG4gICAgdmFyIGF1dG9yICAgPSAkKCcjYXV0b3ItY2llcnJlJykudGV4dCgpLnRyaW0oKVxyXG5cclxuICAgIHZhciBhcHBDaWVycmUgPSBuZXcgVnVlKHtcclxuICAgICAgZWw6ICcjYXBwLWNpZXJyZScsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICBpc0hpZGU6IGZhbHNlLFxyXG4gICAgICAgIGZlY2hhOiBub3coKSxcclxuICAgICAgICBkYXRhX2NpZXJyZTp7XHJcbiAgICAgICAgICBhdXRvcjogYXV0b3IsXHJcbiAgICAgICAgICBwYWdvc19mYWN0dXJhczogMCxcclxuICAgICAgICAgIHBhZ29zX2V4dHJhczogMCxcclxuICAgICAgICAgIHBhZ29zX2VmZWN0aXZvOiAwLFxyXG4gICAgICAgICAgcGFnb3NfYmFuY286IDAsXHJcbiAgICAgICAgICB0b3RhbF9pbmdyZXNvczogMCxcclxuICAgICAgICAgIGVmZWN0aXZvX2NhamE6IDAsXHJcbiAgICAgICAgICB0b3RhbF9kZXNjdWFkcmU6IDAsXHJcbiAgICAgICAgICB0b3RhbF9nYXN0b3M6IDAsXHJcbiAgICAgICAgICBiYW5jbzogMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udGVvOnRvdGFsZXMsXHJcbiAgICAgICAgc3VtYTogMCxcclxuICAgICAgICBnYXN0bzogZ2FzdG8sXHJcbiAgICAgICAgZ2FzdG9zOiBnYXN0b3NcclxuICAgICAgfSxcclxuXHJcbiAgICAgIG1vdW50ZWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuZ2V0R2FzdG9zKCk7XHJcbiAgICAgICAgdGhpcy5zZXRJbmdyZXNvcygpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgY3JlYXRlZDogZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCcud2lsbC1sb2FkJykuY3NzKHt2aXNpYmlsaXR5OlwidmlzaWJsZVwifSlcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGZpbHRlcnM6IHtcclxuICAgICAgICBjdXJyZW5jeUZvcm1hdDogZnVuY3Rpb24obnVtYmVyKXtcclxuICAgICAgICAgIHJldHVybiBDdXJyZW5jeUZvcm1hdChudW1iZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIG1ldGhvZHM6e1xyXG4gICAgICAgIGNoYW5nZVRvdGFsOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgIHZhciB1bml0ID0gZS5zcmNFbGVtZW50LmF0dHJpYnV0ZXNbJ2RhdGEtdW5pdCddLnZhbHVlXHJcbiAgICAgICAgICB2YXIgY2FudGlkYWQgPSBlLnNyY0VsZW1lbnQudmFsdWVcclxuICAgICAgICAgIHZhciB0b3RhbCA9IGNhbnRpZGFkICogdW5pdFxyXG4gICAgICAgICAgdG90YWxlc1sndG90YWwnKyB1bml0XSA9IGNhbnRpZGFkICogdW5pdCAqIDEuMDAgICAgXHJcbiAgICAgICAgfSwgXHJcblxyXG4gICAgICAgIGFkZEdhc3RvOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICB2YXIgZ2FzdG8gPSB0aGlzLmdhc3RvO1xyXG4gICAgICAgICAgZ2FzdG8uZmVjaGEgPSBub3coKTtcclxuICAgICAgICAgIGZvcm0gPSAnZGF0YT0nKyBKU09OLnN0cmluZ2lmeShnYXN0byk7XHJcbiAgICAgICAgICB2YXIgc2VuZCA9IGF4aW9zLnBvc3QoIEJBU0VfVVJMICsgJ2NhamEvYWRkX2dhc3RvJyxmb3JtKVxyXG4gICAgICAgICAgc2VuZC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhXHJcbiAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlKGRhdGEubWVuc2FqZSlcclxuICAgICAgICAgICAgYXBwQ2llcnJlLmZpbGxHYXN0b3MoZGF0YS5nYXN0b3MsXCJub3JtYWxcIilcclxuICAgICAgICAgICAgYXBwQ2llcnJlLnNldEdhc3RvVG90YWwoZGF0YS50b3RhbF9nYXN0b3MpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHNlbmQuY2F0Y2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZmlsbEdhc3RvczogZnVuY3Rpb24oZ2FzdG9zX3NlcnZpZG9yLG1vZGUpe1xyXG4gICAgICAgICAgaWYobW9kZSA9PSBcImdyb3VwXCIpe1xyXG4gICAgICAgICAgICBpZihnYXN0b3Nfc2Vydmlkb3IgIT0gbnVsbCB8fCBnYXN0b3Nfc2Vydmlkb3IubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgYXBwQ2llcnJlLmdhc3RvcyA9IGdhc3Rvc19zZXJ2aWRvcjtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgYXBwQ2llcnJlLmdhc3RvcyA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgYXBwQ2llcnJlLmdhc3Rvcy5wdXNoKEpTT04ucGFyc2UoZ2FzdG9zX3NlcnZpZG9yKVswXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0R2FzdG9Ub3RhbDogZnVuY3Rpb24odG90YWxHYXN0b3Mpe1xyXG4gICAgICAgICAgdGhpcy5kYXRhX2NpZXJyZS50b3RhbF9nYXN0b3MgPSB0b3RhbEdhc3Rvc1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldEdhc3RvOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgIHZhciBnYXN0byA9IHRoaXMuZ2FzdG87XHJcbiAgICAgICAgICBmb3JtID0gJ2RhdGE9JysgSlNPTi5zdHJpbmdpZnkoZ2FzdG8pO1xyXG4gICAgICAgICAgY29ubmVjdEFuZFNlbmQoJ2NhamEvZ2V0X2dhc3RvJyxmYWxzZSxudWxsLGFwcENpZXJyZS5maWxsR2FzdG9zLGZvcm0sbnVsbCwgbnVsbCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZGVsZXRlR2FzdG86IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICB2YXIgY2FsbGVyID0gZS50YXJnZXQ7XHJcbiAgICAgICAgICBpZihjYWxsZXIubG9jYWxuYW1lID09IFwiaVwiKXtcclxuICAgICAgICAgICAgY2FsbGVyID0gY2FsbGVyLnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB2YXIgaWQgPSBjYWxsZXIuYXR0cmlidXRlc1snZGF0YS1pZCddLnZhbHVlXHJcbiAgICAgICAgICBzd2FsKHtcclxuICAgICAgICAgICAgdGl0bGU6ICdFc3TDoSBTZWd1cm8/JyxcclxuICAgICAgICAgICAgdGV4dDogXCJTZWd1cm8gZGUgcXVlIHF1aWVyZSBlbGltaW5hciBlc3RlIGdhc3RvP1wiLFxyXG4gICAgICAgICAgICB0eXBlOiAnd2FybmluZycsXHJcbiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnRXN0b3kgU2VndXJvIScsXHJcbiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWxhcidcclxuICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgZm9ybSA9ICdkYXRhPScrIEpTT04uc3RyaW5naWZ5KHtpZDogaWQsIGZlY2hhOm5vdygpfSlcclxuICAgICAgICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ2NhamEvZGVsZXRlX2dhc3RvJyxmb3JtKVxyXG4gICAgICAgICAgICBzZW5kLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YVxyXG4gICAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlKGRhdGEubWVuc2FqZSlcclxuICAgICAgICAgICAgICBhcHBDaWVycmUuZmlsbEdhc3RvcyhkYXRhLmdhc3RvcyxcImdyb3VwXCIpXHJcbiAgICAgICAgICAgICAgYXBwQ2llcnJlLnNldEdhc3RvVG90YWwoZGF0YS50b3RhbF9nYXN0b3MpIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2VuZC5jYXRjaChmdW5jdGlvbihlcnJvcil7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pOyAgICAgIFxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldEdhc3RvczogZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHZhciBkYXRhID0ge2ZlY2hhOiBub3coKX1cclxuICAgICAgICAgIGZvcm0gPSAnZGF0YT0nKyBKU09OLnN0cmluZ2lmeShkYXRhKVxyXG4gICAgICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KCBCQVNFX1VSTCArICdjYWphL2dldF9nYXN0b3MnLGZvcm0pXHJcbiAgICAgICAgICBzZW5kLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGFcclxuICAgICAgICAgICAgZGlzcGxheU1lc3NhZ2UoZGF0YS5tZW5zYWplKVxyXG4gICAgICAgICAgICBhcHBDaWVycmUuZmlsbEdhc3RvcyhkYXRhLmdhc3RvcyxcImdyb3VwXCIpXHJcbiAgICAgICAgICAgIGFwcENpZXJyZS5zZXRHYXN0b1RvdGFsKGRhdGEudG90YWxfZ2FzdG9zKVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBzZW5kLmNhdGNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0SW5ncmVzb3M6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICB2YXIgZm9ybSA9ICdkYXRhPScgKyBKU09OLnN0cmluZ2lmeSh7ZmVjaGE6IG5vdygpfSlcclxuICAgICAgICAgIHZhciBzZWxmID0gdGhpcy5kYXRhX2NpZXJyZTtcclxuICAgICAgICAgIHZhciBzZW5kID0gYXhpb3MucG9zdCggQkFTRV9VUkwgKyAnY2FqYS9nZXRfaW5ncmVzb3MnLGZvcm0pXHJcbiAgICAgICAgICBzZW5kLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGFcclxuICAgICAgICAgICAgc2VsZi5wYWdvc19mYWN0dXJhcyA9IGRhdGEucGFnb3NfZmFjdHVyYXM7XHJcbiAgICAgICAgICAgIHNlbGYucGFnb3NfZXh0cmFzID0gZGF0YS5wYWdvc19leHRyYXM7XHJcbiAgICAgICAgICAgIHNlbGYucGFnb3NfZWZlY3Rpdm8gPSBkYXRhLnBhZ29zX2VmZWN0aXZvO1xyXG4gICAgICAgICAgICBzZWxmLnBhZ29zX2JhbmNvID0gZGF0YS5wYWdvc19iYW5jbztcclxuICAgICAgICAgICAgc2VsZi50b3RhbF9pbmdyZXNvcyA9IHBhcnNlRmxvYXQoZGF0YS5wYWdvc19mYWN0dXJhcykgKyBwYXJzZUZsb2F0KHNlbGYucGFnb3NfZXh0cmFzKTtcclxuICAgICAgICAgICAgc2VsZi50b3RhbF9kZXNjdWFkcmUgPSAtIHNlbGYucGFnb3NfZWZlY3Rpdm8gKyBzZWxmLmVmZWN0aXZvX2NhamE7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHNlbmQuY2F0Y2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjZXJyYXJDYWphOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgdmFyIHNlbGYgICA9IHRoaXM7XHJcbiAgICAgICAgICB2YXIgY2llcnJlID0gdGhpcy5kYXRhX2NpZXJyZTtcclxuICAgICAgICAgIHdpbmRvdy5jaWVycmUgPSBjaWVycmU7XHJcbiAgICAgICAgICBpZihjaWVycmUudG90YWxfZGVzY3VhZHJlICE9IDApe1xyXG4gICAgICAgICAgICBzd2FsKHtcclxuICAgICAgICAgICAgICB0aXRsZTogJ0VzdMOhIFNlZ3Vybz8nLFxyXG4gICAgICAgICAgICAgIHRleHQ6IFwiSGF5IHVuIGRlc2N1YWRyZSBlbiBsYSBjYWphLCBxdWllcmUgaGFjZXIgZWwgY2llcnJlIGRlIHRvZG9zIG1vZG9zP1wiLFxyXG4gICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcclxuICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxyXG4gICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnU2knLFxyXG4gICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdObydcclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgIHNlbGYuY2VycmFyKGNpZXJyZSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBzZWxmLmNlcnJhcihjaWVycmUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNlcnJhcjogZnVuY3Rpb24oY2llcnJlKXtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY2llcnJlLmZlY2hhID0gbm93KCk7XHJcbiAgICAgICAgICBmb3JtID0gJ2RhdGE9JysgSlNPTi5zdHJpbmdpZnkoY2llcnJlKTtcclxuICAgICAgICAgIHZhciBzZW5kID0gYXhpb3MucG9zdCggQkFTRV9VUkwgKyAnY2FqYS9hZGRfY2llcnJlJyxmb3JtKVxyXG4gICAgICAgICAgc2VuZC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhXHJcbiAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlKGRhdGEubWVuc2FqZSlcclxuICAgICAgICAgICAgc2VsZi5pc0hpZGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHBTdW1tYXJ5Vmlldy5pc0hpZGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwU3VtbWFyeVZpZXcuY2llcnJlID0gY2llcnJlO1xyXG4gICAgICAgICAgICAkKFwiI2FwcC1jaWVycmVcIikuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgICAgJChcIi50b3AtbmF2XCIpLmFkZENsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICQoXCIjcHJpbnQtdmlld1wiKS5jc3Moe3Zpc2liaWxpdHk6IFwidmlzaWJsZVwifSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHNlbmQuY2F0Y2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgY29tcHV0ZWQ6e1xyXG4gICAgICAgIGdldFRvdGFsOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgIHZhciB0ID0gdG90YWxlcztcclxuICAgICAgICAgIHZhciBzZWxmID0gdGhpcy5kYXRhX2NpZXJyZTtcclxuICAgICAgICAgIHZhciBzdW1hID0gc3VtYXIoW3QudG90YWwxLHQudG90YWw1LHQudG90YWwxMCwgdC50b3RhbDIwLCB0LnRvdGFsMjUsIHQudG90YWw1MCwgdC50b3RhbDEwMCwgdC50b3RhbDIwMCwgdC50b3RhbDUwMCwgdC50b3RhbDEwMDAsIHQudG90YWwyMDAwXSk7XHJcbiAgICAgICAgICB0aGlzLnN1bWEgPSBzdW1hO1xyXG4gICAgICAgICAgc2VsZi5lZmVjdGl2b19jYWphID0gc3VtYS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgc2VsZi50b3RhbF9kZXNjdWFkcmUgPSBwYXJzZUZsb2F0KC1zZWxmLnBhZ29zX2VmZWN0aXZvKSArIHBhcnNlRmxvYXQoc2VsZi5lZmVjdGl2b19jYWphKTtcclxuICAgICAgICAgIHNlbGYuYmFuY28gPSBwYXJzZUZsb2F0KHNlbGYucGFnb3NfYmFuY28pICsgcGFyc2VGbG9hdChzZWxmLnBhZ29zX2VmZWN0aXZvKSAtIHBhcnNlRmxvYXQoc2VsZi50b3RhbF9nYXN0b3MpICsgcGFyc2VGbG9hdChzZWxmLnRvdGFsX2Rlc2N1YWRyZSlcclxuICAgICAgICAgIHJldHVybiB0aGlzLnN1bWE7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZGVjaW1hbHM6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICB2YXIgZmllbGRzID0gW1wicGFnb3NfZmFjdHVyYXNcIixcInBhZ29zX2V4dHJhXCIsXCJwYWdvc19lZmVjdGl2b1wiLFwicGFnb3NfYmFuY29cIixcInRvdGFsX2luZ3Jlc29zXCIsXCJlZmVjdGl2b19jYWphXCIsXCJ0b3RhbF9kZXNjdWFkcmVcIixcInRvdGFsX2dhc3RvXCIsXCJiYW5jb1wiXTtcclxuICAgICAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YV9jaWVycmVbZmllbGRdID0gdGhpcy5kYXRhX2NpZXJyZVtmaWVsZF0udG9GaXhlZCgyKVxyXG4gICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIHdpbmRvdy5hcHBDaWVycmUgPSBhcHBDaWVycmU7XHJcbiAgICBmdW5jdGlvbiBzdW1hciAodmFsb3Jlcyl7XHJcbiAgICAgIHZhciBzdW1hID0gMDtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWxvcmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgc3VtYSArPSBwYXJzZUZsb2F0KHZhbG9yZXNbaV0pOyBcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gc3VtYTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBub3coKXtcclxuICAgICAgcmV0dXJuIG1vbWVudCgpLmZvcm1hdChcIllZWVktTU0tRERcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBWdWUuY29tcG9uZW50KCdzdW1tYXJ5LXByaW50LXZpZXcnLHtcclxuICAgIHRlbXBsYXRlOiAnXFxcclxuICAgIDxkaXYgY2xhc3M9XCJwcmludC1jb250YWluZXJcIj5cXFxyXG4gICAgICA8ZGl2IGNsYXNzPVwiX19oZWFkZXJcIj5cXFxyXG4gICAgICA8aDIgY2xhc3M9XCJfX3RpdGxlIHQtY2VudGVyXCI+IHt7dGl0bGV9fTwvaDI+XFxcclxuICAgICAgPC9kaXY+XFxcclxuICAgICAgPGRpdiBjbGFzcz1cIl9fYm9keVwiPlxcXHJcbiAgICAgIDxwcmludGVhYmxlPjwvcHJpbnRlYWJsZT5cXFxyXG4gICAgICA8L2Rpdj5cXFxyXG4gICAgPGRpdj5cXFxyXG4gICAgXFxcclxuICAgICcsXHJcbiAgICBwcm9wczpbJ3NvbWV2YWx1ZSddLFxyXG4gICAgbWV0aG9kczp7XHJcbiAgICAgIGdvQmFjazogZnVuY3Rpb24oKXtcclxuICAgICAgICBhcHBTdW1tYXJ5Vmlldy5pc0hpZGUgPSB0cnVlO1xyXG4gICAgICAgIHdpbmRvdy5hcHBDaWVycmUuaXNIaWRlID0gZmFsc2U7XHJcbiAgICAgICAgc2VsZi5pc0hpZGUgPSB0cnVlO1xyXG4gICAgICAgICQoXCIudG9wLW5hdlwiKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICQoXCIjYXBwLWNpZXJyZVwiKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgZGF0YTogZnVuY3Rpb24oKXtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBiYWNrOiB7bGluazpcInNvbWVsaW5rXCIsdGV4dDpcInZvbHZlciBhIGNpZXJyZVwifSxcclxuICAgICAgICBmb3dhcmQ6IHtsaW5rOiBCQVNFX1VSTCArIFwiYXBwL2xvZ291dFwiLHRleHQ6XCJjZXJyYXIgc2Vzc2lvblwifSxcclxuICAgICAgICB0aXRsZTpcIlJlc3VtZW4gZGUgY2llcnJlIGRlIGhveVwiLFxyXG5cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pXHJcblxyXG4gIHZhciBhcHBTdW1tYXJ5VmlldyA9IG5ldyBWdWUoe1xyXG4gICAgZWw6IFwiI3ByaW50LXZpZXdcIixcclxuICAgIGRhdGE6IHtcclxuICAgICAgaXNIaWRlOiB0cnVlLFxyXG4gICAgICBiYWNrOiB7bGluazpcInNvbWVsaW5rXCIsdGV4dDpcInZvbHZlciBhIGNpZXJyZVwifSxcclxuICAgICAgZm93YXJkOiB7bGluazogQkFTRV9VUkwgKyBcImFwcC9sb2dvdXRcIix0ZXh0OlwiY2VycmFyIHNlc3Npb25cIn0sXHJcbiAgICAgIGNpZXJyZTp7XHJcbiAgICAgICAgICBhdXRvcjogJycsXHJcbiAgICAgICAgICBwYWdvc19mYWN0dXJhczogMCxcclxuICAgICAgICAgIHBhZ29zX2V4dHJhczogMCxcclxuICAgICAgICAgIHBhZ29zX2VmZWN0aXZvOiAwLFxyXG4gICAgICAgICAgcGFnb3NfYmFuY286IDAsXHJcbiAgICAgICAgICB0b3RhbF9pbmdyZXNvczogMCxcclxuICAgICAgICAgIGVmZWN0aXZvX2NhamE6IDAsXHJcbiAgICAgICAgICB0b3RhbF9kZXNjdWFkcmU6IDAsXHJcbiAgICAgICAgICB0b3RhbF9nYXN0b3M6IDAsXHJcbiAgICAgICAgICBiYW5jbzogMFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBmaWx0ZXJzOiB7XHJcbiAgICAgIGN1cnJlbmN5Rm9ybWF0OiBmdW5jdGlvbihudW1iZXIpe1xyXG4gICAgICAgIHJldHVybiBcIlJEJCBcIisgQ3VycmVuY3lGb3JtYXQobnVtYmVyKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNwYW5pc2hEYXRlRm9ybWF0OiBmdW5jdGlvbihkYXRlKXtcclxuICAgICAgICBtb21lbnQubG9jYWxlKCdlcy1ETycpO1xyXG4gICAgICAgIHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KCdkZGRkIEREIFtkZV0gTU1NTSBbZGVsXSBZWVlZJylcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6e1xyXG4gICAgICBnb0JhY2s6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgYXBwU3VtbWFyeVZpZXcuaXNIaWRlID0gdHJ1ZTtcclxuICAgICAgICB3aW5kb3cuYXBwQ2llcnJlLmlzSGlkZSA9IGZhbHNlO1xyXG4gICAgICAgIHNlbGYuaXNIaWRlID0gdHJ1ZTtcclxuICAgICAgICAkKFwiLnRvcC1uYXZcIikucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAkKFwiI2FwcC1jaWVycmVcIikucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgfSxcclxuICAgICAgcHJpbnQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcHJpbnQoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSkiLCJcclxuaWYgKGN1cnJlbnRQYWdlID09ICdyZXBvcnRlcycpe1xyXG4gIGZldGNoUmVwb3J0RGF0YSgpO1xyXG59XHJcbmZ1bmN0aW9uIGZldGNoUmVwb3J0RGF0YSgpIHtcclxuICB2YXIgc2VuZCA9IGF4aW9zLmdldChCQVNFX1VSTCArICdjYWphL2dldF9sYXN0X2NpZXJyZScpXHJcbiAgc2VuZC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgY2FqYVdlZWtDaGFydChyZXNwb25zZS5kYXRhKTtcclxuICAgIGFwcFZpc3RhRGV0YWxsZS5jaWVycmUgPSByZXNwb25zZS5kYXRhLmNpZXJyZTtcclxuICB9KVxyXG4gIHNlbmQuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgXHJcbiAgfSlcclxuICBcclxuICB2YXIgZm9ybSA9IFwiZGF0YT1cIisgSlNPTi5zdHJpbmdpZnkoe3llYXI6bW9tZW50KCkuZm9ybWF0KFwiWVlZWVwiKX0pXHJcbiAgdmFyIHNlbmQyID0gYXhpb3MucG9zdChCQVNFX1VSTCArICdjYWphL2dldF95ZWFyX2luZm8nLGZvcm0pXHJcbiAgc2VuZDIudGhlbihmdW5jdGlvbihyZXMpe1xyXG4gICAgdmFyIGdhc3RvcyAgICA9IHJlcy5kYXRhLmdhc3RvcztcclxuICAgIHZhciBnYW5hbmNpYXMgPSByZXMuZGF0YS5nYW5hbmNpYXM7XHJcbiAgICB5ZWFyQ2hhcnQoZ2FzdG9zLGdhbmFuY2lhcyk7XHJcbiAgfSlcclxufVxyXG5cclxuXHJcbndpbmRvdy5jaGFydENvbG9ycyA9IHtcclxuICByZWQ6ICdyZ2IoMjU1LCA5OSwgMTMyKScsXHJcbiAgb3JhbmdlOiAncmdiKDI1NSwgMTU5LCA2NCknLFxyXG4gIHllbGxvdzogJ3JnYigyNTUsIDIwNSwgODYpJyxcclxuICBncmVlbjogJ3JnYig3NSwgMTkyLCAxOTIpJyxcclxuICBibHVlOiAncmdiKDU0LCAxNjIsIDIzNSknLFxyXG4gIHB1cnBsZTogJ3JnYigxNTMsIDEwMiwgMjU1KScsXHJcbiAgZ3JleTogJ3JnYigyMDEsIDIwMywgMjA3KSdcclxufTtcclxudmFyIG1lc2VzID0gW1wiRW5lcm9cIiwgXCJGZWJyZXJvXCIsIFwiTWFyem9cIiwgXCJBYnJpbFwiLCBcIk1heW9cIiwgXCJKdW5pb1wiLCBcIkp1bGlvXCIsIFwiQWdvc3RvXCIsIFwiU2VwdGllbWJyZVwiLCBcIk9jdHVicmVcIiwgXCJOb3ZpZW1icmVcIiwgXCJEaWNpZW1icmVcIl07XHJcblxyXG52YXIgY29sb3JzID0ge1xyXG4gIGdyZWVuOiAncmdiYSgwLDIzMCwxMTggLDEpJyxcclxuICBibHVlR3JlZW46ICdyZ2JhKDI5LDIzMywxODIgLDEpJyxcclxuICBibHVlNzogJ3JnYmEoMjUsMTE4LDIxMCAsMSknLFxyXG4gIGxpZ2h0Qmx1ZTY6ICdyZ2JhKDMsMTU1LDIyOSAsMSknLFxyXG4gIHJlZDM6ICdyZ2JhKDIyOSwxMTUsMTE1ICwxKScsXHJcbiAgZGVlcE9yYW5nZTQ6ICdyZ2JhKDI1NSwxMTIsNjcgLDEpJ1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYWphV2Vla0NoYXJ0KGRhdGEpIHtcclxuICB2YXIgY2FudmFzID0gJChcIiNnYW5hbmNpYXMtY2hhcnRcIik7XHJcbiAgdmFyIGNoYXJ0T3B0aW9ucyA9IHtcclxuICAgIHR5cGU6ICdiYXInLFxyXG4gICAgZGF0YToge1xyXG4gICAgICBsYWJlbHM6IGRhdGEubGFiZWxzLFxyXG4gICAgICBkYXRhc2V0czogW3tcclxuICAgICAgICBsYWJlbDogXCJWYWxvcmVzXCIsXHJcbiAgICAgICAgZGF0YTogZGF0YS52YWx1ZXMsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBbY29sb3JzLmxpZ2h0Qmx1ZTYsIGNvbG9ycy5saWdodEJsdWU2LCBjb2xvcnMuYmx1ZTcsIHdpbmRvdy5jaGFydENvbG9ycy5ibHVlLHdpbmRvdy5jaGFydENvbG9ycy5ncmVlbiwgY29sb3JzLmJsdWVHcmVlbiwgd2luZG93LmNoYXJ0Q29sb3JzLnJlZCx3aW5kb3cuY2hhcnRDb2xvcnMucmVkLCAgd2luZG93LmNoYXJ0Q29sb3JzLmJsdWVdLFxyXG4gICAgICB9XVxyXG4gICAgfSxcclxuICAgIG9wdGlvbnM6IHtcclxuICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcclxuICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UsXHJcbiAgICAgIHNjYWxlczoge1xyXG4gICAgICAgIHlBeGVzOiBbe1xyXG4gICAgICAgICAgdGlja3M6IHtcclxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChsYWJlbCwgaW5kZXgsIGxhYmVscykge1xyXG4gICAgICAgICAgICAgIGlmIChsYWJlbCA9PSAnJyB8fCBsYWJlbCA9PSBudWxsKSBsYWJlbCA9IDA7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIFwiUkQkIFwiICsgQ3VycmVuY3lGb3JtYXQobGFiZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfV0sXHJcbiAgICAgICAgeEF4ZXM6IFt7XHJcbiAgICAgICAgICB0aWNrczoge1xyXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGxhYmVsLCBpbmRleCwgbGFiZWxzKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGxhYmVsLnJlcGxhY2UoL18vZywgXCIgXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfV1cclxuICAgICAgfSxcclxuICAgICAgdG9vbHRpcHM6IHtcclxuICAgICAgICBjYWxsYmFja3M6IHtcclxuICAgICAgICAgIGxhYmVsOiBmdW5jdGlvbiAodG9vbHRpcEl0ZW0sIGRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiUkQkIFwiICsgQ3VycmVuY3lGb3JtYXQodG9vbHRpcEl0ZW0ueUxhYmVsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgZGlzcGxheTogdHJ1ZSxcclxuICAgICAgICB0ZXh0OiBcIkRhdG9zIGRlbCB1bHRpbW8gY2llcnJlLiBoZWNobyBwb3IgXCIgKyBkYXRhLmF1dG9yICsgXCIgZWwgZGlhIFwiICsgZGF0YS5mZWNoYVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuICB2YXIgbXljaGFydCA9IG5ldyBDaGFydChjYW52YXMsIGNoYXJ0T3B0aW9ucyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHllYXJDaGFydChnYXN0b3MsZ2FuYW5jaWFzKSB7XHJcbiAgdmFyICRjYW52YXMgPSAkKFwiI2dhbmFuY2lhcy1tZXMtY2hhcnRcIik7XHJcbiAgdmFyIGRhdGEgPSB7XHJcbiAgICAgIGxhYmVsczogbWVzZXMsXHJcbiAgICAgIGRhdGFzZXRzOiBbe1xyXG4gICAgICAgIGxhYmVsOiBcIkdhc3Rvc1wiLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogd2luZG93LmNoYXJ0Q29sb3JzLnJlZCxcclxuICAgICAgICBib3JkZXJDb2xvcjogd2luZG93LmNoYXJ0Q29sb3JzLnJlZCxcclxuICAgICAgICBkYXRhOiBnYXN0b3MsXHJcbiAgICAgICAgZmlsbDogZmFsc2UsXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBsYWJlbDogXCJCYW5jbyhHYW5hbmNpYXMpXCIsXHJcbiAgICAgICAgZmlsbDogZmFsc2UsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB3aW5kb3cuY2hhcnRDb2xvcnMuYmx1ZSxcclxuICAgICAgICBib3JkZXJDb2xvcjogd2luZG93LmNoYXJ0Q29sb3JzLmJsdWUsXHJcbiAgICAgICAgZGF0YTogZ2FuYW5jaWFzLFxyXG4gICAgICB9XVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgb3B0aW9ucyA9IHtcclxuICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcclxuICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UsXHJcbiAgICAgIHNjYWxlczoge1xyXG4gICAgICAgIHlBeGVzOiBbe1xyXG4gICAgICAgICAgdGlja3M6IHtcclxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChsYWJlbCwgaW5kZXgsIGxhYmVscykge1xyXG4gICAgICAgICAgICAgIHJldHVybiBcIlJEJCBcIiArIEN1cnJlbmN5Rm9ybWF0KGxhYmVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1dXHJcbiAgICAgIH0sXHJcbiAgICAgIHRvb2x0aXBzOiB7XHJcbiAgICAgICAgY2FsbGJhY2tzOiB7XHJcbiAgICAgICAgICBsYWJlbDogZnVuY3Rpb24gKHRvb2x0aXBJdGVtLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlJEJCBcIiArIEN1cnJlbmN5Rm9ybWF0KHRvb2x0aXBJdGVtLnlMYWJlbCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB0aXRsZToge1xyXG4gICAgICAgIGRpc3BsYXk6IHRydWUsXHJcbiAgICAgICAgdGV4dDogXCJSZWdpc3Ryb3MgZGUgY2llcnJlIEVzdGUgdWx0aW1vIGHDsW9cIlxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gIHZhciBjaGFydCA9IG5ldyBDaGFydCgkY2FudmFzLCB7XHJcbiAgICB0eXBlOiAnbGluZScsXHJcbiAgICBkYXRhOiBkYXRhLFxyXG4gICAgb3B0aW9uczogb3B0aW9uc1xyXG4gIH0pO1xyXG5cclxufVxyXG5cclxudmFyIGNpZXJyZSA9IHsgXHJcbiAgYXV0b3I6IFwiXCIsXHJcbiAgYmFuY286IDAsXHJcbiAgZGluZXJvX3JlYWxfZW5fY2FqYTogMCxcclxuICBmZWNoYSA6ICcnLFxyXG4gIHBhZ29fZGVfZmFjdHVyYXM6IDAsXHJcbiAgcGFnb3NfZGVfZXh0cmFzOiAwLFxyXG4gIHBhZ29zX2VuX2VmZWN0aXZvOjAsXHJcbiAgcGFnb3NfdmlhX2JhbmNvOjAsXHJcbiAgdG90YWxfZGVfaW5ncmVzb3M6IDAsXHJcbiAgdG90YWxfZGVzY3VhZHJlOjAgfVxyXG5cclxudmFyIGFwcFZpc3RhRGV0YWxsZSA9IG5ldyBWdWUoe1xyXG4gIGVsOiAnI2FwcC12aXN0YS1kZXRhbGxlJyxcclxuICBkYXRhOiB7XHJcbiAgICBjaWVycmU6IGNpZXJyZSxcclxuICB9LFxyXG5cclxuICBmaWx0ZXJzOiB7XHJcbiAgICBjdXJyZW5jeUZvcm1hdDogZnVuY3Rpb24obnVtYmVyKXtcclxuICAgICAgcmV0dXJuIFwiUkQkIFwiKyBDdXJyZW5jeUZvcm1hdChudW1iZXIpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgbWV0aG9kczp7XHJcbiAgICBwcmludDogZnVuY3Rpb24oKXtcclxuICAgICAgcHJpbnQoKVxyXG4gICAgfVxyXG4gIH1cclxufSkiLCIgIHZhciBhY291bnRWaWV3ID0gbmV3IFZ1ZSh7XHJcbiAgICBlbDogJyNhY291bnQtc2VjdGlvbicsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIHVzZXI6IHtcclxuICAgICAgICB1c2VyX2lkOiAnJyxcclxuICAgICAgICBuaWNrbmFtZTogJycsXHJcbiAgICAgICAgbmFtZTogJycsXHJcbiAgICAgICAgbGFzdG5hbWU6ICcnLFxyXG4gICAgICAgIGRuaTogJycsXHJcbiAgICAgICAgdHlwZTogJycsXHJcbiAgICAgICAgZW1haWw6ICcnXHJcbiAgICAgIH0sXHJcbiAgICAgIGlzQ2hhbmdlUGFzc3dvcmQ6IGZhbHNlLFxyXG4gICAgICBjdXJyZW50UGFzc3dvcmQ6ICcnLFxyXG4gICAgICBuZXdQYXNzd29yZDogJycsXHJcbiAgICAgIHBhc3N3b3JkQ29uZmlybTogJycsXHJcbiAgICAgIHN0YXRlczoge1xyXG4gICAgICAgICdoYXMtZXJyb3InOiBmYWxzZSxcclxuICAgICAgICAnaGFzLXN1Y2Nlc3MnOiBmYWxzZSxcclxuICAgICAgICAgYnV0dG9uOiB0cnVlLFxyXG4gICAgICB9XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChjdXJyZW50UGFnZSA9PSAnY3VlbnRhJykge1xyXG4gICAgICAgIHRoaXMuZ2V0VXNlcigpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgZ2V0VXNlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICB2YXIgdXNlcl9pZCA9ICQoJyNhY291bnQtdXNlci1pZCcpLnZhbCgpO1xyXG4gICAgICAgIHZhciBmb3JtID0gJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHVzZXJfaWQ6IHVzZXJfaWRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYXhpb3MucG9zdChCQVNFX1VSTCArICd1c2VyL2dldF91c2VyJywgZm9ybSlcclxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgdmFyIHVzZXIgPSByZXMuZGF0YS51c2VyO1xyXG4gICAgICAgICAgICB1c2VyWydmdWxsbmFtZSddID0gdXNlci5uYW1lICsgJyAnICsgdXNlci5sYXN0bmFtZTtcclxuICAgICAgICAgICAgc2VsZi51c2VyID0gdXNlcjtcclxuICAgICAgICAgIH0pXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB1cGRhdGVJbmZvOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNDaGFuZ2VQYXNzd29yZCkge1xyXG4gICAgICAgICAgdGhpcy5jaGFuZ2VQYXNzd29yZCgpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuY2hhbmdlRW1haWwoKVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNoYW5nZVBhc3N3b3JkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGVzWydoYXMtc3VjY2VzcyddKSB7XHJcbiAgICAgICAgICB2YXIgZm9ybSA9ICdkYXRhPScgKyBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIHVzZXJfaWQ6IHRoaXMudXNlci51c2VyX2lkLFxyXG4gICAgICAgICAgICBjdXJyZW50X3Bhc3N3b3JkOiB0aGlzLmN1cnJlbnRQYXNzd29yZCxcclxuICAgICAgICAgICAgbmV3X3Bhc3N3b3JkOiB0aGlzLm5ld1Bhc3N3b3JkXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ3VzZXIvdXBkYXRlX3Bhc3N3b3JkJywgZm9ybSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlKHJlcy5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IEJBU0VfVVJMICsgJ2FwcC9sb2d1dCc7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGRpc3BsYXlNZXNzYWdlKFwiTGFzIGNvbnRyYXNlw7FhcyBubyBjb25jaWRlblwiKVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNoYW5nZUVtYWlsOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzXHJcbiAgICAgICAgdmFyIHVzZXIgPSB0aGlzLnVzZXJcclxuXHJcbiAgICAgICAgc3dhbCh7XHJcbiAgICAgICAgICAgICd0aXRsZSc6ICdDb250cmFzZcOxYScsXHJcbiAgICAgICAgICAgICdpbnB1dCc6ICdwYXNzd29yZCcsXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGZvcm0gPSAnZGF0YT0nICsgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgJ3VzZXJfaWQnOiB1c2VyLnVzZXJfaWQsXHJcbiAgICAgICAgICAgICAgICAncGFzc3dvcmQnOiBwYXNzd29yZCxcclxuICAgICAgICAgICAgICAgICdmaWVsZCc6ICdlbWFpbCcsXHJcbiAgICAgICAgICAgICAgICAndmFsdWUnOiB1c2VyLmVtYWlsXHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAndXNlci91cGRhdGVfZmllbGQnLCBmb3JtKVxyXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5TWVzc2FnZShyZXMuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfSlcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNvbmZpcm1QYXNzd29yZFNlcnZlcjogZnVuY3Rpb24gKHBhc3N3b3JkKSB7XHJcbiAgICAgICAgdmFyIGZvcm0gPSAnZGF0YT0nICsgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgdXNlcl9pZDogdGhpcy51c2VyLnVzZXJfaWQsXHJcbiAgICAgICAgICBjdXJyZW50X3Bhc3N3b3JkOiBwYXNzd29yZFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgYXhpb3MucG9zdChCQVNFX1VSTCArICd1c2VyL2NvbmZpcm1fcGFzc3dvcmQnLCBmb3JtKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXMuZGF0YS5pc19jb3JyZWN0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgY29uZmlybVBhc3N3b3JkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuY29uZmlybVBhc3N3b3JkU2VydmVyKHRoaXMuY3VycmVudFBhc3N3b3JkKVxyXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGlzX2NvcnJlY3QpIHtcclxuICAgICAgICAgICAgc2VsZi5pc0NoYW5nZVBhc3N3b3JkID0gaXNfY29ycmVjdFxyXG4gICAgICAgICAgfSlcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNoZWNrUGFzc3dvcmQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoKHRoaXMubmV3UGFzc3dvcmQgPT0gdGhpcy5wYXNzd29yZENvbmZpcm0pICYmIHRoaXMuY2hhbmdlUGFzc3dvcmQpIHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGVzKHRydWUsIGZhbHNlKTtcclxuICAgICAgICAgIHRoaXMuc3RhdGVzLmJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYW5nZVBhc3N3b3JkKSB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlcyhmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgICB0aGlzLnN0YXRlcy5idXR0b24gPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZXMoZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzZXRTdGF0ZXM6IGZ1bmN0aW9uIChzdWNjZXNzLCBlcnJvcikge1xyXG4gICAgICAgIHRoaXMuc3RhdGVzWydoYXMtc3VjY2VzcyddID0gc3VjY2VzcztcclxuICAgICAgICB0aGlzLnN0YXRlc1snaGFzLWVycm9yJ10gPSBlcnJvcjtcclxuICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gIH0pIiwidmFyIGNsb3NlUmVwb3J0ID0gbmV3IFZ1ZSh7XHJcbiAgZWw6ICcjY2llcnJlcycsXHJcbiAgZGF0YToge1xyXG4gICB0YWJsZTogJycsXHJcbiAgIHRhYmxlSFRNTDogJycsXHJcbiAgIGhhc1RvdGFsczogZmFsc2UsXHJcbiAgIHRvdGFsczogZmFsc2UsXHJcbiAgIGJldHdlZW46IHtcclxuICAgICBmaXJzdF9kYXRlOiAnJyxcclxuICAgICBzZWNvbmRfZGF0ZTogJycsXHJcbiAgICAgdGV4dDogJydcclxuICAgfVxyXG4gIH0sXHJcblxyXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChjdXJyZW50UGFnZSA9PSAnaW5mb3JtZXMnKSB7XHJcbiAgICAgIHRoaXMuZ2V0UmVwb3J0KCk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgZmlsdGVyczoge1xyXG4gICAgY3VycmVuY3lGb3JtYXQ6IGZ1bmN0aW9uKG51bWJlcil7XHJcbiAgICAgIHJldHVybiBcIlJEJCBcIisgQ3VycmVuY3lGb3JtYXQobnVtYmVyKTtcclxuICAgIH0sXHJcbiAgfSxcclxuXHJcbiAgbWV0aG9kczoge1xyXG4gICAgZ2V0UmVwb3J0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGZvcm0gPSAnZGF0YT0nICsgSlNPTi5zdHJpbmdpZnkodGhpcy5iZXR3ZWVuKVxyXG4gICAgICBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ2NhamEvZ2V0X2NpZXJyZXMvdHJ1ZScsIGZvcm0pXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICBzZWxmLmZpbGxUYWJsZShyZXMuZGF0YS5jb250ZW50KTtcclxuICAgICAgICBzZWxmLmhhc1RvdGFscyA9IHRydWU7XHJcbiAgICAgICAgc2VsZi50b3RhbHMgICAgPSByZXMuZGF0YS5hY3VtO1xyXG4gICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICBmaWxsVGFibGU6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuICAgICAgZmlsbEJTVGFibGUoJyNjaWVycmVzLXRhYmxlJywgY29udGVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG59KSIsInZhciBleHBlbnNlc1JlcG9ydCA9IG5ldyBWdWUoe1xyXG4gIGVsOiAnI2dhc3RvcycsXHJcbiAgZGF0YToge1xyXG4gICB0YWJsZTogJycsXHJcbiAgIHRhYmxlSFRNTDogJycsXHJcbiAgIHRvdGFsOiAnJyxcclxuICAgYmV0d2Vlbjoge1xyXG4gICAgIGZpcnN0X2RhdGU6ICcnLFxyXG4gICAgIHNlY29uZF9kYXRlOiAnJyxcclxuICAgICB0ZXh0OiAnJ1xyXG4gICB9XHJcbiAgfSxcclxuXHJcbiAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGN1cnJlbnRQYWdlID09ICdpbmZvcm1lcycpIHtcclxuICAgICAgdGhpcy5nZXRSZXBvcnQoKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBmaWx0ZXJzOiB7XHJcbiAgICBjdXJyZW5jeUZvcm1hdDogZnVuY3Rpb24obnVtYmVyKXtcclxuICAgICAgcmV0dXJuIFwiUkQkIFwiKyBDdXJyZW5jeUZvcm1hdChudW1iZXIpO1xyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICBtZXRob2RzOiB7XHJcbiAgICBnZXRSZXBvcnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgZm9ybSA9ICdkYXRhPScgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmJldHdlZW4pXHJcbiAgICAgIGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAnY2FqYS9nZXRfZ2FzdG9zL3RydWUnLCBmb3JtKVxyXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgc2VsZi5maWxsVGFibGUocmVzLmRhdGEuY29udGVudClcclxuICAgICAgICBzZWxmLnRvdGFsID0gcmVzLmRhdGEuYWN1bTtcclxuICAgICAgfSlcclxuICAgIH0sXHJcblxyXG4gICAgZmlsbFRhYmxlOiBmdW5jdGlvbihjb250ZW50KSB7XHJcbiAgICAgIGZpbGxCU1RhYmxlKCcjZ2FzdG9zLXRhYmxlJywgY29udGVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG59KSIsInZhciBsaXN0RXh0cmFzID0gJyc7XHJcbnZhciByZWNpYm9SZXNldCA9IHtcclxuICBpZF9wYWdvOiAwLFxyXG4gIGlkX2NvbnRyYXRvOiAwLFxyXG4gIGlkX3NlcnZpY2lvOiAwLFxyXG4gIGlkX2VtcGxlYWRvOiAwLFxyXG4gIGZlY2hhX3BhZ28gOiAnJyxcclxuICBjb25jZXB0byA6ICdleHRyYScsXHJcbiAgZGV0YWxsZXNfZXh0cmEgOiAnJyxcclxuICBjdW90YTogJycsXHJcbiAgbW9yYSA6ICcnLFxyXG4gIG1vbnRvX2V4dHJhOiAnJyxcclxuICB0b3RhbDogJycsXHJcbiAgZXN0YWRvOiAnJyxcclxuICBmZWNoYV9saW1pdGU6ICcnLFxyXG4gIGNvbXBsZXRlX2RhdGUgOiAnJyxcclxuICBkZXNjdWVudG86ICcnLFxyXG4gIHJhem9uX2Rlc2N1ZW50bzogJycsXHJcbiAgZGV1ZGE6ICcnLFxyXG4gIGFib25vX2E6ICcnLFxyXG4gIHRpcG86ICcnLFxyXG4gIGdlbmVyYWRvOiAnJ1xyXG59XHJcblxyXG52YXIgYXBwUGFnb0V4dHJhID0gbmV3IFZ1ZSh7XHJcbiAgZWw6IFwiI2FwcC1wYWdvLWV4dHJhXCIsXHJcbiAgZGF0YToge1xyXG4gICAgcmVjaWJvOntcclxuICAgICAgIGlkX3BhZ286IDAsXHJcbiAgICAgICBpZF9jb250cmF0bzogMCxcclxuICAgICAgIGlkX3NlcnZpY2lvOiAwLFxyXG4gICAgICAgaWRfZW1wbGVhZG86IDAsXHJcbiAgICAgICBmZWNoYV9wYWdvIDogJ2RkL21tL3l5eXknLFxyXG4gICAgICAgY29uY2VwdG8gOiAnZXh0cmEnLFxyXG4gICAgICAgZGV0YWxsZXNfZXh0cmEgOiAnJyxcclxuICAgICAgIGN1b3RhOiAnJyxcclxuICAgICAgIG1vcmEgOiAnJyxcclxuICAgICAgIG1vbnRvX2V4dHJhOiAnJyxcclxuICAgICAgIHRvdGFsOiAnJyxcclxuICAgICAgIGVzdGFkbzogJycsXHJcbiAgICAgICBmZWNoYV9saW1pdGU6ICcnLFxyXG4gICAgICAgY29tcGxldGVfZGF0ZSA6ICcnLFxyXG4gICAgICAgZGVzY3VlbnRvOiAnJyxcclxuICAgICAgIHJhem9uX2Rlc2N1ZW50bzogJycsXHJcbiAgICAgICBkZXVkYTogJycsXHJcbiAgICAgICBhYm9ub19hOiAnJyxcclxuICAgICAgIHRpcG86ICcnLFxyXG4gICAgICAgZ2VuZXJhZG86ICcnXHJcbiAgICB9LFxyXG5cclxuICAgIHZpc2libGU6IGZhbHNlLFxyXG4gICAgcGFnYWRvOiBmYWxzZSxcclxuICAgIGV4dHJhOntcclxuICAgICAgXCJjb250cm9sc1wiOiAnJyxcclxuICAgICAgXCJpZF9leHRyYVwiOiAnJyxcclxuICAgICAgXCJpZF9zZXJ2aWNpb1wiOiAnJyxcclxuICAgICAgXCJjaGVja2JveFwiOiAnJyxcclxuICAgICAgXCJmZWNoYVwiOiAnJyxcclxuICAgICAgXCJjb25jZXB0b1wiOiAnJyxcclxuICAgICAgXCJ1bHRpbW9fcGFnb1wiOiAnJyxcclxuICAgICAgXCJtb250b19wYWdhZG9cIjogJycsXHJcbiAgICAgIFwibW9udG9fdG90YWxcIjogJycsXHJcbiAgICAgIFwiZXN0YWRvXCI6ICcnXHJcbiAgICB9LFxyXG4gICAgZmlyc3RDb250cm9sczoge1xyXG4gICAgICBoaWRlOiBmYWxzZVxyXG4gICAgfSxcclxuICB9LFxyXG4gIGZpbHRlcnM6IHtcclxuXHJcbiAgfSxcclxuICBjb21wdXRlZDoge1xyXG4gICAgdXJsX3JlY2libzogZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gQkFTRV9VUkwgKyAncHJvY2Vzcy9nZXRyZWNpYm8vJyArIHRoaXMucmVjaWJvLmlkX3BhZ287XHJcbiAgICB9LFxyXG5cclxuICAgIGhpZGVfcmVjaWJvOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmKHRoaXMucmVjaWJvLmVzdGFkbyA9PSBcInBhZ2Fkb1wiKXtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgICAgcmV0dXJuIHRoaXMuaGlkZV9yZWNpYm8gPSB0cnVlOyBcclxuICAgIH0sXHJcblxyXG4gICAgaXNQYWdhZG86IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdGhpcy5wYWdhZG8gPSAodGhpcy5yZWNpYm8uZXN0YWRvID09ICdwYWdhZG8nKTtcclxuICAgICAgcmV0dXJuIHRoaXMucGFnYWRvO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIG1ldGhvZHM6e1xyXG5cclxuICAgIGdvQmFjazogZnVuY3Rpb24gKCkge1xyXG4gICAgICBleHRyYVRhYmxlLmVsLnBhcmVudHMoXCIuYm9vdHN0cmFwLXRhYmxlXCIpLnJlbW92ZUNsYXNzKFwiaGlkZVwiKTtcclxuICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2VcclxuICAgICAgdGhpcy5leHRyYSA9IHtjb25jZXB0bzogJyd9XHJcbiAgICAgIGV4dHJhVGFibGUucmVmcmVzaChsaXN0RXh0cmFzKTtcclxuICAgIH0sXHJcblxyXG4gICAgZ2VuZXJhdGVQYXltZW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICh0aGlzLnBhZ2FkbyB8fCB0aGlzLnJlY2liby5pZF9wYWdvID09IDApIHtcclxuICAgICAgICB2YXIgZm9ybSA9ICdkYXRhPScgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmV4dHJhKTtcclxuICAgICAgICB2YXIgc2VuZCA9IGF4aW9zLnBvc3QoIEJBU0VfVVJMICsgJ2V4dHJhL2dlbmVyYXRlX2V4dHJhX3BheW1lbnQnLGZvcm0pO1xyXG4gICAgICAgIHNlbmQudGhlbihmdW5jdGlvbihyZXMpe1xyXG4gICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTtcclxuICAgICAgICAgIGRpc3BsYXlNZXNzYWdlKGRhdGEubWVuc2FqZSk7XHJcbiAgICAgICAgICBzZWxlY3RFeHRyYVBheW1lbnQuaHRtbChkYXRhLnBhZ29zKS5jaGFuZ2UoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZW5kLmNhdGNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICBcclxuICAgICAgICB9KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRpc3BsYXlNZXNzYWdlKCBNRVNTQUdFX0lORk8gKyAnIERlYmUgcmVhbGl6YXIgZXN0ZSBwYWdvIGFudGVzIGRlIGNyZWFyIHVubyBudWV2bycpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGdldFBheW1lbnQ6IGZ1bmN0aW9uIChpZF9wYWdvKSB7XHJcbiAgICAgIHZhciBmb3JtID0gXCJkYXRhPVwiICsgSlNPTi5zdHJpbmdpZnkoe2lkX3BhZ286IGlkX3BhZ299KTtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzXHJcbiAgICAgIHZhciBzZW5kID0gYXhpb3MucG9zdCggQkFTRV9VUkwgKyAnZXh0cmEvZ2V0X3BheW1lbnQnLGZvcm0pO1xyXG4gICAgICBzZW5kLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhIFxyXG4gICAgICAgIGlmKGRhdGEucmVjaWJvKXtcclxuICAgICAgICAgIHNlbGYucmVjaWJvID0gZGF0YS5yZWNpYm9cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIGFwcGx5UGF5bWVudDogZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAodGhpcy5yZWNpYm8uaWRfcGFnbyAhPSAwKSB7XHJcbiAgICAgICAgdGhpcy5zZW5kZXIoJ2V4dHJhL2FwcGx5X3BheW1lbnQnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkaXNwbGF5TWVzc2FnZSggTUVTU0FHRV9JTkZPICsgJyBEZWJlIGdlbmVyYXIgdW4gcGFnbyBwcmltZXJvJyk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgZWRpdFBheW1lbnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdGhpcy5zZW5kZXIoJ2V4dHJhL2VkaXRfcGF5bWVudCcpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZW5kZXI6IGZ1bmN0aW9uKGVuZHBvaW50KSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHByZXBhcmVkRGF0YSA9IHRoaXMucHJlcGFyZURhdGEoKVxyXG4gICAgICB2YXIgaW5mbyA9IHByZXBhcmVkRGF0YS5pbmZvO1xyXG4gICAgICB2YXIgZGF0YSA9IHByZXBhcmVkRGF0YS5kYXRhO1xyXG5cclxuICAgICAgdmFyIGZvcm0gPSAnZGF0YT0nKyBKU09OLnN0cmluZ2lmeShkYXRhKSArICcmaW5mbz0nKyBKU09OLnN0cmluZ2lmeShpbmZvKVxyXG4gICAgICB2YXIgc2VuZCA9IGF4aW9zLnBvc3QoQkFTRV9VUkwgKyBlbmRwb2ludCxmb3JtKVxyXG5cclxuICAgICAgc2VuZC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhXHJcbiAgICAgICAgbGlzdEV4dHJhcyA9IGRhdGEuZXh0cmFzO1xyXG4gICAgICAgIHNlbGYuZ2V0UGF5bWVudHMoc2VsZi5leHRyYS5pZF9leHRyYSk7XHJcbiAgICAgICAgZGlzcGxheU1lc3NhZ2UoZGF0YS5tZW5zYWplKTtcclxuICAgICAgfSlcclxuICAgICAgc2VuZC5jYXRjaChmdW5jdGlvbihlcnJvcil7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICBwcmVwYXJlRGF0YTogZnVuY3Rpb24gKHJlY2libykge1xyXG4gICAgICB2YXIgcmVjaWJvID0gdGhpcy5yZWNpYm87XHJcbiAgICAgIFxyXG4gICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICBjb25jZXB0bzogJ2V4dHJhIC0nLCBcclxuICAgICAgICBkZXRhbGxlc19leHRyYTogcmVjaWJvLmRldGFsbGVzX2V4dHJhLFxyXG4gICAgICAgIGZlY2hhX3BhZ286IHJlY2liby5mZWNoYV9wYWdvLFxyXG4gICAgICAgIGN1b3RhOiByZWNpYm8uY3VvdGEsXHJcbiAgICAgICAgdG90YWw6IHJlY2liby5jdW90YSxcclxuICAgICAgICBlc3RhZG86ICdwYWdhZG8nLFxyXG4gICAgICAgIHRpcG86IHJlY2liby50aXBvLFxyXG4gICAgICAgIGdlbmVyYWRvOiB0cnVlXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICB2YXIgaW5mbyA9IHtcclxuICAgICAgICBpZF9leHRyYTogcmVjaWJvLmlkX2V4dHJhLFxyXG4gICAgICAgIGlkX3BhZ286IHJlY2liby5pZF9wYWdvXHJcbiAgICAgIH07XHJcbiAgICBcclxuICAgICAgcmV0dXJuIHtkYXRhOiBkYXRhLCBpbmZvOiBpbmZvfTtcclxuICAgIH0sXHJcbiAgICBcclxuICAgIGdldFBheW1lbnRzOiBmdW5jdGlvbiAoaWRfZXh0cmEpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgZm9ybSA9IFwiZGF0YT1cIisgSlNPTi5zdHJpbmdpZnkoe2lkX2V4dHJhOiBpZF9leHRyYX0pXHJcbiAgICAgIHZhciBzZW5kID0gYXhpb3MucG9zdChCQVNFX1VSTCArICdleHRyYS9nZXRfZXh0cmFfcGF5bWVudF9vZicsIGZvcm0pXHJcbiAgICAgIHNlbmQudGhlbihmdW5jdGlvbihyZXMpe1xyXG4gICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGE7XHJcblxyXG4gICAgICAgIGlmKCFkYXRhLnBhZ29zKXtcclxuICAgICAgICAgIHNlbGYucmVjaWJvID0gcmVjaWJvUmVzZXRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGVjdEV4dHJhUGF5bWVudC5odG1sKGRhdGEucGFnb3MpLmNoYW5nZSgpXHJcblxyXG4gICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICBkZWxldGVQYXltZW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHJlY2libyA9IHRoaXMucmVjaWJvXHJcbiAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICdpZF9leHRyYSc6IHJlY2liby5pZF9leHRyYSxcclxuICAgICAgICAnaWRfcGFnbyc6IHJlY2liby5pZF9wYWdvXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBmb3JtID0gJ2RhdGE9JysgSlNPTi5zdHJpbmdpZnkoZGF0YSlcclxuICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ2V4dHJhL2RlbGV0ZV9wYXltZW50Jyxmb3JtKVxyXG5cclxuICAgICAgc2VuZC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhXHJcbiAgICAgICAgZGlzcGxheU1lc3NhZ2UoZGF0YS5tZW5zYWplKTtcclxuICAgICAgICBzZWxmLmdldFBheW1lbnRzKHNlbGYuZXh0cmEuaWRfZXh0cmEpO1xyXG4gICAgICB9KVxyXG4gICAgICBzZW5kLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbmJ1cy4kb24oJ3Jvdy1zZWxlY3RlZCcsZnVuY3Rpb24gKHJvdykge1xyXG4gIGV4dHJhVGFibGUuZWwucGFyZW50cyhcIi5ib290c3RyYXAtdGFibGVcIikuYWRkQ2xhc3MoXCJoaWRlXCIpO1xyXG4gIGFwcFBhZ29FeHRyYS52aXNpYmxlID0gdHJ1ZVxyXG4gIGFwcFBhZ29FeHRyYS5leHRyYSA9IHJvd1xyXG4gIGxpc3RFeHRyYXMgPSBleHRyYVRhYmxlLmVsLmZpbmQoJ3Rib2R5JykuaHRtbCgpO1xyXG4gIGFwcFBhZ29FeHRyYS5nZXRQYXltZW50cyhyb3cuaWRfZXh0cmEpO1xyXG59KVxyXG5cclxudmFyIHNlbGVjdEV4dHJhUGF5bWVudCA9ICQoXCIjc2VsZWN0LWV4dHJhLXBheW1lbnRcIik7XHJcbnNlbGVjdEV4dHJhUGF5bWVudC5vbignY2hhbmdlJyxmdW5jdGlvbigpe1xyXG4gIHZhciBpZF9wYWdvID0gc2VsZWN0RXh0cmFQYXltZW50LnZhbCgpXHJcbiAgYXBwUGFnb0V4dHJhLmdldFBheW1lbnQoaWRfcGFnbylcclxufSkiLCJ2YXIgZXh0cmFTZWN0aW9uID0gbmV3IFZ1ZSh7XHJcbiAgZWw6ICcjZXh0cmEtc2VjdGlvbicsXHJcbiAgZGF0YToge1xyXG4gICAgY29udGVudDogJycsXHJcbiAgICBzZWFyY2g6IHtcclxuICAgICAgdGV4dDogJycsXHJcbiAgICAgIHN0YXRlOiAnYWN0aXZvJ1xyXG4gICAgfSxcclxuICAgIHRvdGFsZXM6IHtcclxuICAgICAgcGFnYWRvOiAwLFxyXG4gICAgICBwZW5kaWVudGU6IDAsXHJcbiAgICAgIHRvdGFsX3ZlbmRpZG86IDBcclxuICAgIH0sXHJcbiAgICB0YWJsZUlkOiAnI2V4dHJhLXRhYmxlLWZ1bGwnXHJcbiAgfSxcclxuICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoY3VycmVudFBhZ2UgPT0gJ2V4dHJhcycpIHtcclxuICAgICAgdGhpcy5nZXREYXRhKCk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgZmlsdGVyczoge1xyXG4gICAgY3VycmVuY3lGb3JtYXQ6IGZ1bmN0aW9uKG51bWJlcil7XHJcbiAgICAgIHJldHVybiBcIlJEJCBcIisgQ3VycmVuY3lGb3JtYXQobnVtYmVyKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcclxuICBtZXRob2RzOiB7XHJcbiAgICBmaWx0ZXI6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgZmlsdGVyQlNUYWJsZSh0aGlzLnRhYmxlSWQsdGhpcy5maWx0ZXJWYWx1ZSk7XHJcbiAgICB9LFxyXG4gICAgXHJcbiAgICBnZXREYXRhOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGZvcm0gPSAnZGF0YT0nICsgSlNPTi5zdHJpbmdpZnkodGhpcy5zZWFyY2gpXHJcbiAgICAgIGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAnZXh0cmEvZ2V0X2FsbCcsZm9ybSlcclxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgIHNlbGYuZmlsbFRhYmxlKHJlcy5kYXRhLmNvbnRlbnQpO1xyXG4gICAgICAgIHNlbGYudG90YWxlcyA9IHJlcy5kYXRhLnRvdGFsZXM7XHJcbiAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIGZpbGxUYWJsZTogZnVuY3Rpb24gKGNvbnRlbnQpIHtcclxuICAgICAgZmlsbEJTVGFibGUoJyNleHRyYS10YWJsZS1mdWxsJywgY29udGVudClcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG4iLCJcclxudmFyIGNvbmZpZ01lc3NhZ2UgPSB7XHJcbiAgZW1haWw6ICcnLFxyXG4gIHBhc3N3b3JkOiAnJyxcclxuICBkZXZpY2VfaWQ6ICcnLFxyXG4gIGNvdW50cnlfY29kZTogJycsXHJcbiAgc2VuZF9hdDogJzEgc2Vjb25kJyxcclxuICBleHBpcmVzX2F0OiAnMSBob3VyJ1xyXG59XHJcblxyXG52YXIgY29uZmlnTWVzc2FnZXNGb3JtID0gbmV3IFZ1ZSh7XHJcbiAgZWw6ICcjbWVzc2FnZS1zZXR0aW5ncy1zZWN0aW9uJyxcclxuICBkYXRhOiB7XHJcbiAgICBjb25maWc6IGNvbmZpZ01lc3NhZ2VcclxuICB9LFxyXG5cclxuICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoY3VycmVudFBhZ2UgPT0gJ2FkbWluaXN0cmFkb3InKSBcclxuICAgICAgdGhpcy5nZXRDb25maWcoKVxyXG4gIH0sXHJcblxyXG4gIG1ldGhvZHM6IHtcclxuICAgIGNvbmZpcm1QaG9uZTogZnVuY3Rpb24gKCkge30sXHJcblxyXG4gICAgZ2V0Q29uZmlnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBzZW5kXHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgc2VuZCA9IGF4aW9zLmdldChCQVNFX1VSTCArICdtZXNzYWdlcy9nZXRfY29uZmlnJylcclxuICAgICAgc2VuZC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICBpZihyZXMuZGF0YS5jb25maWcpe1xyXG4gICAgICAgICAgc2VsZi5jb25maWcgPSByZXMuZGF0YS5jb25maWdcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIHNlbmQuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIHNhdmVTZXR0aW5nczogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgdmFyIGNvbmZpZywgZm9ybSwgc2VuZFxyXG4gICAgICBjb25maWcgPSB0aGlzLmNvbmZpZ1xyXG5cclxuICAgICAgZm9ybSA9ICdkYXRhPScgKyBKU09OLnN0cmluZ2lmeShjb25maWcpXHJcbiAgICAgIHNlbmQgPSBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ21lc3NhZ2VzL3NhdmVfY29uZmlnJywgZm9ybSlcclxuICAgICAgc2VuZC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICBkaXNwbGF5TWVzc2FnZShyZXMuZGF0YS5tZW5zYWplKVxyXG4gICAgICB9KVxyXG4gICAgICBzZW5kLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG59KVxyXG5cclxudmFyIHNlbmRNZXNzYWdlQXBwID0gbmV3IFZ1ZSh7XHJcbiAgZWw6ICcjc2VuZC1tZXNzYWdlLW1vZGFsJyxcclxuXHJcbiAgZGF0YToge1xyXG4gICAgaGlkZV9jbGllbnRzOiB0cnVlLFxyXG4gICAgaGlkZV9udW1iZXJzOiB0cnVlLFxyXG5cclxuICAgIG1lc3NhZ2VfZGF0YToge1xyXG4gICAgICB0aXBvOiAnJyxcclxuICAgICAgY2xpZW50ZXM6ICcnLFxyXG4gICAgICBudW1lcm9zOiAnJyxcclxuICAgICAgbWVuc2FqZTogJydcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmluaXRTZWxlY3QyKClcclxuICB9LFxyXG5cclxuICBjb21wdXRlZDoge1xyXG4gICAgbGV0dGVyc19jb3VudDogZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5tZXNzYWdlX2RhdGEubWVuc2FqZS5sZW5ndGhcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBtZXRob2RzOiB7XHJcbiAgICBzZW5kTWVzc2FnZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgZm9ybSwgc2VuZFxyXG5cclxuICAgICAgaWYgKCFpc0VtcHR5KFt0aGlzLm1lc3NhZ2VfZGF0YS50aXBvLCB0aGlzLm1lc3NhZ2VfZGF0YS5tZW5zYWplXSkpIHtcclxuICAgICAgICBmb3JtID0gJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KHRoaXMubWVzc2FnZV9kYXRhKVxyXG4gICAgICAgIHNlbmQgPSBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ21lc3NhZ2VzL3NlbmRfbWVzc2FnZScsIGZvcm0pXHJcbiAgICAgICAgc2VuZC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgIGRpc3BsYXlNZXNzYWdlKHJlcy5kYXRhLm1lbnNhamUpXHJcbiAgICAgICAgfSlcclxuICAgICAgICBzZW5kLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzd2FsKCdDYW1wb3MgUmVxdWVyaWRvcycsICdQb3IgZmF2b3Igc2VsZWNjaW9uZXMgZWwgdGlwbyBkZSBtZW5zYWplIHkgZXNjcmliYSBzdSBtZW5zYWplJylcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBpbml0U2VsZWN0MjogZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXNcclxuICAgICAgdmFyIG9wdGlvbnMgPSB7XHJcbiAgICAgICAgZHJvcGRvd25QYXJlbnQ6ICQoJyNzZW5kLW1lc3NhZ2UtbW9kYWwnKVxyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgc2VsZWN0TWVzc2FnZVR5cGUgPSAkKCcjbWVzc2FnZS10eXBlJylcclxuICAgICAgc2VsZWN0TWVzc2FnZVR5cGUuc2VsZWN0MihvcHRpb25zKVxyXG4gICAgICB2YXIgc2VsZWN0Q2xpZW50c0Zvck1lc3NhZ2UgPSAkKCcjY2xpZW50cy1mb3ItbWVzc2FnZScpLnNlbGVjdDIoe1xyXG4gICAgICAgIGRyb3Bkb3duUGFyZW50OiAkKCcjc2VuZC1tZXNzYWdlLW1vZGFsJyksXHJcbiAgICAgICAgYWpheDoge1xyXG4gICAgICAgICAgdXJsOiBCQVNFX1VSTCArICdtZXNzYWdlcy9zZWFyY2hfY2xpZW50cycsXHJcbiAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgZGVsYXk6IDI1MCxcclxuICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIChwYXJhbXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBxOiBwYXJhbXMudGVybSxcclxuICAgICAgICAgICAgICBwYWdlOiBwYXJhbXMucGFnZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgIHByb2Nlc3NSZXN1bHRzOiBmdW5jdGlvbiAoZGF0YSwgcGFyYW1zKSB7XHJcbiAgICAgICAgICAgIHBhcmFtcy5wYWdlID0gcGFyYW1zLnBhZ2UgfHwgMVxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIHJlc3VsdHM6IGRhdGEuaXRlbXMsXHJcbiAgICAgICAgICAgICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgbW9yZTogKHBhcmFtcy5wYWdlICogMzApIDwgZGF0YS50b3RhbF9jb3VudFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGNhY2hlOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgdmFyIHNlbGVjdHMgPSB7XHJcbiAgICAgICAgY2xpZW50czogc2VsZWN0Q2xpZW50c0Zvck1lc3NhZ2UsXHJcbiAgICAgICAgbWVzc2FnZVR5cGU6IHNlbGVjdE1lc3NhZ2VUeXBlXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zZWxlYzJMaXRlbmVycyhzZWxlY3RzKVxyXG4gICAgfSxcclxuXHJcbiAgICBzZWxlYzJMaXRlbmVyczogZnVuY3Rpb24gKHNlbGVjdHMpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzXHJcbiAgICAgIHNlbGVjdHMubWVzc2FnZVR5cGUub24oJ3NlbGVjdDI6c2VsZWN0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB2YXIgc2VsZWN0ID0gZS5wYXJhbXMuZGF0YS5lbGVtZW50XHJcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBzZWxlY3QuYXR0cmlidXRlc1xyXG4gICAgICAgIHZhciB0aXBvID0gZS5wYXJhbXMuZGF0YS5pZFxyXG4gICAgICAgIHNlbGYubWVzc2FnZV9kYXRhLnRpcG8gPSB0aXBvXHJcblxyXG4gICAgICAgIGlmICh0aXBvID09ICdvdHJvcycpIHtcclxuICAgICAgICAgIHNlbGYuaGlkZV9jbGllbnRzID0gdHJ1ZVxyXG4gICAgICAgICAgc2VsZi5oaWRlX251bWJlcnMgPSBmYWxzZVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGlwbyA9PSAncGVyc29uYWxpemFkbycpIHtcclxuICAgICAgICAgIHNlbGYuaGlkZV9udW1iZXJzID0gdHJ1ZVxyXG4gICAgICAgICAgc2VsZi5oaWRlX2NsaWVudHMgPSBmYWxzZVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWxmLmhpZGVfY2xpZW50cyA9IHRydWVcclxuICAgICAgICAgIHNlbGYuaGlkZV9udW1iZXJzID0gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuXHJcbiAgICAgIHNlbGVjdHMubWVzc2FnZVR5cGUuc2VsZWN0MigndmFsJywnbW9yYScpO1xyXG5cclxuICAgICAgc2VsZWN0cy5jbGllbnRzLm9uKCdzZWxlY3QyOnNlbGVjdCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdmFyIGNsaWVudGVzID0gc2VsZWN0cy5jbGllbnRzLnNlbGVjdDIoJ2RhdGEnKVxyXG4gICAgICAgIHZhciBpdGVtcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xpZW50ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGl0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAnbm9tYnJlX2NvbXBsZXRvJzogY2xpZW50ZXNbaV0udGV4dCxcclxuICAgICAgICAgICAgJ2NlbHVsYXInOiBjbGllbnRlc1tpXS5pZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5tZXNzYWdlX2RhdGEuY2xpZW50ZXMgPSBpdGVtc1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxufSkiLCJ2YXIgcGF5bWVudHNSZXBvcnQgPSBuZXcgVnVlKHtcclxuICBlbDogJyNyZWNpYm9zJyxcclxuICBkYXRhOiB7XHJcbiAgIHRhYmxlOiAnJyxcclxuICAgdGFibGVIVE1MOiAnJyxcclxuICAgdG90YWw6ICcnLFxyXG4gICBiZXR3ZWVuOiB7XHJcbiAgICAgZmlyc3RfZGF0ZTogJycsXHJcbiAgICAgc2Vjb25kX2RhdGU6ICcnLFxyXG4gICAgIHRleHQ6ICcnXHJcbiAgIH1cclxuICB9LFxyXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChjdXJyZW50UGFnZSA9PSAnbm90aWZpY2FjaW9uZXMnKSB7XHJcbiAgICAgIHRoaXMuZ2V0UmVwb3J0KCk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBmaWx0ZXJzOiB7XHJcbiAgICBjdXJyZW5jeUZvcm1hdDogZnVuY3Rpb24obnVtYmVyKXtcclxuICAgICAgcmV0dXJuIFwiUkQkIFwiKyBDdXJyZW5jeUZvcm1hdChudW1iZXIpO1xyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICBtZXRob2RzOiB7XHJcbiAgICBnZXRSZXBvcnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgZm9ybSA9ICdkYXRhPScgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmJldHdlZW4pXHJcbiAgICAgIGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAncGF5bWVudC9nZXRfcmVjZWlwdHMvJywgZm9ybSlcclxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgIHNlbGYuZmlsbFRhYmxlKHJlcy5kYXRhLmNvbnRlbnQpXHJcbiAgICAgICAgc2VsZi50b3RhbCA9IHJlcy5kYXRhLmFjdW07XHJcbiAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIGZpbGxUYWJsZTogZnVuY3Rpb24oY29udGVudCkge1xyXG4gICAgICB2YXIgJHRhYmxlID0gJCgnI3JlY2VpcHRzLXRhYmxlJylcclxuICAgICAgJHRhYmxlLmJvb3RzdHJhcFRhYmxlKCdkZXN0cm95Jyk7XHJcbiAgICAgICR0YWJsZS5maW5kKCd0Ym9keScpLmh0bWwoY29udGVudCk7XHJcbiAgICAgICR0YWJsZS5ib290c3RyYXBUYWJsZSgpO1xyXG4gICAgICAkdGFibGUuZmluZCgndGJvZHknKS5jc3Moe2Rpc3BsYXk6XCJ0YWJsZS1yb3ctZ3JvdXBcIn0pO1xyXG4gICAgfVxyXG4gIH1cclxufSkiLCJ2YXIgUmV0aXJlbWVudFJlcG9ydCA9IG5ldyBWdWUoe1xyXG4gIGVsOiAnI3JldGlyb3MnLFxyXG4gIGRhdGE6IHtcclxuICAgdGFibGU6ICcnLFxyXG4gICB0YWJsZUhUTUw6ICcnLFxyXG4gICBiZXR3ZWVuOiB7XHJcbiAgICAgZmlyc3RfZGF0ZTogJycsXHJcbiAgICAgc2Vjb25kX2RhdGU6ICcnXHJcbiAgIH1cclxuICB9LFxyXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChjdXJyZW50UGFnZSA9PSAnbm90aWZpY2FjaW9uZXMnKSB7XHJcbiAgICAgIHRoaXMuZ2V0UmVwb3J0KCk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgbWV0aG9kczoge1xyXG4gICAgZ2V0UmVwb3J0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGZvcm0gPSAnZGF0YT0nICsgSlNPTi5zdHJpbmdpZnkodGhpcy5iZXR3ZWVuKVxyXG4gICAgICBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ2NvbnRyYWN0L2dldENhbmNlbGF0aW9ucy8nLCBmb3JtKVxyXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgc2VsZi5maWxsVGFibGUocmVzLmRhdGEuY29udGVudClcclxuICAgICAgfSlcclxuICAgIH0sXHJcblxyXG4gICAgZmlsbFRhYmxlOiBmdW5jdGlvbihjb250ZW50KSB7XHJcbiAgICAgIHZhciAkdGFibGUgPSAkKCcjY2FuY2VsYXRpb24tdGFibGUnKVxyXG4gICAgICAkdGFibGUuYm9vdHN0cmFwVGFibGUoJ2Rlc3Ryb3knKTtcclxuICAgICAgJHRhYmxlLmZpbmQoJ3Rib2R5JykuaHRtbChjb250ZW50KTtcclxuICAgICAgJHRhYmxlLmJvb3RzdHJhcFRhYmxlKCk7XHJcbiAgICAgICR0YWJsZS5maW5kKCd0Ym9keScpLmNzcyh7ZGlzcGxheTpcInRhYmxlLXJvdy1ncm91cFwifSk7XHJcbiAgICB9XHJcbiAgfVxyXG59KSIsIiAgdmFyIHRpY2tldExpc3RWaWV3ID0gbmV3IFZ1ZSh7XHJcbiAgICBlbDogJyNhdmVyaWFzLWxpc3QtdmlldycsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIGRhdGFTZWFyY2g6IHtcclxuICAgICAgICB0ZXh0OiAnJyxcclxuICAgICAgICBzdGF0ZTogJ3BvciByZXBhcmFyJyxcclxuICAgICAgfSxcclxuICAgICAgdGlja2V0czogW10sXHJcbiAgICAgIGhpZGU6IGZhbHNlXHJcbiAgICB9LFxyXG5cclxuICAgIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdGhpcy5pdGVtQ2xpY2tMaXN0ZW5lcigpO1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXNcclxuICAgICAgYnVzQXZlcmlhLiRvbigndGlja2V0cy1saXN0ZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5pdGVtQ2xpY2tMaXN0ZW5lcigpXHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgIHNlYXJjaDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBmb3JtID0gJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YVNlYXJjaCk7XHJcbiAgICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ2FwaS9hdmVyaWFzL3NlYXJjaCcsIGZvcm0pO1xyXG5cclxuICAgICAgICBzZW5kLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgdGhpcy5maWxsQXZlcmlhc0xpc3QocmVzLmRhdGEpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHNlbmQuY2F0Y2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihyZXMuZGF0YS5tZW5zYWplKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgfSxcclxuXHJcbiAgICAgIGZpbGxBdmVyaWFzTGlzdDogZnVuY3Rpb24gKCRjb250ZW50KSB7XHJcbiAgICAgICAgJCgnI2F2ZXJpYS1pdGVtLWxpc3QnKS5odG1sKCRjb250ZW50KTtcclxuICAgICAgICB0aWNrZXRMaXN0Vmlldy5pdGVtQ2xpY2tMaXN0ZW5lcigpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgaXRlbUNsaWNrTGlzdGVuZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcjYXZlcmlhcy1saXN0LXZpZXcgLmF2ZXJpYS1pdGVtJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdmFyIGlkX2F2ZXJpYSA9ICQodGhpcykuZmluZCgnLmNvZGUnKS50ZXh0KCkudHJpbSgpO1xyXG4gICAgICAgICAgdGlja2V0Vmlldy5nZXRUaWNrZXQoaWRfYXZlcmlhKTtcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHZhciBlbXB0eVRpY2tldCA9IHtcclxuICAgIFwiaWRfYXZlcmlhXCI6IFwiXCIsXHJcbiAgICBcImlkX2NsaWVudGVcIjogXCJcIixcclxuICAgIFwiY2xpZW50ZVwiOiBcIlwiLFxyXG4gICAgXCJkaXJlY2Npb25cIjogXCJcIixcclxuICAgIFwiZGVzY3JpcGNpb25cIjogXCJcIixcclxuICAgIFwiY2VsdWxhclwiOiBcIlwiLFxyXG4gICAgXCJmZWNoYVwiOiBcIlwiLFxyXG4gICAgXCJlc3RhZG9cIjogXCJcIixcclxuICAgIFwiZmVjaGFfcmVwYXJhY2lvblwiOiBcIlwiLFxyXG4gICAgXCJ0ZWNuaWNvXCI6IFwiXCIsXHJcbiAgICBcImNvZGlnb1wiOiAnJyxcclxuICB9XHJcbiAgXHJcbiAgdmFyIHRpY2tldFZpZXcgPSBuZXcgVnVlKHtcclxuICAgIGVsOiAnI3RpY2tldC12aWV3JyxcclxuICAgIFxyXG4gICAgZGF0YToge1xyXG4gICAgICBjbGFzc2VzOiB7XHJcbiAgICAgICAgaGlkZTogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICBtb2RlOiB7XHJcbiAgICAgICAgbmV3Q29tbWVudDogZmFsc2UsXHJcbiAgICAgICAgZWRpdDogZmFsc2UsXHJcbiAgICAgIH0sXHJcbiAgICAgIG5ld19jb21tZW50OiAnJyxcclxuICAgICAgY29tbWVudHM6IFtdLFxyXG4gICAgICB0aWNrZXQ6IGVtcHR5VGlja2V0XHJcbiAgICB9LFxyXG4gICAgY3JlYXRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAkKCcjdGlja2V0LXZpZXcnKS5yZW1vdmVDbGFzcygnaW52aXNpYmxlJylcclxuICAgIH0sXHJcblxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICBnZXRUaWNrZXQ6IGZ1bmN0aW9uIChpZF9hdmVyaWEpIHtcclxuICAgICAgICB2YXIgZm9ybSA9ICdkYXRhPScgKyBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBpZF9hdmVyaWE6IGlkX2F2ZXJpYVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ2FwaS9hdmVyaWFzL2dldF9hdmVyaWEnLCBmb3JtKTtcclxuICAgICAgICBcclxuICAgICAgICBzZW5kLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTtcclxuICAgICAgICAgIHRpY2tldFZpZXcuY2xhc3Nlcy5oaWRlID0gZmFsc2U7XHJcbiAgICAgICAgICB0aWNrZXRMaXN0Vmlldy5oaWRlID0gdHJ1ZTtcclxuICAgICAgICAgIHRpY2tldFZpZXcudGlja2V0ID0gZGF0YS50aWNrZXQ7XHJcbiAgICAgICAgICB0aWNrZXRWaWV3LmNvbW1lbnRzID0gZGF0YS5jb21tZW50cztcclxuICAgICAgICB9KVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgcXVpdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudGlja2V0ID0gZW1wdHlUaWNrZXQ7XHJcbiAgICAgICAgdGhpcy5jb21tZW50cyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jbGFzc2VzLmhpZGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuY2xvc2VDb21tZW50TW9kZSgpO1xyXG4gICAgICAgIHRpY2tldExpc3RWaWV3LmhpZGUgPSBmYWxzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHByaW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcHJpbnQoKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHN0YXJ0Q29tbWVudDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMubW9kZS5uZXdDb21tZW50ID0gdHJ1ZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGFkZENvbW1lbnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZm9ybSA9IGdldEZvcm0oe2lkX2F2ZXJpYTogdGhpcy50aWNrZXQuaWRfYXZlcmlhLCBkZXNjcmlwY2lvbjogdGhpcy5uZXdfY29tbWVudH0pO1xyXG4gICAgICAgIHZhciBzZW5kID0gYXhpb3MucG9zdChCQVNFX1VSTCArICdhcGkvYXZlcmlhcy9hZGRfY29tbWVudCcsZm9ybSk7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbmQudGhlbiggZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgc2VsZi5nZXRDb21tZW50cygpO1xyXG4gICAgICAgICAgc2VsZi5jbG9zZUNvbW1lbnRNb2RlKClcclxuICAgICAgICAgIGRpc3BsYXlNZXNzYWdlKHJlcy5kYXRhLm1lbnNhamUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgX2RlbGV0ZUNvbW1lbnQ6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdmFyIGNvbW1lbnRJdGVtID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlXHJcbiAgICAgICAgdmFyIGlkQ29tbWVudCA9IGUudGFyZ2V0LnBhcmVudE5vZGUuYXR0cmlidXRlc1snZGF0YS1pZCddLnZhbHVlXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGNvbW1lbnRJdGVtLmNsYXNzTGlzdC5hZGQoJ3RvLWRlbGV0ZScpO1xyXG5cclxuICAgICAgICBzd2FsKHtcclxuICAgICAgICAgIHRpdGxlOiAnRXN0w6EgU2VndXJvPycsXHJcbiAgICAgICAgICB0ZXh0OiBcIlNlZ3VybyBkZSBxdWUgZWxpbWluYXIgZXN0ZSByZXBvcnRlP1wiLFxyXG4gICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxyXG4gICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcclxuICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnRWxpbWluYXInLFxyXG4gICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbGFyJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHNlbGYuZGVsZXRlQ29tbWVudChpZENvbW1lbnQpO1xyXG4gICAgICAgICAgY29tbWVudEl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgndG8tZGVsZXRlJylcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBjb21tZW50SXRlbS5jbGFzc0xpc3QucmVtb3ZlKCd0by1kZWxldGUnKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBkZWxldGVDb21tZW50OiBmdW5jdGlvbiAoaWRDb21tZW50KXtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGZvcm0gPSBnZXRGb3JtKHsgaWRfcmVwb3J0ZTogaWRDb21tZW50fSk7XHJcbiAgICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ2FwaS9hdmVyaWFzL2RlbGV0ZV9jb21tZW50Jyxmb3JtKTtcclxuXHJcbiAgICAgICAgc2VuZC50aGVuKCBmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICBzZWxmLmdldENvbW1lbnRzKCk7XHJcbiAgICAgICAgICBkaXNwbGF5TWVzc2FnZShyZXMuZGF0YS5tZW5zYWplKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGVkaXRDb21tZW50OiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICB9LFxyXG4gICAgICBcclxuICAgICAgY2xvc2VDb21tZW50TW9kZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMubW9kZS5uZXdDb21tZW50ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5uZXdfY29tbWVudCA9ICcnO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0Q29tbWVudHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZm9ybSA9IGdldEZvcm0oe2lkX2F2ZXJpYTogdGhpcy50aWNrZXQuaWRfYXZlcmlhfSk7XHJcbiAgICAgICAgdmFyIHNlbmQgPSBheGlvcy5wb3N0KEJBU0VfVVJMICsgJ2FwaS9hdmVyaWFzL2dldF9jb21tZW50cycsZm9ybSk7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzXHJcbiAgICAgICAgc2VuZC50aGVuKCBmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICBzZWxmLmNvbW1lbnRzID0gcmVzLmRhdGEuY29tbWVudHM7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB1cGRhdGVEZXNjcmlwdGlvbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlVGlja2V0KFsnaWRfYXZlcmlhJywnZGVzY3JpcGNpb24nLCd0ZWNuaWNvJywnZXN0YWRvJywnZmVjaGFfcmVwYXJhY2lvbiddKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHVwZGF0ZVN0YXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudGlja2V0LmVzdGFkbyA9PSAncG9yIHJlcGFyYXInKSB7XHJcbiAgICAgICAgICB0aGlzLnRpY2tldC5mZWNoYV9yZXBhcmFjaW9uID0gJydcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy50aWNrZXQuZmVjaGFfcmVwYXJhY2lvbiA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIHVwZGF0ZVRpY2tldDogZnVuY3Rpb24gKGZpZWxkcykge1xyXG4gICAgICAgIHRoaXMuY2xvc2VFZGl0TW9kZSgpO1xyXG4gICAgICAgIHZhciBmb3JtID0gZ2V0Rm9ybSh0aGlzLmdldEZpZWxkcyhmaWVsZHMpKTtcclxuICAgICAgICB2YXIgc2VuZCA9IGF4aW9zLnBvc3QoQkFTRV9VUkwgKyAnYXBpL2F2ZXJpYXMvdXBkYXRlX2F2ZXJpYScsZm9ybSk7XHJcblxyXG4gICAgICAgIHNlbmQudGhlbiggZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgdGlja2V0TGlzdFZpZXcuc2VhcmNoKCk7XHJcbiAgICAgICAgICBkaXNwbGF5TWVzc2FnZShyZXMuZGF0YS5tZW5zYWplKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBkZWxldGVUaWNrZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmluZm8oJ2RlbGV0ZWQnKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNsb3NlRWRpdE1vZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm1vZGUuZWRpdCA9IGZhbHNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZW50ZXJFZGl0TW9kZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMubW9kZS5lZGl0ID0gdHJ1ZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldEZpZWxkczogZnVuY3Rpb24gKGZpZWxkcykge1xyXG4gICAgICAgIHZhciBzZWxlY3RlZEZpZWxkcyA9IHt9O1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCkge1xyXG4gICAgICAgICAgc2VsZWN0ZWRGaWVsZHNbZmllbGRdID0gc2VsZi50aWNrZXRbZmllbGRdXHJcbiAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgIHJldHVybiBzZWxlY3RlZEZpZWxkcztcclxuICAgICAgfVxyXG5cclxuICAgIH1cclxuICB9KVxyXG5cclxuICBmdW5jdGlvbiBnZXRGb3JtKG9iamVjdCl7XHJcbiAgICByZXR1cm4gXCJkYXRhPVwiICsgSlNPTi5zdHJpbmdpZnkob2JqZWN0KTtcclxuICB9XHJcbiJdfQ==
