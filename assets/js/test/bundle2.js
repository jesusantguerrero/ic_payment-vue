!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Sweetalert2=t()}(this,function(){"use strict";var e={title:"",titleText:"",text:"",html:"",type:null,customClass:"",target:"body",animation:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonColor:"#3085d6",confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonColor:"#aaa",cancelButtonClass:null,buttonsStyling:!0,reverseButtons:!1,focusCancel:!1,showCloseButton:!1,showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageClass:null,timer:null,width:500,padding:20,background:"#fff",input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:null,inputAttributes:{},inputValidator:null,progressSteps:[],currentProgressStep:null,progressStepsDistance:"40px",onOpen:null,onClose:null,useRejections:!0},t=function(e){var t={};for(var n in e)t[e[n]]="swal2-"+e[n];return t},n=t(["container","shown","iosfix","modal","overlay","fade","show","hide","noanimation","close","title","content","buttonswrapper","confirm","cancel","icon","image","input","file","range","select","radio","checkbox","textarea","inputerror","validationerror","progresssteps","activeprogressstep","progresscircle","progressline","loading","styled"]),o=t(["success","warning","info","question","error"]),i=function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;for(var n="#",o=0;o<3;o++){var i=parseInt(e.substr(2*o,2),16);n+=("00"+(i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16))).substr(i.length)}return n},r=function(e){var t=[];for(var n in e)-1===t.indexOf(e[n])&&t.push(e[n]);return t},a={previousWindowKeyDown:null,previousActiveElement:null,previousBodyPadding:null},l=function(e){if("undefined"!=typeof document){var t=document.createElement("div");t.className=n.container,t.innerHTML=s;var o=document.querySelector(e.target);o||(console.warn("SweetAlert2: Can't find the target \""+e.target+'"'),o=document.body),o.appendChild(t);var i=u(),r=B(i,n.input),a=B(i,n.file),l=i.querySelector("."+n.range+" input"),c=i.querySelector("."+n.range+" output"),d=B(i,n.select),p=i.querySelector("."+n.checkbox+" input"),f=B(i,n.textarea);return r.oninput=function(){Q.resetValidationError()},r.onkeydown=function(t){setTimeout(function(){13===t.keyCode&&e.allowEnterKey&&(t.stopPropagation(),Q.clickConfirm())},0)},a.onchange=function(){Q.resetValidationError()},l.oninput=function(){Q.resetValidationError(),c.value=l.value},l.onchange=function(){Q.resetValidationError(),l.previousSibling.value=l.value},d.onchange=function(){Q.resetValidationError()},p.onchange=function(){Q.resetValidationError()},f.oninput=function(){Q.resetValidationError()},i}console.error("SweetAlert2 requires document to initialize")},s=('\n <div role="dialog" aria-labelledby="'+n.title+'" aria-describedby="'+n.content+'" class="'+n.modal+'" tabindex="-1">\n   <ul class="'+n.progresssteps+'"></ul>\n   <div class="'+n.icon+" "+o.error+'">\n     <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n   </div>\n   <div class="'+n.icon+" "+o.question+'">?</div>\n   <div class="'+n.icon+" "+o.warning+'">!</div>\n   <div class="'+n.icon+" "+o.info+'">i</div>\n   <div class="'+n.icon+" "+o.success+'">\n     <div class="swal2-success-circular-line-left"></div>\n     <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n     <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n     <div class="swal2-success-circular-line-right"></div>\n   </div>\n   <img class="'+n.image+'">\n   <h2 class="'+n.title+'" id="'+n.title+'"></h2>\n   <div id="'+n.content+'" class="'+n.content+'"></div>\n   <input class="'+n.input+'">\n   <input type="file" class="'+n.file+'">\n   <div class="'+n.range+'">\n     <output></output>\n     <input type="range">\n   </div>\n   <select class="'+n.select+'"></select>\n   <div class="'+n.radio+'"></div>\n   <label for="'+n.checkbox+'" class="'+n.checkbox+'">\n     <input type="checkbox">\n   </label>\n   <textarea class="'+n.textarea+'"></textarea>\n   <div class="'+n.validationerror+'"></div>\n   <div class="'+n.buttonswrapper+'">\n     <button type="button" class="'+n.confirm+'">OK</button>\n     <button type="button" class="'+n.cancel+'">Cancel</button>\n   </div>\n   <button type="button" class="'+n.close+'" aria-label="Close this dialog">&times;</button>\n </div>\n').replace(/(^|\n)\s*/g,""),c=function(){return document.body.querySelector("."+n.container)},u=function(){return c()?c().querySelector("."+n.modal):null},d=function(){return u().querySelectorAll("."+n.icon)},p=function(e){return c()?c().querySelector("."+e):null},f=function(){return p(n.title)},b=function(){return p(n.content)},m=function(){return p(n.image)},h=function(){return p(n.buttonswrapper)},v=function(){return p(n.progresssteps)},g=function(){return p(n.validationerror)},y=function(){return p(n.confirm)},w=function(){return p(n.cancel)},C=function(){return p(n.close)},T=function(e){var t=[y(),w()];e&&t.reverse();var n=t.concat(Array.prototype.slice.call(u().querySelectorAll('button, input:not([type=hidden]), textarea, select, a, *[tabindex]:not([tabindex="-1"])')));return r(n)},S=function(e,t){return!!e.classList&&e.classList.contains(t)},x=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},k=function(e,t){e&&t&&t.split(/\s+/).filter(Boolean).forEach(function(t){e.classList.add(t)})},E=function(e,t){e&&t&&t.split(/\s+/).filter(Boolean).forEach(function(t){e.classList.remove(t)})},B=function(e,t){for(var n=0;n<e.childNodes.length;n++)if(S(e.childNodes[n],t))return e.childNodes[n]},A=function(e,t){t||(t="block"),e.style.opacity="",e.style.display=t},P=function(e){e.style.opacity="",e.style.display="none"},L=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},q=function(e){return e.offsetWidth||e.offsetHeight||e.getClientRects().length},M=function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},O=function(e){if(!q(e))return!1;if("function"==typeof MouseEvent){var t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});e.dispatchEvent(t)}else if(document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!1,!1),e.dispatchEvent(n)}else document.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()},R=function(){var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",animation:"animationend"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return t[n];return!1}(),V=function(){if(window.onkeydown=a.previousWindowKeyDown,a.previousActiveElement&&a.previousActiveElement.focus){var e=window.scrollX,t=window.scrollY;a.previousActiveElement.focus(),e&&t&&window.scrollTo(e,t)}},$=function(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},H=function(e,t){var n=void 0;return function(){var o=function(){n=null,e()};clearTimeout(n),n=setTimeout(o,t)}},N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},I=j({},e),_=[],U=void 0,D=function(t){var i=u()||l(t);for(var r in t)e.hasOwnProperty(r)||"extraParams"===r||console.warn('SweetAlert2: Unknown parameter "'+r+'"');i.style.width="number"==typeof t.width?t.width+"px":t.width,i.style.padding=t.padding+"px",i.style.background=t.background;for(var a=i.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),s=0;s<a.length;s++)a[s].style.background=t.background;var c=f(),p=b(),g=h(),T=y(),S=w(),x=C();if(t.titleText?c.innerText=t.titleText:c.innerHTML=t.title.split("\n").join("<br>"),t.text||t.html){if("object"===N(t.html))if(p.innerHTML="",0 in t.html)for(var B=0;B in t.html;B++)p.appendChild(t.html[B].cloneNode(!0));else p.appendChild(t.html.cloneNode(!0));else t.html?p.innerHTML=t.html:t.text&&(p.textContent=t.text);A(p)}else P(p);t.showCloseButton?A(x):P(x),i.className=n.modal,t.customClass&&k(i,t.customClass);var q=v(),O=parseInt(null===t.currentProgressStep?Q.getQueueStep():t.currentProgressStep,10);t.progressSteps.length?(A(q),L(q),O>=t.progressSteps.length&&console.warn("SweetAlert2: Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach(function(e,o){var i=document.createElement("li");if(k(i,n.progresscircle),i.innerHTML=e,o===O&&k(i,n.activeprogressstep),q.appendChild(i),o!==t.progressSteps.length-1){var r=document.createElement("li");k(r,n.progressline),r.style.width=t.progressStepsDistance,q.appendChild(r)}})):P(q);for(var R=d(),V=0;V<R.length;V++)P(R[V]);if(t.type){var $=!1;for(var H in o)if(t.type===H){$=!0;break}if(!$)return console.error("SweetAlert2: Unknown alert type: "+t.type),!1;var j=i.querySelector("."+n.icon+"."+o[t.type]);if(A(j),t.animation)switch(t.type){case"success":k(j,"swal2-animate-success-icon"),k(j.querySelector(".swal2-success-line-tip"),"swal2-animate-success-line-tip"),k(j.querySelector(".swal2-success-line-long"),"swal2-animate-success-line-long");break;case"error":k(j,"swal2-animate-error-icon"),k(j.querySelector(".swal2-x-mark"),"swal2-animate-x-mark")}}var I=m();t.imageUrl?(I.setAttribute("src",t.imageUrl),A(I),t.imageWidth?I.setAttribute("width",t.imageWidth):I.removeAttribute("width"),t.imageHeight?I.setAttribute("height",t.imageHeight):I.removeAttribute("height"),I.className=n.image,t.imageClass&&k(I,t.imageClass)):P(I),t.showCancelButton?S.style.display="inline-block":P(S),t.showConfirmButton?M(T,"display"):P(T),t.showConfirmButton||t.showCancelButton?A(g):P(g),T.innerHTML=t.confirmButtonText,S.innerHTML=t.cancelButtonText,t.buttonsStyling&&(T.style.backgroundColor=t.confirmButtonColor,S.style.backgroundColor=t.cancelButtonColor),T.className=n.confirm,k(T,t.confirmButtonClass),S.className=n.cancel,k(S,t.cancelButtonClass),t.buttonsStyling?(k(T,n.styled),k(S,n.styled)):(E(T,n.styled),E(S,n.styled),T.style.backgroundColor=T.style.borderLeftColor=T.style.borderRightColor="",S.style.backgroundColor=S.style.borderLeftColor=S.style.borderRightColor=""),!0===t.animation?E(i,n.noanimation):k(i,n.noanimation)},K=function(e,t){var o=c(),i=u();e?(k(i,n.show),k(o,n.fade),E(i,n.hide)):E(i,n.fade),A(i),o.style.overflowY="hidden",R&&!S(i,n.noanimation)?i.addEventListener(R,function e(){i.removeEventListener(R,e),o.style.overflowY="auto"}):o.style.overflowY="auto",k(document.documentElement,n.shown),k(document.body,n.shown),k(o,n.shown),W(),z(),a.previousActiveElement=document.activeElement,null!==t&&"function"==typeof t&&setTimeout(function(){t(i)})},W=function(){null===a.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(a.previousBodyPadding=document.body.style.paddingRight,document.body.style.paddingRight=$()+"px")},Y=function(){null!==a.previousBodyPadding&&(document.body.style.paddingRight=a.previousBodyPadding,a.previousBodyPadding=null)},z=function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!S(document.body,n.iosfix)){var e=document.body.scrollTop;document.body.style.top=-1*e+"px",k(document.body,n.iosfix)}},Z=function(){if(S(document.body,n.iosfix)){var e=parseInt(document.body.style.top,10);E(document.body,n.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Q=function e(){for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];if(void 0===o[0])return console.error("SweetAlert2 expects at least 1 attribute!"),!1;var l=j({},I);switch(N(o[0])){case"string":l.title=o[0],l.html=o[1],l.type=o[2];break;case"object":j(l,o[0]),l.extraParams=o[0].extraParams,"email"===l.input&&null===l.inputValidator&&(l.inputValidator=function(e){return new Promise(function(t,n){/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(e)?t():n("Invalid email address")})}),"url"===l.input&&null===l.inputValidator&&(l.inputValidator=function(e){return new Promise(function(t,n){/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(e)?t():n("Invalid URL")})});break;default:return console.error('SweetAlert2: Unexpected type of argument! Expected "string" or "object", got '+N(o[0])),!1}D(l);var s=c(),d=u();return new Promise(function(t,o){l.timer&&(d.timeout=setTimeout(function(){e.closeModal(l.onClose),l.useRejections?o("timer"):t({dismiss:"timer"})},l.timer));var r=function(e){if(!(e=e||l.input))return null;switch(e){case"select":case"textarea":case"file":return B(d,n[e]);case"checkbox":return d.querySelector("."+n.checkbox+" input");case"radio":return d.querySelector("."+n.radio+" input:checked")||d.querySelector("."+n.radio+" input:first-child");case"range":return d.querySelector("."+n.range+" input");default:return B(d,n.input)}},p=function(){var e=r();if(!e)return null;switch(l.input){case"checkbox":return e.checked?1:0;case"radio":return e.checked?e.value:null;case"file":return e.files.length?e.files[0]:null;default:return l.inputAutoTrim?e.value.trim():e.value}};l.input&&setTimeout(function(){var e=r();e&&x(e)},0);for(var S=function(n){l.showLoaderOnConfirm&&e.showLoading(),l.preConfirm?l.preConfirm(n,l.extraParams).then(function(o){e.closeModal(l.onClose),t(o||n)},function(t){e.hideLoading(),t&&e.showValidationError(t)}):(e.closeModal(l.onClose),t(l.useRejections?n:{value:n}))},L=function(n){var r=n||window.event,a=r.target||r.srcElement,s=y(),c=w(),u=s&&(s===a||s.contains(a)),d=c&&(c===a||c.contains(a));switch(r.type){case"mouseover":case"mouseup":l.buttonsStyling&&(u?s.style.backgroundColor=i(l.confirmButtonColor,-.1):d&&(c.style.backgroundColor=i(l.cancelButtonColor,-.1)));break;case"mouseout":l.buttonsStyling&&(u?s.style.backgroundColor=l.confirmButtonColor:d&&(c.style.backgroundColor=l.cancelButtonColor));break;case"mousedown":l.buttonsStyling&&(u?s.style.backgroundColor=i(l.confirmButtonColor,-.2):d&&(c.style.backgroundColor=i(l.cancelButtonColor,-.2)));break;case"click":if(u&&e.isVisible())if(e.disableButtons(),l.input){var f=p();l.inputValidator?(e.disableInput(),l.inputValidator(f,l.extraParams).then(function(){e.enableButtons(),e.enableInput(),S(f)},function(t){e.enableButtons(),e.enableInput(),t&&e.showValidationError(t)})):S(f)}else S(!0);else d&&e.isVisible()&&(e.disableButtons(),e.closeModal(l.onClose),l.useRejections?o("cancel"):t({dismiss:"cancel"}))}},M=d.querySelectorAll("button"),R=0;R<M.length;R++)M[R].onclick=L,M[R].onmouseover=L,M[R].onmouseout=L,M[R].onmousedown=L;C().onclick=function(){e.closeModal(l.onClose),l.useRejections?o("close"):t({dismiss:"close"})},s.onclick=function(n){n.target===s&&l.allowOutsideClick&&(e.closeModal(l.onClose),l.useRejections?o("overlay"):t({dismiss:"overlay"}))};var V=h(),$=y(),j=w();l.reverseButtons?$.parentNode.insertBefore(j,$):$.parentNode.insertBefore($,j);var I=function(e,t){for(var n=T(l.focusCancel),o=0;o<n.length;o++){(e+=t)===n.length?e=0:-1===e&&(e=n.length-1);var i=n[e];if(q(i))return i.focus()}},_=function(n){var i=n||window.event,r=i.keyCode||i.which;if(-1!==[9,13,32,27,37,38,39,40].indexOf(r)){for(var a=i.target||i.srcElement,s=T(l.focusCancel),c=-1,u=0;u<s.length;u++)if(a===s[u]){c=u;break}9===r?(i.shiftKey?I(c,-1):I(c,1),i.stopPropagation(),i.preventDefault()):37===r||38===r||39===r||40===r?document.activeElement===$&&q(j)?j.focus():document.activeElement===j&&q($)&&$.focus():13===r||32===r?-1===c&&l.allowEnterKey&&(O(l.focusCancel?j:$),i.stopPropagation(),i.preventDefault()):27===r&&!0===l.allowEscapeKey&&(e.closeModal(l.onClose),l.useRejections?o("esc"):t({dismiss:"esc"}))}};window.onkeydown&&window.onkeydown.toString()===_.toString()||(a.previousWindowKeyDown=window.onkeydown,window.onkeydown=_),l.buttonsStyling&&($.style.borderLeftColor=l.confirmButtonColor,$.style.borderRightColor=l.confirmButtonColor),e.hideLoading=e.disableLoading=function(){l.showConfirmButton||(P($),l.showCancelButton||P(h())),E(V,n.loading),E(d,n.loading),$.disabled=!1,j.disabled=!1},e.getTitle=function(){return f()},e.getContent=function(){return b()},e.getInput=function(){return r()},e.getImage=function(){return m()},e.getButtonsWrapper=function(){return h()},e.getConfirmButton=function(){return y()},e.getCancelButton=function(){return w()},e.enableButtons=function(){$.disabled=!1,j.disabled=!1},e.disableButtons=function(){$.disabled=!0,j.disabled=!0},e.enableConfirmButton=function(){$.disabled=!1},e.disableConfirmButton=function(){$.disabled=!0},e.enableInput=function(){var e=r();if(!e)return!1;if("radio"===e.type)for(var t=e.parentNode.parentNode.querySelectorAll("input"),n=0;n<t.length;n++)t[n].disabled=!1;else e.disabled=!1},e.disableInput=function(){var e=r();if(!e)return!1;if(e&&"radio"===e.type)for(var t=e.parentNode.parentNode.querySelectorAll("input"),n=0;n<t.length;n++)t[n].disabled=!0;else e.disabled=!0},e.recalculateHeight=H(function(){var e=u();if(e){var t=e.style.display;e.style.minHeight="",A(e),e.style.minHeight=e.scrollHeight+1+"px",e.style.display=t}},50),e.showValidationError=function(e){var t=g();t.innerHTML=e,A(t);var o=r();o&&(x(o),k(o,n.inputerror))},e.resetValidationError=function(){var t=g();P(t),e.recalculateHeight();var o=r();o&&E(o,n.inputerror)},e.getProgressSteps=function(){return l.progressSteps},e.setProgressSteps=function(e){l.progressSteps=e,D(l)},e.showProgressSteps=function(){A(v())},e.hideProgressSteps=function(){P(v())},e.enableButtons(),e.hideLoading(),e.resetValidationError();for(var W=["input","file","range","select","radio","checkbox","textarea"],Y=void 0,z=0;z<W.length;z++){var Z=n[W[z]],Q=B(d,Z);if(Y=r(W[z])){for(var F in Y.attributes)if(Y.attributes.hasOwnProperty(F)){var J=Y.attributes[F].name;"type"!==J&&"value"!==J&&Y.removeAttribute(J)}for(var X in l.inputAttributes)Y.setAttribute(X,l.inputAttributes[X])}Q.className=Z,l.inputClass&&k(Q,l.inputClass),P(Q)}var G=void 0;switch(l.input){case"text":case"email":case"password":case"number":case"tel":case"url":(Y=B(d,n.input)).value=l.inputValue,Y.placeholder=l.inputPlaceholder,Y.type=l.input,A(Y);break;case"file":(Y=B(d,n.file)).placeholder=l.inputPlaceholder,Y.type=l.input,A(Y);break;case"range":var ee=B(d,n.range),te=ee.querySelector("input"),ne=ee.querySelector("output");te.value=l.inputValue,te.type=l.input,ne.value=l.inputValue,A(ee);break;case"select":var oe=B(d,n.select);if(oe.innerHTML="",l.inputPlaceholder){var ie=document.createElement("option");ie.innerHTML=l.inputPlaceholder,ie.value="",ie.disabled=!0,ie.selected=!0,oe.appendChild(ie)}G=function(e){for(var t in e){var n=document.createElement("option");n.value=t,n.innerHTML=e[t],l.inputValue===t&&(n.selected=!0),oe.appendChild(n)}A(oe),oe.focus()};break;case"radio":var re=B(d,n.radio);re.innerHTML="",G=function(e){for(var t in e){var o=document.createElement("input"),i=document.createElement("label"),r=document.createElement("span");o.type="radio",o.name=n.radio,o.value=t,l.inputValue===t&&(o.checked=!0),r.innerHTML=e[t],i.appendChild(o),i.appendChild(r),i.for=o.id,re.appendChild(i)}A(re);var a=re.querySelectorAll("input");a.length&&a[0].focus()};break;case"checkbox":var ae=B(d,n.checkbox),le=r("checkbox");le.type="checkbox",le.value=1,le.id=n.checkbox,le.checked=Boolean(l.inputValue);var se=ae.getElementsByTagName("span");se.length&&ae.removeChild(se[0]),(se=document.createElement("span")).innerHTML=l.inputPlaceholder,ae.appendChild(se),A(ae);break;case"textarea":var ce=B(d,n.textarea);ce.value=l.inputValue,ce.placeholder=l.inputPlaceholder,A(ce);break;case null:break;default:console.error('SweetAlert2: Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'+l.input+'"')}"select"!==l.input&&"radio"!==l.input||(l.inputOptions instanceof Promise?(e.showLoading(),l.inputOptions.then(function(t){e.hideLoading(),G(t)})):"object"===N(l.inputOptions)?G(l.inputOptions):console.error("SweetAlert2: Unexpected type of inputOptions! Expected object or Promise, got "+N(l.inputOptions))),K(l.animation,l.onOpen),l.allowEnterKey?I(-1,1):document.activeElement&&document.activeElement.blur(),c().scrollTop=0,"undefined"==typeof MutationObserver||U||(U=new MutationObserver(e.recalculateHeight)).observe(d,{childList:!0,characterData:!0,subtree:!0})})};return Q.isVisible=function(){return!!u()},Q.queue=function(e){_=e;var t=function(){_=[],document.body.removeAttribute("data-swal2-queue-step")},n=[];return new Promise(function(e,o){!function i(r,a){r<_.length?(document.body.setAttribute("data-swal2-queue-step",r),Q(_[r]).then(function(e){n.push(e),i(r+1,a)},function(e){t(),o(e)})):(t(),e(n))}(0)})},Q.getQueueStep=function(){return document.body.getAttribute("data-swal2-queue-step")},Q.insertQueueStep=function(e,t){return t&&t<_.length?_.splice(t,0,e):_.push(e)},Q.deleteQueueStep=function(e){void 0!==_[e]&&_.splice(e,1)},Q.close=Q.closeModal=function(e){var t=c(),o=u();if(o){E(o,n.show),k(o,n.hide),clearTimeout(o.timeout),V();var i=function(){t.parentNode&&t.parentNode.removeChild(t),E(document.documentElement,n.shown),E(document.body,n.shown),Y(),Z()};R&&!S(o,n.noanimation)?o.addEventListener(R,function e(){o.removeEventListener(R,e),S(o,n.hide)&&i()}):i(),null!==e&&"function"==typeof e&&setTimeout(function(){e(o)})}},Q.clickConfirm=function(){return y().click()},Q.clickCancel=function(){return w().click()},Q.showLoading=Q.enableLoading=function(){var e=u();e||Q("");var t=h(),o=y(),i=w();A(t),A(o,"inline-block"),k(t,n.loading),k(e,n.loading),o.disabled=!0,i.disabled=!0},Q.setDefaults=function(t){if(!t||"object"!==(void 0===t?"undefined":N(t)))return console.error("SweetAlert2: the argument for setDefaults() is required and has to be a object");for(var n in t)e.hasOwnProperty(n)||"extraParams"===n||(console.warn('SweetAlert2: Unknown parameter "'+n+'"'),delete t[n]);j(I,t)},Q.resetDefaults=function(){I=j({},e)},Q.noop=function(){},Q.version="6.6.5",Q.default=Q,Q}),window.Sweetalert2&&(window.sweetAlert=window.swal=window.Sweetalert2);var activo='<i class="material-icons">fiber_smart_record</i> Activo',noActivo='<i class="material-icons">remove_circle_outline</i> No Activo',suspendido='<i class="material-icons">report_problem</i> Suspendido',enCorte='<i class="material-icons">signal_wifi_off</i> En Corte',mora='<i class="material-icons">timer</i> Mora',exonerado='<i class="material-icons">local_offer</i> Exonerado',filtros=[[activo,noActivo],activo,noActivo],estadosiconos={activo:{text:activo,class:"done"},"no activo":{text:noActivo,class:"error"},"en corte":{text:enCorte,class:"en-corte"},mora:{text:mora,class:"mora"},suspendido:{text:suspendido,class:"suspendido"},exonerado:{text:exonerado,class:"exonerado"}},estados=["activo","no activo","en corte","mora","suspendido","exonerado"],selectState="<select>";estados.forEach(function(e){selectState+="<option value='"+e+"'>"+e+"</value>"},this),selectState+="<select>";var clientTable={init:function(e){var t=this;this.el=$("#t-clients"),this.el.bootstrapTable(),this.el.find("tbody").css({display:"table-row-group"}),t.el.addClass("innertable"),e&&t.el.bootstrapTable("selectPage",e),clientTable.detectClicks(),this.el.on("all.bs.table",function(e,t){console.log("hello"),clientTable.changeStates()})},getSelectedRow:function(){return this.el.bootstrapTable("getSelections")[0]},getId:function(){var e=this;return $.map(e.el.bootstrapTable("getSelections"),function(e){return e.id})},refresh:function(e,t){var n=clientTable.el.bootstrapTable("getOptions");clientTable.el.bootstrapTable("destroy"),clientTable.el.find("tbody").html(e),clientTable.init(n.pageNumber)},detectClicks:function(){var e=$("#get-details"),t=$("#client-new-contract"),n=$("#go-new-contract");this.el.on("check.bs.table",function(){var o=clientTable.getId();e.attr("href",BASE_URL+"process/details/"+o),t.attr("href",BASE_URL+"process/newcontract/"+o),n&&("ir a pagos"==n.text().toLowerCase()?n.attr("href",BASE_URL+"process/details/"+o+"/pagos"):n.attr("href",BASE_URL+"process/newcontract/"+o))}),this.el.on("uncheck.bs.table",function(){e.attr("href","#"),t.attr("href","#"),n.attr("href","#")})},changeStates:function(){$(".estado-cliente").on("click",function(e){e.stopImmediatePropagation();var t,n=$(selectState),o=$(this),i=o.parent().find(".id_cliente").text().trim();o.html(n),n.focus(),n.on("change blur",function(e){t=n.val(),o.html(estadosiconos[t].text),o.removeClass(" done error en-corte exonerado mora suspendido"),o.addClass(estadosiconos[t].class),Clients.updateState({id:i,estado:t})}),n.on("click",function(e){e.stopImmediatePropagation()})})}};window.getHeight=function(){return 450};var serviceTable={init:function(e){var t=this;this.el=$("#t-services"),this.el.bootstrapTable(),this.el.find("tbody").css({display:"table-row-group"}),e&&t.el.bootstrapTable("selectPage",e),t.el.addClass("innertable")},getSelectedRow:function(){return this.el.bootstrapTable("getSelections")[0]},getId:function(){var e=this;return $.map(e.el.bootstrapTable("getSelections"),function(e){return e.id})},refresh:function(e,t){var n=serviceTable.el.bootstrapTable("getOptions");serviceTable.el.bootstrapTable("destroy"),serviceTable.el.find("tbody").html(e),serviceTable.init(n.pageNumber)}},contractTable={init:function(){var e=this;this.el=$("#t-contracts"),this.el.bootstrapTable(),this.el.find("tbody").css({display:"table-row-group"}),e.el.addClass("innertable"),contractTable.detectClicks()},getSelectedRow:function(){return this.el.bootstrapTable("getSelections")[0]},getId:function(){var e=this;return $.map(e.el.bootstrapTable("getSelections"),function(e){return e.id})},refresh:function(e,t){contractTable.el.bootstrapTable("destroy"),contractTable.el.find("tbody").html(e),contractTable.init(),t&&t()},detectClicks:function(){var e=$("#btn-pay-view"),t=$("#btn-see-in-detail"),n=$("#btn-see-contract");this.el.on("check.bs.table",function(){var o=contractTable.getSelectedRow();e.attr("href",BASE_URL+"process/details/"+o.id_cliente+"/pagos"),t.attr("href",BASE_URL+"process/details/"+o.id_cliente),n.attr("href",BASE_URL+"process/getrequirements/"+o.id+"/contrato")}),this.el.on("uncheck.bs.table",function(){e.attr("href","#"),t.attr("href","#"),n.attr("href","#")})}},userTable={init:function(e){this.el=$("#t-users"),this.el.bootstrapTable(),this.el.find("tbody").css({display:"table-row-group"}),this.el.addClass("innertable"),e&&this.el.bootstrapTable("selectPage",e)},getSelectedRow:function(){return this.el.bootstrapTable("getSelections")[0]},getId:function(){var e=this;return $.map(e.el.bootstrapTable("getSelections"),function(e){return e.id})},getRow:function(e){return this.el.bootstrapTable("getRowByUniqueId",e)},refresh:function(e,t){var n=userTable.el.bootstrapTable("getOptions");userTable.el.bootstrapTable("destroy"),userTable.el.find("tbody").html(e),userTable.init(n.pageNumber),t&&t()}},cajaTable={init:function(e){this.el=$("#caja"),this.el.bootstrapTable(),this.el.find("tbody").css({display:"table-row-group"}),this.el.addClass("innertable"),e&&this.el.bootstrapTable("selectPage",e)},getSelectedRow:function(){return this.el.bootstrapTable("getSelections")[0]},refresh:function(e,t){var n=cajaTable.el.bootstrapTable("getOptions");cajaTable.el.bootstrapTable("destroy"),cajaTable.el.find("tbody").html(e),cajaTable.init(n.PageNumber),t&&t()}},paymentTable={init:function(e,t){this.el=$("#t-pagos"),this.el.bootstrapTable(),this.el.find("tbody").css({display:"table-row-group"}),this.el.addClass("innertable"),this.detailBox=$("#payment-detail-box"),this.detailBox.hide(),t&&t.id_contrato==paymentTable.getRow().id_contrato&&this.el.bootstrapTable("selectPage",e),this.el.on("dbl-click-row.bs.table",function(e,t,n,o){}),this.el.on("click-row.bs.table",function(e,t,n,o){e.stopImmediatePropagation();var i=paymentTable;$(".payment-mode").removeClass("selected"),n.hasClass("selected")||"no pagado"!=t.estado?i.detailBox.hide():(i.detailBox.show(),i.detailBox.collapse()),console.log(t.estado)}),paymentTable.clickEvents(),this.el.on("all.bs.table",function(e,t){paymentTable.clickEvents()})},getSelectedRow:function(){return this.el.bootstrapTable("getSelections")[0]},getId:function(){var e=this;return $.map(e.el.bootstrapTable("getSelections"),function(e){return e.id})},getRow:function(e){return this.el.bootstrapTable("getData")[0]},refresh:function(e,t){var n=paymentTable.el.bootstrapTable("getOptions"),o=paymentTable.getRow();paymentTable.el.bootstrapTable("destroy"),paymentTable.el.find("tbody").html(e),paymentTable.init(n.pageNumber,o),t&&t()},filter:function(e,t){"estado"==t?this.el.bootstrapTable("filterBy",{estado:e}):(hoy=moment().format("YYYY-MM-DD"),this.el.bootstrapTable("filterBy",{fecha_limite:[]}))},clickEvents:function(){$(".payment-advanced").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),console.log("yo si funciono");var t=$(this).attr("data-id-pago").trim();t&&Payments.getOne(t,Payments.receiveForEdit)}),$(".payment-delete").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=$(this).attr("data-id-pago").trim();t&&swal({title:"Está Seguro?",text:"Seguro de que quiere deshacer este pago?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){Payments.removePayment(t)})})}},detailsContractTable={init:function(e){this.el=$("#d-contracts"),this.el.bootstrapTable(),this.el.find("tbody").css({display:"table-row-group"}),this.el.addClass("innertable"),e&&this.el.bootstrapTable("selectPage",e)},getSelectedRow:function(){return this.el.bootstrapTable("getSelections")[0]},refresh:function(e,t){var n=detailsContractTable.el.bootstrapTable("getOptions");detailsContractTable.el.bootstrapTable("destroy"),detailsContractTable.el.find("tbody").html(e),detailsContractTable.init(n.pageNumber),t&&t()}};
function connectAndSend(e,t,a,n,o,i,r){r||(r=lineLoad);var l=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");l.onreadystatechange=function(){4==l.readyState&&200==l.status?(r&&r(!0),null!=n?n(l.responseText,a):t&&displayMessage(l.responseText),null!=i&&i()):4!=l.readyState&&r&&r(!1)},l.open("POST",BASE_URL+e,!0),l.setRequestHeader("content-type","application/x-www-form-urlencoded"),l.send(o)}function displayMessage(e){var t,a="rgba(102,187,106,1)";e.includes(MESSAGE_ERROR)?a="rgba(244,67,54,1)":e.includes(MESSAGE_INFO)&&(a="rgba(2,136,209,1)"),(t=$(".toast")).find("span").html(e).css({background:a}),t.css({display:"flex"}),t.animate({opacity:"1"},500,function(){setTimeout(function(){t.animate({opacity:"0"}),t.css({display:"none"})},2e3)})}function displayAlert(e,t,a){e||(e="Revise"),t||(t="Asegurate de llenar todos los campos"),a||(a="error"),swal({title:e,text:t,type:a,confirmButtonClass:"btn",buttonsStyling:!1})}function fillCurrentTable(e,t,a){$("html").removeClass("gr__icpayment-soft_com"),(void 0!=a?$("#"+a+" tbody"):$('[class*="t-"] tbody')).html(e),t&&t()}function fillClientTable(e,t){fillCurrentTable(e,t,"t-clients")}function fillCajaTable(e,t){fillCurrentTable(e,t,"caja"),t&&t()}function fillPaymentsList(e,t){$(".list-nextpayments").html(e)}function fillAveriasList(e,t){$("#averias-list").html(e),t()}function fillInstallationsList(e,t){$("#installations-list").html(e),t()}function makeContractList(e,t){if("nada"!=e){for(var a,n,o,i,r=JSON.parse(e),l="<option value=''>--Selecciona--</option>",s=r.cliente,c=0;c<r.contratos.length;c++)a=r.contratos[c].id_contrato,n=r.contratos[c].servicio,o=r.contratos[c].nombre_equipo,i=r.contratos[c].router,l+="<option value='"+a+"' data-service='"+n+"'  data-equipment='"+o+"'  data-e-mac='"+r.contratos[c].mac_equipo+"'",l+=" data-router='"+i+"'  data-r-mac='"+r.contratos[c].mac_router+"' data-code='"+r.contratos[c].codigo+"'>",l+=a+"</option>";$("#extra-client-contract").html(l),$("#extra-client-name").val(s.nombres+" "+s.apellidos)}else displayMessage(MESSAGE_ERROR+" Este cliente no existe revise su cedula por favor")}function clearTbody(e){$(e).html("")}function fillClientFields(e,t){if("nada"!=e){var a=JSON.parse(e);$("#averias-client-id").val(a.id_cliente),$("#a-client").val(a.nombres+" "+a.apellidos)}else displayMessage(MESSAGE_ERROR+" Este cliente no existe revise su cedula por favor")}function makePaymentList(e,t){var a=$("#select-pay-until");a.html(e),a.parent().removeClass("hide"),a.change(),t&&t()}function isEmpty(e,t){for(var a=0;a<e.length;a++)if(null==e[a]||""==e[a])return!0;return!1}function updateSaldo(e){e="RD$ "+CurrencyFormat(e),$(".current-saldo").text(e)}function updateCount(e){$(".total-rows").html(e)}function validateModal(e){var t=$(e+" .password"),a=$(e+" .password-confirm"),n=$(e+" .save");a.on("blur keyup",function(){validateTwo(t,a,n)}),n.on("click",clearForm(e))}function validateTwo(e,t,a){t.val()==e.val()&&""!=t.val()?(replaceClass(e.parent(),"has-error","has-success"),replaceClass(t.parent(),"has-error","has-success"),a.removeAttr("disabled","")):(replaceClass(e.parent(),"has-success","has-error"),replaceClass(t.parent(),"has-success","has-error"),a.attr("disabled",""))}function validateThis(){var e=$(".password"),t=$(".password-confirm"),a=$(".save");e.on("blur keyup",function(){validateTwo(e,t,a)}),t.on("blur keyup",function(){validateTwo(e,t,a)})}function clearForm(e){$(e+" input").val("")}function deleteValidation(e,t,a){var n;this.text=t;var o=this;e.on("keyup",function(e){e.stopImmediatePropagation(),(n=$(this).val()).toLowerCase()==o.text.toLowerCase()?a.removeAttr("disabled"):a.attr("disabled","")})}function replaceClass(e,t,a){e.addClass(a),e.removeClass(t)}function makeServiceCardClickable(){var e=$(".service-card"),t=$("#btn-print-requirement");e.on("click",function(a){a.stopImmediatePropagation();var n=$(this),o=n.attr("data-id"),i=n.attr("data-payment"),r=t.attr("data-href");e.removeClass("selected"),n.addClass("selected"),t.attr("href",r+"/"+o),$("#contract-client-payment").val(i)})}function verifyContractStatus(){$(".td-estado").each(function(e,t){var a=$(this),n=a.text().trim();"activo"==n?a.css({color:"green"}):"saldado"==n&&a.parents("tr").css({background:"rgba(22,255,0,.3)",color:"#555"})})}function verifyClientStatus(){$("td").each(function(e,t){var a=$(this),n=a.text().trim();"no activo"==n?a.css({color:"rgba(200,0,0,.7)"}):"activo"==n&&a.css({color:"green"})})}function heavyLoad(e){function t(){$(".heavy-loader").remove(),$("body").css({overflow:"auto"})}if(e)t();else{var a='<div class="heavy-loader active">';a+='<div class="circle-load"></div>',a+='<div class="message">Preparando los datos</div>',a+="</div>",$("body").append(a),$("body").css({overflow:"hidden"});var n=$(".heavy-loader .message");setTimeout(function(){n.text("Configurando...")},4e3),setTimeout(function(){n.text("Casi Terminamos ...")},8e3),setTimeout(function(){n.text("Terminando el proceso ..."),t()},15e3)}}function lineLoad(e){e?$(".loader").css({display:"none"}):$(".loader").css({display:"block"})}function validatePassword(e){e.length>8&&alert("mayor a 8"),/\d/.test(e)&&alert("tiene digito"),/[a-z]/.test(e)&&alert("tiene minisculas"),/[A-Z]/.test(e)&&alert("tiene mayusculas")}function newContractFunctions(){function e(e){o.removeAttr("checked","").html(""),n.attr("checked","").html("&#10004;"),a.removeClass("print-requirement"),i.removeClass("hide"),r.addClass("hide")}function t(e){n.removeAttr("checked","").html(""),o.attr("checked","").html("&#10004;"),a.addClass("print-requirement"),r.removeClass("hide"),i.addClass("hide")}$("#btn-print-contract");var a=$(".note-item"),n=$("#radio-new-contract"),o=$("#radio-just-requirement"),i=$(".contract-controls"),r=$(".requirement-controls");n.parents("label").on("click",function(){e()}),o.parents("label").on("click",function(){t()})}function detailsFunctions(){var e=$(".btn-small");$('[role="tab"]').on("click",function(){var e=$(this).attr("href");"#payments"==e||"#detalles_de_pago"==e||"descuento"==e?$(".payment-controls").addClass("visible"):$(".payment-controls").removeClass("visible"),getTabControls($(this))}),$(".btn-small").on("click",function(){e.removeClass("selected"),$(this).addClass("selected")})}function getTabControls(e){var t=e.attr("aria-controls");$(".dynamic-controls").text(t)}function notificationFunctions(){var e=$("#btn-see-averias"),t=$("#btn-see-pagos"),a=($("#btn-see-caja"),$("#btn-see-deudores")),n=$("#btn-see-day-incomes"),o=$(".layout-container");e.on("click",function(){o.animate({left:"-100%"},200)}),t.on("click",function(){o.animate({left:"0"},200)}),a.on("click",function(){o.animate({left:"-200%"},200)}),n.on("click",function(){o.animate({left:"-300%"},200)})}function checkWindowSize(){var e=window.screen.availWidth,t=document.querySelector(".brand span");t.textContent=e<=1100?"P":"Payment"}function initComponents(){switch(currentPage){case"home":initClientHandlers();break;case"administrador":initAdminHandlers();break;case"clientes":initClientHandlers();break;case"servicios":initServicesHandlers();break;case"nuevo_contrato":initContractHandlers(),Contracts.getIpList();break;case"detalles":initPaymentsHandlers(),detailHandlers();break;case"contratos":initContractHandlers(),initClientHandlers();break;case"cuenta":acountHandlers();break;case"secciones":sectionHandlers()}initCajaHandlers(),initGlobalHandlers()}function initGlobalHandlers(){var e=$("#a-client-dni");"notificaciones"==currentPage&&(Generals.count_table("averias"),$("#averias-view-mode").on("change",function(e){e.stopImmediatePropagation(),Damages.getAll()}),$("#installations-view-mode").on("change",function(e){e.stopImmediatePropagation(),Installations.getAll()}),$("tbody").css({display:"table-row-group"})),"contratos"==currentPage&&initContractHandlers(),$("#btn-save-averia").on("click",function(e){e.stopImmediatePropagation(),Damages.add()}),e.on("keyup",function(t){if(isComplete(e)){var a=getVal(e);Clients.getOne(a,fillClientFields)}else $("#a-client").val("")}),$(".btn-update-averia").on("click",function(e){e.stopImmediatePropagation();var t=$(this).parents(".averia-item").find(".code");t=t.text().trim(),Damages.update(t)}),$(".btn-update-installation").on("click",function(e){e.stopImmediatePropagation();var t=$(this).parents(".averia-item").find(".code");t=t.text().trim(),Installations.update(t)}),$("#extra-controls").on("click",function(e){e.stopImmediatePropagation(),Contracts.btnExtraPressed($(this))}),$("#extra-client-dni").on("keydown",function(e){var t=e.which,a=$(this).val();13==t&&Contracts.getAllOfClient(a)})}function initAdminHandlers(){userTable.init(),$("#btn-save-user").on("click",function(e){e.stopImmediatePropagation(),Users.add()}),$("#btn-update-user").on("click",function(e){e.stopImmediatePropagation(),Users.update()}),$(".delete-user").on("click",function(e){e.preventDefault();var t=$(this).parents("tr").find(".user-id").text().trim(),a=userTable.getRow(t);swal({title:"Está Seguro?",text:"Desea Eliminar al Usuario "+a.nombres+" "+a.apellidos+"?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){Users.delete(t)})}),$(".edit-user").on("click",function(e){e.preventDefault();var t=$(this).attr("data-user-id"),a=userTable.getRow(t);$("#e-nickname").val(a.nick),$("#e-name").val(a.nombres),$("#e-lastname").val(a.apellidos),$("#e-dni").val(a.cedula),$("#e-type").val(a.tipo_codigo),$("#update-user-modal").modal()}),$("#update-company-data").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),Company.update()}),$("#btn-update-settings").on("click",function(e){e.preventDefault(),Settings.update()}),$("#btn-save-averia").on("click",function(e){e.stopImmediatePropagation(),Damages.add()})}function initCajaHandlers(){"administrador"==currentPage&&cajaTable.init();var e=$("#btn-add-money"),t=$("#btn-retire-money"),a=$("#caja-user"),n=$("#caja-date");e.on("click",function(e){e.stopImmediatePropagation(),Caja.add()}),t.on("click",function(e){e.stopImmediatePropagation(),Caja.retire()}),n.on("change",function(e){e.stopImmediatePropagation(),Caja.search()}),a.on("change",function(e){e.stopImmediatePropagation(),Caja.search()})}function initClientHandlers(){"clientes"==currentPage&&clientTable.init(),$("#btn-save-client").on("click",function(e){e.stopImmediatePropagation(),Clients.add()}),$("#update-client").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=clientTable.getId();t&&Clients.getOne(t,Clients.receiveForEdit)}),$("#client-searcher").on("keyup",function(e){e.stopImmediatePropagation();var t=$(this).val();Generals.search(t,"clientes",clientTable.refresh)}),$("#client-searcher-newcontract").on("keyup",function(e){e.stopImmediatePropagation();var t=$(this).val();isEmpty([t])?clearTbody(".lobby-results"):Generals.search(t,"clientes",clientTable.refresh)}),$("#delete-client").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=clientTable.getSelectedRow();t&&swal({title:"Está Seguro?",text:"Desea Eliminar al(la) Cliente "+t.nombres+" "+t.apellidos+"?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){Generals.deleteRow(t.id,"clientes")})})}function initServicesHandlers(){serviceTable.init(),$("#btn-save-service").on("click",function(e){e.stopImmediatePropagation(),Services.add()}),$("#delete-service").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=serviceTable.getId();t&&swal({title:"Está Seguro?",text:"Desea Eliminar  el Servicio?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){Generals.deleteRow(t,"servicios")})}),$("#edit-service").on("click",function(e){e.preventDefault();var t=serviceTable.getSelectedRow();$("#u-service-id").val(t.id),$("#u-service-name").val(t.nombre),$("#u-service-description").val(t.descripcion),$("#u-service-monthly-payment").val(Number(t.mensualidad.replace("RD$ ",""))),$("#u-service-type").val(t.tipo),$("#update-service-modal").modal()}),$("#btn-update-service").on("click",function(e){e.stopImmediatePropagation(),Services.update()}),$("#service-searcher").on("keyup",function(e){e.stopImmediatePropagation();var t=$(this).val();Generals.search(t,"servicios",serviceTable.refresh,initServicesHandlers)})}function initContractHandlers(){contractTable.init(),Contracts.getAll(),$("#btn-save-contract").on("click",function(e){e.stopImmediatePropagation(),Contracts.add()}),$("#btn-add-extra").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),Contracts.callExtra()});$("#contract-searcher").on("keyup",function(e){e.stopImmediatePropagation();var t=$(this).val();Generals.search(t,"v_contratos",contractTable.refresh,null)}),$("#btn-cancel-contract").on("click",function(e){e.preventDefault();var t=contractTable.getSelectedRow();if(t){$(".cancel-name").text(t.cliente);var a=$(".confirmed-data"),n=$("#cancel-permanently");deleteValidation(a,t.cliente,n),$("#cancel-print").attr("href",BASE_URL+"process/getcancelcontract/"+t.id_cliente+"/"+t.id),$("#cancel-contract-modal").modal(),n.on("click",function(e){e.stopImmediatePropagation(),Contracts.cancel(),n.attr("disable")}),a.val(""),n.attr("disabled","")}}),$("#btn-update-contract").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=contractTable.getId();t&&Contracts.getOne(t,Contracts.recieve)}),$("#select-contract-sector").on("change",function(e){e.stopImmediatePropagation(),Contracts.getIpList()}),$("#select-pay-until").on("change",function(e){e.stopImmediatePropagation();var t=$("#select-pay-until :selected").attr("data-contract"),a=$(this).val();Payments.updateUntil(t,a)})}function initPaymentsHandlers(){function e(e){var t=$(".payment-mode.selected").text(),a={id:e.toString(),module:"pagos"},n="data="+JSON.stringify({tipo:t})+"&extra_info="+JSON.stringify(a),o=axios.post(BASE_URL+"process/axiosupdate",n);o.then(function(e){}),o.catch(function(){console.log(error)})}paymentTable.init(),ran||(Payments.getAll(),ran=!0),$("#btn-pay").on("click",function(t){t.stopImmediatePropagation();var a=paymentTable.getId();a&&(Payments.update(a),e(a))}),$("#select-contract").on("change",function(e){e.stopImmediatePropagation(),Payments.getAll()}),$("#payment-detail-box").collapse()}function detailHandlers(){$("#btn-save-observations").on("click",function(e){e.stopImmediatePropagation(),Payments.saveAbonos()}),$("#btn-save-real-observations").on("click",function(e){e.stopImmediatePropagation(),Clients.saveObservations()}),detailsContractTable.init()}function acountHandlers(){var e=$("#acount-user-id"),t=$("#acount-current-password"),a=$("#update-user-data"),n=$("#acount-new-password");$("#acount-current-password").on("keyup",function(a){a.stopImmediatePropagation(),Users.confirmPassword(e.val(),t.val())}),a.on("click",function(a){a.preventDefault(),a.stopImmediatePropagation(),Users.updatePassword(e.val(),t.val(),n.val())})}function sectionHandlers(){ran||(Sections.getIps(),ran=!0),$("#btn-add-section").on("click",function(e){e.stopImmediatePropagation(),Sections.add()}),$("#select-sector").on("change",function(e){e.stopImmediatePropagation(),Sections.getIps()})}function loginHandlers(){$("#send-credentials").on("click",function(e){e.stopImmediatePropagation(),Session.login()}),$("#user-input").on("keydown",function(e){e.stopImmediatePropagation(),loginLibrary.sendToLogin(e)}),$("#password-input").on("keydown",function(e){e.stopImmediatePropagation(),loginLibrary.sendToLogin(e)}),$("a[href]").on("click",function(){loginLibrary.loading();var e=$(this);try{e.attr("target");setTimeout(function(){$(".loader").css({display:"none"})},3e3)}catch(e){throw e}})}function isCurrentPage(e){return getCurrentPage()==e}function getCurrentPage(){var e=$("title").text().split(" ");return e=e[4].toLowerCase().trim()}function cierreCajaFunctions(){function e(e){for(var t=0,a=0;a<e.length;a++)t+=parseFloat(e[a]);return t}function t(){return moment().format("YYYY-MM-DD")}var a={total1:0,total5:0,total10:0,total20:0,total25:0,total50:0,total100:0,total200:0,total500:0,total1000:0,total2000:0},n={fecha:"",descripcion:"",monto:""},o=[{fecha:t(),descripcion:"hola",monto:2e3,id_gasto:1}],i=$("#autor-cierre").text().trim(),r=new Vue({el:"#app-cierre",data:{isHide:!1,fecha:t(),data_cierre:{autor:i,pagos_facturas:0,pagos_extras:0,pagos_efectivo:0,pagos_banco:0,total_ingresos:0,efectivo_caja:0,total_descuadre:0,total_gastos:0,banco:0},conteo:a,suma:0,gasto:n,gastos:o},mounted:function(){this.getGastos(),this.setIngresos()},created:function(){$(".will-load").css({visibility:"visible"})},filters:{currencyFormat:function(e){return CurrencyFormat(e)}},methods:{changeTotal:function(e){var t=e.srcElement.attributes["data-unit"].value,n=e.srcElement.value;a["total"+t]=n*t*1},addGasto:function(e){var a=this.gasto;a.fecha=t(),form="data="+JSON.stringify(a);var n=axios.post(BASE_URL+"caja/add_gasto",form);n.then(function(e){var t=e.data;displayMessage(t.mensaje),r.fillGastos(t.gastos,"normal"),r.setGastoTotal(t.total_gastos)}),n.catch(function(){console.log(error)})},fillGastos:function(e,t){"group"==t?null!=e||e.length>0?(console.log([e]),r.gastos=e):r.gastos=[]:r.gastos.push(JSON.parse(e)[0])},setGastoTotal:function(e){this.data_cierre.total_gastos=e},getGasto:function(e){var t=this.gasto;form="data="+JSON.stringify(t),connectAndSend("caja/get_gasto",!1,null,r.fillGastos,form,null,null)},deleteGasto:function(e){console.log(e);var a=e.target;"i"==a.localname&&(a=a.parentElement);var n=a.attributes["data-id"].value;swal({title:"Está Seguro?",text:"Seguro de que quiere eliminar este gasto?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){form="data="+JSON.stringify({id:n,fecha:t()});var e=axios.post(BASE_URL+"caja/delete_gasto",form);e.then(function(e){var t=e.data;displayMessage(t.mensaje),r.fillGastos(t.gastos,"group"),r.setGastoTotal(t.total_gastos)}),e.catch(function(e){})})},getGastos:function(){var e={fecha:t()};form="data="+JSON.stringify(e);var a=axios.post(BASE_URL+"caja/get_gastos",form);a.then(function(e){var t=e.data;displayMessage(t.mensaje),r.fillGastos(t.gastos,"group"),r.setGastoTotal(t.total_gastos)}),a.catch(function(){console.log(error)})},setIngresos:function(){var e="data="+JSON.stringify({fecha:t()}),a=this.data_cierre,n=axios.post(BASE_URL+"caja/get_ingresos",e);n.then(function(e){var t=e.data;a.pagos_facturas=t.pagos_facturas,a.pagos_extras=t.pagos_extras,a.pagos_efectivo=t.pagos_efectivo,a.pagos_banco=t.pagos_banco,a.total_ingresos=parseFloat(t.pagos_facturas)+parseFloat(a.pagos_extras),a.total_descuadre=-a.pagos_efectivo+a.efectivo_caja}),n.catch(function(){console.log(error)})},cerrarCaja:function(){var e=this,t=this.data_cierre;window.cierre=t,0!=t.total_descuadre?swal({title:"Está Seguro?",text:"Hay un descuadre en la caja, quiere hacer el cierre de todos modos?",type:"warning",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(function(){e.cerrar(t)}):e.cerrar(t)},cerrar:function(e){e.fecha=t(),form="data="+JSON.stringify(e);var a=axios.post(BASE_URL+"caja/add_cierre",form);a.then(function(t){displayMessage(t.data.mensaje),self.isHide=!0,appSummaryView.isHide=!1,appSummaryView.cierre=e,$("#app-cierre").addClass("hide"),$(".top-nav").addClass("hide"),$("#print-view").css({visibility:"visible"})}),a.catch(function(){console.log(error)})}},computed:{getTotal:function(t){var n=a,o=this.data_cierre,i=e([n.total1,n.total5,n.total10,n.total20,n.total25,n.total50,n.total100,n.total200,n.total500,n.total1000,n.total2000]);return this.suma=i,o.efectivo_caja=i.toFixed(2),o.total_descuadre=parseFloat(-o.pagos_efectivo)+parseFloat(o.efectivo_caja),o.banco=parseFloat(o.pagos_banco)+parseFloat(o.pagos_efectivo)-parseFloat(o.total_gastos),this.suma},decimals:function(){["pagos_facturas","pagos_extra","pagos_efectivo","pagos_banco","total_ingresos","efectivo_caja","total_descuadre","total_gasto","banco"].forEach(function(e){this.data_cierre[e]=this.data_cierre[e].toFixed(2)},this)}}});window.appCierre=r}var BASE_URL=window.location.origin+"/";(BASE_URL.includes("localhost")||BASE_URL.includes("ngrok.io"))&&(BASE_URL+="icpayment/");var MESSAGE_SUCCESS='<i class="material-icons">done_all</i>',MESSAGE_ERROR='<i class="material-icons">error_outline</i>',MESSAGE_INFO='<i class="material-icons">info_outline</i>',SUMMER_SKY="#1FA1D0";$(function(){$('[data-toggle="tooltip"]').tooltip()}),$(function(){var e=$("title").text().split(" ");"administrador"==(e=e[4].toLowerCase().trim())&&function(){validateModal("#new-user-modal"),validateModal("#update-user-modal")}(),function(){function e(){t=new Date,sDate=t.toString(),n.text(t.getDate()),o.text("De "+s[t.getMonth()]+" de "+t.getFullYear()),i.text(l[t.getDay()]),a=moment().format("LTS"),r.html(a)}var t,a,n=$(".day"),o=$(".month-year"),i=$(".dayweek"),r=$(".hour span"),l=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],s=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];setInterval(e,1e3)}(),function(){$("#company-section").animate({left:"0"},200),$(".administrador .aside-buttons a").on("click",function(e){e.preventDefault();var t=$(this).attr("href").slice(1);null!=t&&($(".company-details").animate({left:"-110%"},200),$("#"+t+".company-details").animate({left:"0"},200))}),$("#acount-section").length>0&&$("#acount-section").animate({left:"0"},200)}(),function(){var e=$(".user-info-tip");$(".profile-picture"),$(".btn-more").on("click",function(t){e.toggleClass("visible")})}(),makeServiceCardClickable(),detailsFunctions(),notificationFunctions(),newContractFunctions(),checkWindowSize(),$(window).on("resize",function(){checkWindowSize()})}),$("#search-client-modal").on("show.bs.modal",function(e){var t=$(e.relatedTarget);clientTable.init();var a=t.find(".section-title").text();a||(a="Buscar Cliente"),"registrar pago"==a.toLowerCase().trim()?buttonText="ir a Pagos":buttonText="Nuevo Contrato";var n=$(this);n.find(".modal-title").text(a),n.find(".modal-footer .save").text(buttonText),n.find("tbody").html("")}),$("#select-extra-service").on("change",function(){var e=$("#select-extra-service :selected").attr("data-payment");$("#extra-service-cost").val(e)}),$("#extra-client-contract").on("change",function(){var e=$("#extra-client-contract :selected");$("#extra-contract-service").val(e.attr("data-service")),$("#extra-equipo").val(e.attr("data-equipment")),$("#extra-router").val(e.attr("data-router")),$("#extra-e-mac").val(e.attr("data-e-mac")),$("#extra-r-mac").val(e.attr("data-r-mac")),$("#extra-code").val(e.attr("data-code"))}),$(".columns-right").removeClass("pull-right"),$("#select-contract-code").on("change",function(){var e=$("#select-contract-code :selected");$("#contract-ip").val(e.attr("data-ip-final")),$("#u-contract-ip").val(e.attr("data-ip-final"))}),$(window).scroll(function(){position=$(window).scrollTop(),movableNav=$(".aside-nav-container, .aside-wide-left"),position>=70?movableNav.addClass("moved"):movableNav.removeClass("moved")});var Users={add:function(){var e,t,a,n,o,i,r;isEmpty([t=$("#user-nickname").val(),a=$("#user-password").val(),n=$("#user-name").val(),o=$("#user-lastname").val(),i=getVal($("#user-dni")),r=$("#user-type").val()])?displayAlert("Revise","LLene todos los campos por favor","error"):(e="nickname="+t+"&password="+a+"&name="+n+"&lastname="+o,connectAndSend("user/addnew",!0,initAdminHandlers,null,e+="&dni="+i+"&type="+r,Users.getAll))},update:function(){var e,t,a,n,o,i;isEmpty([t=$("#e-nickname").val(),a=$("#e-name").val(),n=$("#e-lastname").val(),o=$("#e-dni").val(),i=$("#e-type").val()])?displayAlert("Revise","LLene todos los campos por favor","error"):(e="nickname="+t+"&name="+a+"&lastname="+n,connectAndSend("user/update",!0,initAdminHandlers,null,e+="&dni="+o+"&type="+i,Users.getAll))},getAll:function(){connectAndSend("user/getusers",!1,initAdminHandlers,userTable.refresh,"table=users",null)},delete:function(e){connectAndSend("user/deleteuser",!0,initAdminHandlers,null,"user_id="+e,Users.getAll)},confirmPassword:function(e,t){function a(e){var t=$("#acount-new-password"),a=$("#acount-confirm-new-password");1==e?(t.removeAttr("disabled"),a.removeAttr("disabled"),validateThis()):(t.attr("disabled",!0),a.attr("disabled",!0))}connectAndSend("user/confirm_password",!1,!1,a,"user_id="+e+"&current_password="+t,null,null)},updatePassword:function(e,t,a){var n="user_id="+e+"&current_password="+t+"&new_password="+a;connectAndSend("user/update_password",!1,!1,Users.passwordChanged,n,null,heavyLoad)},passwordChanged:function(e){1==e?(displayMessage(MESSAGE_SUCCESS+"Contraseña Cambiada con exito"),setTimeout(function(){window.location.href=BASE_URL+"app/logout"},3e3)):displayMessage(MESSAGE_ERROR+" Error al cambiar de contraseña, revise la contraseña actual")}},Clients={add:function(){var e,t,a,n,o,i,r,l,s,c,d,u,p,v;t=$("#client-name").val(),a=$("#client-lastname").val(),n=getVal($("#client-dni")),o=getVal($("#client-phone")),i=$("#client-provincia").val(),r=$("#client-sector").val(),l=$("#client-street").val(),s=$("#client-house").val(),c=getVal($("#client-telephone")),d=$("#client-job").val(),u=getVal($("#client-job-telephone")),p=$("#client-salary").val(),v=moment().format("YYYY-MM-DD"),isEmpty([t,a,n,o,i,r,l,s,c])?displayAlert("Revise","LLene todos los campos por favor","error"):(e="nombres="+t+"&apellidos="+a+"&cedula="+n+"&celular="+o,e+="&provincia="+i+"&sector="+r+"&calle="+l+"&casa="+s+"&telefono="+c,e+="&lugar_trabajo="+d+"&tel_trabajo="+u+"&ingresos="+p+"&fecha_registro="+v,connectAndSend("process/add",!0,initClientHandlers,null,e+="&estado=no activo&tabla=clientes",Clients.getAll))},getAll:function(){connectAndSend("process/getall",!1,initClientHandlers,clientTable.refresh,"tabla=clientes",null)},getOne:function(e,t){form="tabla=clientes&id="+e,connectAndSend("process/getone",!1,initClientHandlers,t,form,null)},receiveForEdit:function(e){function t(){isEmpty([n.val(),o.val(),i.val(),r.val(),l.val(),s.val(),c.val(),d.val(),u.val()])?displayAlert("Revise","LLene todos los campos por favor","error"):(form="id="+id+"&nombres="+n.val()+"&apellidos="+o.val()+"&cedula="+getVal(i),form+="&celular="+getVal(r)+"&provincia="+l.val()+"&sector="+s.val()+"&calle="+c.val(),form+="&casa="+d.val()+"&telefono="+getVal(u)+"&lugar_trabajo="+p.val()+"&tel_trabajo =",form+=getVal(v)+"&tabla=clientes",form+="&ingresos="+m.val(),connectAndSend("process/update",!0,initClientHandlers,null,form,Clients.getAll))}var a=JSON.parse(e);this.id=a.id_cliente;var n=$("#u-client-name"),o=$("#u-client-lastname"),i=$("#u-client-dni"),r=$("#u-client-phone"),l=$("#u-client-provincia"),s=$("#u-client-sector"),c=$("#u-client-street"),d=$("#u-client-house"),u=$("#u-client-telephone"),p=$("#u-client-job"),v=$("#u-client-job-telephone"),m=$("#u-client-salary");n.val(a.nombres),o.val(a.apellidos),i.val(a.cedula),r.val(a.celular),l.val(a.provincia),s.val(a.sector),c.val(a.calle),d.val(a.casa),u.val(a.telefono),p.val(a.lugar_trabajo),v.val(a.tel_trabajo),m.val(a.salario),$("#update-client-modal").modal(),$("#btn-update-client").on("click",function(){t()})},saveObservations:function(){connectAndSend("process/update",!0,null,null,"observaciones="+$("#text-observations").val()+"&tabla=observaciones&id_cliente="+$("#detail-client-id").val(),null)},updateState:function(e){form="data="+JSON.stringify(e)+"&module=clientes&action=update",connectAndSend("process/getjson",!0,null,null,form,null)}},Generals={deleteRow:function(e,t){var a,n="tabla="+t+"&id="+e;switch(t){case"clientes":a=Clients.getAll;break;case"servicios":a=Services.getAll}connectAndSend("process/delete",!0,null,null,n,a)},search:function(e,t,a,n){void 0==n&&(n=initClientHandlers),void 0==a&&(a=fillCurrentTable);var o=e;null==o&&""==o||connectAndSend("process/search",!1,n,a,"tabla="+t+"&word="+o,null)},count_table:function(e){var t="tabla="+e,a=updateCount;"caja"==e&&(a=updateCajaCount),connectAndSend("process/count",!1,null,a,t,null)}},Services={add:function(){var e,t,a,n,o;isEmpty([t=$("#service-name").val(),a=$("#service-description").val(),n=$("#service-monthly-payment").val(),o=$("#service-type").val()])?displayAlert("Revise","LLene todos los campos por favor","error"):(e="nombre="+t+"&descripcion="+a+"&mensualidad="+n+"&tipo="+o,connectAndSend("process/add",!0,null,null,e+="&tabla=servicios",Services.getAll))},getAll:function(){connectAndSend("process/getall",!1,null,serviceTable.refresh,"tabla=servicios",null)},update:function(){var e,t,a,n,o,i;isEmpty([t=$("#u-service-id").val(),a=$("#u-service-name").val(),n=$("#u-service-description").val(),o=$("#u-service-monthly-payment").val(),i=$("#u-service-type").val()])?displayAlert("Revise","LLene todos los campos por favor","error"):(e="id_servicio="+t+"&nombre="+a+"&descripcion="+n+"&mensualidad="+o,connectAndSend("process/update",!0,null,null,e+="&tipo="+i+"&tabla=servicios",Services.getAll,heavyLoad))}},Contracts={add:function(){var e,t,a,n,o,i,r,l,s,c,d,u,p,v,m;t=$("#contract-client-id").val(),a=$("#contract-user-id").val(),n=$(".service-card.selected").attr("data-id"),i=$("#contract-client-date").val(),l=$("#contract-client-months").val(),s=$("#contract-equipment").val(),c=$("#contract-e-mac").val(),d=$("#contract-router").val(),u=$("#contract-r-mac").val(),v=$("#contract-equipment-model").val(),m=$("#contract-ip").val(),o=$("#select-contract-code").val(),r=$("#contract-client-payment").val(),p=moment(i).add(1,"months").format("YYYY-MM-DD"),isEmpty([t,a,n,i,l])?displayAlert("Revise","LLene todos los campos por favor","error"):(e="id_empleado="+a+"&id_cliente="+t+"&id_servicio="+n+"&codigo="+o+"&fecha="+i,e+="&duracion="+l+"&monto_total="+(Number(l)+1)*Number(r)+"&monto_pagado=0&ultimo_pago=null",e+="&mensualidad="+r+"&proximo_pago="+p+"&estado=activo&tabla=contratos",e+="&nombre_equipo="+s+"&mac_equipo="+c+"&router="+d+"&mac_router="+u,e+="&modelo="+v+"&ip="+m,connectAndSend("process/add",null,null,Contracts.getLast,e,null))},extend:function(e){connectAndSend("process/extend",!0,null,null,"id_contrato="+idContrator,null)},getAll:function(){connectAndSend("process/getall",!1,null,contractTable.refresh,"tabla=contratos",null)},getLast:function(e){e=JSON.parse(e),console.log(e),console.log(e.mensaje),displayMessage(e.mensaje),$("#btn-save-contract").attr("disabled",""),$("#btn-print-contract").removeAttr("disabled"),e.tabla_pagos&&makePaymentList(e.tabla_pagos)},callExtra:function(){var e=contractTable.getSelectedRow();e?($("#extra-client-dni").val(e.cedula),Contracts.getAllOfClient(e.cedula),$("#add-extra-modal").modal()):displayAlert("Revise","Seleccione el conrato primero","error")},cancel:function(){var e,t,a=contractTable.getSelectedRow(),n=!1,o=$("#cancelation-reason").val(),i=$("#check-penalty:checked").length;a.id?(i>0&&(n=!0),t=moment().format("YYYY-MM-DD"),e="id_contrato="+a.id+"&fecha="+t+"&id_cliente="+a.id_cliente,connectAndSend("process/cancel",!0,null,null,e+="&motivo="+o+"&penalidad="+n,Contracts.getAll)):displayMessage(MESSAGE_ERROR+" No hay contrato seleccionado")},getOne:function(e,t){form="tabla=contratos&id_contrato="+e,connectAndSend("process/getone",!1,null,t,form,null)},recieve:function(e){function t(e){var t=$("#check-change-ip:checked").length;form="id_contrato="+e+"&nombre_equipo="+n.val()+"&mac_equipo="+o.val(),form+="&router="+i.val()+"&mac_router="+r.val(),form+="&modelo="+l.val(),form+="&tabla=contratos",t>0&&(form+="&ip="+c.val()+"&codigo="+s.val()),connectAndSend("process/update",!0,null,null,form,Contracts.getAll)}var a=JSON.parse(e);this.id_contrato=a.id_contrato;var n=$("#u-contract-equipment"),o=$("#u-contract-e-mac"),i=$("#u-contract-router"),r=$("#u-contract-r-mac"),l=$("#u-contract-modelo"),s=$("#select-contract-code"),c=($("#check-change-ip"),$("#u-contract-ip"));n.val(a.nombre_equipo),o.val(a.mac_equipo),i.val(a.router),r.val(a.mac_router),l.val(a.modelo),c.val(a.ip),$("#update-contract-modal").modal(),$("#update-contract").on("click",function(e){e.stopImmediatePropagation(),t(id_contrato)})},getIpList:function(){function e(e){$("#select-contract-code").html(e)}connectAndSend("process/getall",!1,null,e,"id_seccion="+$("#select-contract-sector").val()+"&tabla=ip_list",null)},btnExtraPressed:function(e){switch(e.text().trim().toLowerCase()){case"mejorar":Contracts.upgrade();break;case"extender":Contracts.extend();break;case"guardar":Contracts.addExtra()}},upgrade:function(){var e,t,a,n;isEmpty([e=$("#extra-client-contract").val(),a=(t=$(".service-card.selected")).attr("data-id"),n=t.attr("data-payment")])?displayAlert("Revise","asegurate de llenar todos los datos y seleccionar el servicio","info"):connectAndSend("process/upgrade",!0,initGlobalHandlers,null,"id_contrato="+e+"&id_servicio="+a+"&cuota="+n,Contracts.getAll)},addExtra:function(){var e,t,a,n,o,i,r,l;t=$("#extra-client-contract").val(),n=$("#extra-service-cost").val(),a=$("#select-extra-service").val(),o=$("#extra-equipo").val(),i=$("#extra-e-mac").val(),r=$("#extra-router").val(),l=$("#extra-r-mac").val(),isEmpty([t,a,n])?displayAlert("revise","asegurate de llenar todos los datos y seleccionar el servicio","info"):(e="id_contrato="+t+"&costo_servicio="+n+"&nombre_servicio="+a,connectAndSend("process/addextra",!0,initGlobalHandlers,null,e+="&nombre_equipo="+o+"&mac_equipo="+i+"&router="+r+"&mac_router="+l,Contracts.getAll))},extend:function(){var e,t;e=$("#extra-client-contract").val(),isEmpty([t=$("#extra-extension-months").val(),e])?displayAlert("revise","asegurate de llenar todos los datos y seleccionar el servicio","info"):connectAndSend("process/extend_contract",!0,initGlobalHandlers,null,"id_contrato="+e+"&duracion="+t,Contracts.getAll)},getAllOfClient:function(e){connectAndSend("process/data_for_extra",!1,null,makeContractList,"dni="+e,null)}},Payments={getAll:function(){var e=$("#select-contract").val();if(null!=e){var t="tabla=pagos&id="+e;connectAndSend("process/getall",!1,null,paymentTable.refresh,t,Payments.contractRefresh)}},update:function(e){connectAndSend("process/update",!0,null,null,"tabla=pagos&id="+e+"&estado=pagado&fecha_pago="+moment().format("YYYY-MM-DD")+"&id_contrato="+$("#select-contract").val(),Payments.getAll)},saveAbonos:function(){var e,t,a;t=$("#text-abono-detail").val(),a=$("#select-contract").val(),$inputAbono=$("#input-abono"),abono=$inputAbono.val(),e="observaciones="+t+"&abonos="+abono,connectAndSend("process/update",!0,null,null,e+="&contrato_abono="+a+"&tabla=abonos",Payments.getAll),$inputAbono.val("")},updateUntil:function(e,t){$("#select-contract").val();connectAndSend("process/update",!0,null,null,"tabla=pagos_al_dia&id_ultimo_pago="+t+"&estado=pagado&id_contrato="+e,null,heavyLoad)},removePayment:function(e){connectAndSend("process/update",!0,null,null,"tabla=deshacer_pago&id_pago="+e,Payments.getAll)},contractRefresh:function(){var e="tabla=contratos_cliente&id="+$("#detail-client-id").val();connectAndSend("process/getall",!1,null,detailsContractTable.refresh,e,null)},getOne:function(e,t){form="tabla=pagos&id_pago="+e,connectAndSend("process/getone",!1,null,t,form,null)},receiveForEdit:function(e){function t(e){var t=moment().format("YYYY-MM-DD");form="id_pago="+e+"&id_contrato="+id_contrato+"&cuota="+i.val(),form+="&mora="+r.val()+"&monto_extra="+l.val(),form+="&total="+s.val()+"&descuento="+c.val()+"&razon_descuento="+d.val()+"&fecha_pago="+t,form+="&tabla=discount_pagos",connectAndSend("process/update",!0,null,null,form,Payments.getAll),u.hide()}var a=JSON.parse(e);this.id_contrato=a.id_contrato,this.id_pago=a.id_pago;var n=$("#payment-concept"),o=$("#payment-limit-date"),i=$("#payment-cuota"),r=$("#payment-mora"),l=$("#payment-extra"),s=$("#payment-total"),c=$("#payment-discount-amount"),d=$("#payment-discount-reason"),u=$("#advanced-payment");n.val(a.concepto),o.val(a.fecha_limite),i.val(a.cuota),r.val(a.mora),l.val(a.monto_extra),s.val(a.total),function(){$(".payment-sumandos").on("keyup",function(){i.val(a.cuota-c.val());var e=Number(i.val())+Number(r.val())+Number(l.val());s.val(Number(e))})}(),u.modal(),u.on("hide.bs.modal",function(){u.find("input").val("")}),$("#btn-apply-discount").on("click",function(e){e.stopImmediatePropagation(),swal({title:"Está Seguro?",text:"Seguro de que quiere aplicar este descuento de "+c.val()+"?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){t(id_pago),u.hide(),u.modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()})})},edit:function(e){var t=JSON.parse(e);this.id_contrato=t.id_contrato,this.id_pago=t.id_pago;var a=$("#edit-payment-modal");console.log(t),a.modal(),a.on("hide.bs.modal",function(){a.find("input").val("")}),$("#btn-save-edited-payment").on("click",function(e){e.stopImmediatePropagation(),swal({title:"Está Seguro?",text:"Seguro de que quiere aplicar este descuento de "+$descuento.val()+"?",type:"warning",showCancelButton:!0,confirmButtonText:"Estoy Seguro!",cancelButtonText:"Cancelar"}).then(function(){applyDiscount(id_pago),a.hide(),a.modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()})})}},Damages={add:function(){var e,t;isEmpty([e=$("#averias-client-id").val(),t=$("#a-description").val()])?displayAlert("Revise","LLene todos los campos por favor","error"):connectAndSend("process/add",!0,initGlobalHandlers,null,"id_cliente="+e+"&descripcion="+t+"&tabla=averias",Damages.getAll),$("#new-averia-modal").find("input,textarea").val("")},getAll:function(){var e=$("#averias-view-mode").val();$(".presentado").text(e),connectAndSend("process/getall",!1,initGlobalHandlers,fillAveriasList,"tabla=averias&estado="+e,null)},update:function(e){connectAndSend("process/update",!0,initGlobalHandlers,null,"tabla=averias&id_averia="+e,Damages.getAll)}},Installations={getAll:function(){connectAndSend("process/getall",!1,initGlobalHandlers,fillInstallationsList,"tabla=instalaciones&estado="+$("#installations-view-mode").val(),null)},update:function(e){connectAndSend("process/update",!0,initGlobalHandlers,null,"tabla=instalaciones&id_pago="+e,Installations.getAll)}},Caja={add:function(){var e,t,a;e="entrada="+(t=$("#caja-a-amount").val())+"&descripcion="+(a=$("#caja-a-description").val())+"&tabla=caja",isEmpty([t,a])?displayAlert("Revise","LLene todos los campos por favor","error"):connectAndSend("process/add",!0,null,null,e,Caja.getAll)},retire:function(){var e,t,a;e="salida="+(t=$("#caja-r-amount").val())+"&descripcion="+(a=$("#caja-r-description").val()),isEmpty([t,a])?displayAlert("Revise","LLene todos los campos por favor","error"):connectAndSend("process/retire",!0,null,null,e,Caja.getAll)},getAll:function(){connectAndSend("process/getAll",!1,null,cajaTable.refresh,"tabla=caja",Caja.getSaldo)},getSaldo:function(){connectAndSend("process/getone",!1,null,updateSaldo,"tabla=caja",null)},search:function(){var e=$("#caja-date"),t=$("#caja-user"),a=e.val()?e.val():"%",n="tabla=caja&id_empleado="+(t.val()?t.val():"%")+"&fecha="+a;connectAndSend("process/search",!1,null,cajaTable.refresh,n,null)}},Company={update:function(){var e,t=$("#company-name").val(),a=$("#company-statement").val(),n=getVal($("#company-phone1")),o=$("#company-direction").val();e="nombre="+t+"&lema="+a+"&descripcion="+$("#company-description").val()+"&direccion=",connectAndSend("process/update",!0,null,null,e+=o+"&telefono1="+n+"&telefonos="+getVal($("#company-phone2"))+"&tabla=empresa",null)}},Settings={update:function(){var e;e="cargo_mora="+$("#settings-mora").val()+"&fecha_corte="+$("#settings-fecha-corte").val()+"&apertura_caja="+$("#settings-apertura-caja").val(),e+="&penalizacion_cancelacion="+$("#settings-penalizacion-cancelacion").val()+"&meses_por_defecto="+$("#settings-meses-por-defecto").val(),connectAndSend("process/update",!0,null,null,e+="&split_day="+$("#settings-split-day").val()+"&tabla=settings",null)}},Sections={add:function(){function e(e){var t="nombre="+e[0]+"&codigo_area="+e[1];return t+="&tabla=secciones",new Promise(function(e){if(connectAndSend("process/add",!0,!1,null,t,Sections.getAll,heavyLoad))return e()})}swal.setDefaults({input:"text",confirmButtonText:"Next &rarr;",showCancelButton:!0,animation:!1,progressSteps:["1","2","3"]});var t=[{title:"Nombre del sector"},"Codigo del Sector"];swal.queue(t).then(function(t){swal.resetDefaults(),e(t)})},getIps:function(){var e=$("#select-sector").val();if(null!=e){var t="tabla=ips&id="+e;connectAndSend("process/getall",!1,null,Sections.reorderTable,t,null)}},reorderTable:function(e){var t=$("#t-sections");t.bootstrapTable("destroy"),$("#t-sections tbody").html(e),t.bootstrapTable(),t.find("tbody").css({display:"table-row-group"})},getAll:function(){function e(e){$("#select-sector").html(e)}connectAndSend("process/getall",!1,null,e,"tabla=secciones",heavyLoad)}},currentPage=$("title").text().split(" ");currentPage=currentPage[4].toLowerCase().trim();var ran=!1;$(function(){initComponents()});var ran=!1,Session={login:function(){var e=$("#user-input").val(),t=$("#password-input").val();if(isEmpty([e,t]))displayMessage(MESSAGE_ERROR+" LLene todos los campos indicados para ingresar");else{var a="user="+e+"&password="+t;connectAndSend("app/login",!1,!1,Session.processLoginData,a,null,loginLibrary.loading)}},processLoginData:function(e){1==e?window.location.href=BASE_URL+"app/admin/":($(".loader").css({display:"none"}),displayMessage(MESSAGE_INFO+" Usuario y Contraseña no validos"))}},loginLibrary={loading:function(e){e?$(".loader").css({display:"none"}):$(".loader").css({display:"block"})},sendToLogin:function(e){key=e.which,13==key&&Session.login()}};if($(function(){loginHandlers()}),(isCurrentPage("cierre")||isCurrentPage("cierre2"))&&cierreCajaFunctions(),isCurrentPage("reportes")){var script=document.createElement("script");script.src=BASE_URL+"assets/js/min/reportes.min.js?version=4.0.22",$("body").append(script)}Vue.component("summary-print-view",{template:'    <div class="print-container">      <div class="__header">      <h2 class="__title t-center"> {{title}}</h2>      </div>      <div class="__body">      <printeable></printeable>      </div>    <div>        ',props:["somevalue"],methods:{goBack:function(){appSummaryView.isHide=!0,window.appCierre.isHide=!1,self.isHide=!0,$(".top-nav").removeClass("hide"),$("#app-cierre").removeClass("hide")}},data:function(){return{back:{link:"somelink",text:"volver a cierre"},foward:{link:BASE_URL+"app/logout",text:"cerrar session"},title:"Resumen de cierre de hoy"}}});var appSummaryView=new Vue({el:"#print-view",data:{isHide:!0,back:{link:"somelink",text:"volver a cierre"},foward:{link:BASE_URL+"app/logout",text:"cerrar session"},cierre:{autor:"",pagos_facturas:0,pagos_extras:0,pagos_efectivo:0,pagos_banco:0,total_ingresos:0,efectivo_caja:0,total_descuadre:0,total_gastos:0,banco:0}},filters:{currencyFormat:function(e){return"RD$ "+CurrencyFormat(e)}},methods:{goBack:function(){appSummaryView.isHide=!0,window.appCierre.isHide=!1,self.isHide=!0,$(".top-nav").removeClass("hide"),$("#app-cierre").removeClass("hide")},print:function(){print()}}});
if("undefined"==typeof jQuery)throw new Error("AdminLTE requires jQuery");+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),o=a.data(i);if(!o){var r=e.extend({},n,a.data(),"object"==typeof t&&t);a.data(i,o=new s(r))}if("string"==typeof t){if(void 0===o[t])throw new Error("No method named "+t);o[t]()}})}var i="lte.layout",n={slimscroll:!0,resetHeight:!0},a={wrapper:".wrapper",contentWrapper:".content-wrapper",layoutBoxed:".layout-boxed",mainFooter:".main-footer",mainHeader:".main-header",sidebar:".sidebar",controlSidebar:".control-sidebar",fixed:".fixed",sidebarMenu:".sidebar-menu",logo:".main-header .logo"},o={fixed:"fixed",holdTransition:"hold-transition"},s=function(e){this.options=e,this.bindedResize=!1,this.activate()};s.prototype.activate=function(){this.fix(),this.fixSidebar(),e("body").removeClass(o.holdTransition),this.options.resetHeight&&e("body, html, "+a.wrapper).css({height:"auto","min-height":"100%"}),this.bindedResize||(e(window).resize(function(){this.fix(),this.fixSidebar(),e(a.logo+", "+a.sidebar).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){this.fix(),this.fixSidebar()}.bind(this))}.bind(this)),this.bindedResize=!0),e(a.sidebarMenu).on("expanded.tree",function(){this.fix(),this.fixSidebar()}.bind(this)),e(a.sidebarMenu).on("collapsed.tree",function(){this.fix(),this.fixSidebar()}.bind(this))},s.prototype.fix=function(){e(a.layoutBoxed+" > "+a.wrapper).css("overflow","hidden");var t=e(a.mainFooter).outerHeight()||0,i=e(a.mainHeader).outerHeight()+t,n=e(window).height(),s=e(a.sidebar).height()||0;if(e("body").hasClass(o.fixed))e(a.contentWrapper).css("min-height",n-t);else{var r;n>=s?(e(a.contentWrapper).css("min-height",n-i),r=n-i):(e(a.contentWrapper).css("min-height",s),r=s);var l=e(a.controlSidebar);void 0!==l&&l.height()>r&&e(a.contentWrapper).css("min-height",l.height())}},s.prototype.fixSidebar=function(){e("body").hasClass(o.fixed)?this.options.slimscroll&&void 0!==e.fn.slimScroll&&(e(a.sidebar).slimScroll({destroy:!0}).height("auto"),e(a.sidebar).slimScroll({height:e(window).height()-e(a.mainHeader).height()+"px",color:"rgba(0,0,0,0.2)",size:"3px"})):void 0!==e.fn.slimScroll&&e(a.sidebar).slimScroll({destroy:!0}).height("auto")};var r=e.fn.layout;e.fn.layout=t,e.fn.layout.Constuctor=s,e.fn.layout.noConflict=function(){return e.fn.layout=r,this},e(window).on("load",function(){t.call(e("body"))})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var a=e(this),o=a.data(i);if(!o){var s=e.extend({},n,a.data(),"object"==typeof t&&t);a.data(i,o=new r(s))}"toggle"==t&&o.toggle()})}var i="lte.pushmenu",n={collapseScreenSize:767,expandOnHover:!1,expandTransitionDelay:200},a={collapsed:".sidebar-collapse",open:".sidebar-open",mainSidebar:".main-sidebar",contentWrapper:".content-wrapper",searchInput:".sidebar-form .form-control",button:'[data-toggle="push-menu"]',mini:".sidebar-mini",expanded:".sidebar-expanded-on-hover",layoutFixed:".fixed"},o={collapsed:"sidebar-collapse",open:"sidebar-open",mini:"sidebar-mini",expanded:"sidebar-expanded-on-hover",expandFeature:"sidebar-mini-expand-feature",layoutFixed:"fixed"},s={expanded:"expanded.pushMenu",collapsed:"collapsed.pushMenu"},r=function(e){this.options=e,this.init()};r.prototype.init=function(){(this.options.expandOnHover||e("body").is(a.mini+a.layoutFixed))&&(this.expandOnHover(),e("body").addClass(o.expandFeature)),e(a.contentWrapper).click(function(){e(window).width()<=this.options.collapseScreenSize&&e("body").hasClass(o.open)&&this.close()}.bind(this)),e(a.searchInput).click(function(e){e.stopPropagation()})},r.prototype.toggle=function(){var t=e(window).width(),i=!e("body").hasClass(o.collapsed);t<=this.options.collapseScreenSize&&(i=e("body").hasClass(o.open)),i?this.close():this.open()},r.prototype.open=function(){e(window).width()>this.options.collapseScreenSize?e("body").removeClass(o.collapsed).trigger(e.Event(s.expanded)):e("body").addClass(o.open).trigger(e.Event(s.expanded))},r.prototype.close=function(){e(window).width()>this.options.collapseScreenSize?e("body").addClass(o.collapsed).trigger(e.Event(s.collapsed)):e("body").removeClass(o.open+" "+o.collapsed).trigger(e.Event(s.collapsed))},r.prototype.expandOnHover=function(){e(a.mainSidebar).hover(function(){e("body").is(a.mini+a.collapsed)&&e(window).width()>this.options.collapseScreenSize&&this.expand()}.bind(this),function(){e("body").is(a.expanded)&&this.collapse()}.bind(this))},r.prototype.expand=function(){setTimeout(function(){e("body").removeClass(o.collapsed).addClass(o.expanded)},this.options.expandTransitionDelay)},r.prototype.collapse=function(){setTimeout(function(){e("body").removeClass(o.expanded).addClass(o.collapsed)},this.options.expandTransitionDelay)};var l=e.fn.pushMenu;e.fn.pushMenu=t,e.fn.pushMenu.Constructor=r,e.fn.pushMenu.noConflict=function(){return e.fn.pushMenu=l,this},e(document).on("click",a.button,function(i){i.preventDefault(),t.call(e(this),"toggle")}),e(window).on("load",function(){t.call(e(a.button))})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var a=e(this);if(!a.data(i)){var o=e.extend({},n,a.data(),"object"==typeof t&&t);a.data(i,new r(a,o))}})}var i="lte.tree",n={animationSpeed:500,accordion:!0,followLink:!1,trigger:".treeview a"},a={tree:".tree",treeview:".treeview",treeviewMenu:".treeview-menu",open:".menu-open, .active",li:"li",data:'[data-widget="tree"]',active:".active"},o={open:"menu-open",tree:"tree"},s={collapsed:"collapsed.tree",expanded:"expanded.tree"},r=function(t,i){this.element=t,this.options=i,e(this.element).addClass(o.tree),e(a.treeview+a.active,this.element).addClass(o.open),this._setUpListeners()};r.prototype.toggle=function(e,t){var i=e.next(a.treeviewMenu),n=e.parent(),s=n.hasClass(o.open);n.is(a.treeview)&&(this.options.followLink&&"#"!=e.attr("href")||t.preventDefault(),s?this.collapse(i,n):this.expand(i,n))},r.prototype.expand=function(t,i){var n=e.Event(s.expanded);if(this.options.accordion){var r=i.siblings(a.open),l=r.children(a.treeviewMenu);this.collapse(l,r)}i.addClass(o.open),t.slideDown(this.options.animationSpeed,function(){e(this.element).trigger(n)}.bind(this))},r.prototype.collapse=function(t,i){var n=e.Event(s.collapsed);t.find(a.open).removeClass(o.open),i.removeClass(o.open),t.slideUp(this.options.animationSpeed,function(){t.find(a.open+" > "+a.treeview).slideUp(),e(this.element).trigger(n)}.bind(this))},r.prototype._setUpListeners=function(){var t=this;e(this.element).on("click",this.options.trigger,function(i){t.toggle(e(this),i)})};var l=e.fn.tree;e.fn.tree=t,e.fn.tree.Constructor=r,e.fn.tree.noConflict=function(){return e.fn.tree=l,this},e(window).on("load",function(){e(a.data).each(function(){t.call(e(this))})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var a=e(this),o=a.data(i);if(!o){var s=e.extend({},n,a.data(),"object"==typeof t&&t);a.data(i,o=new r(a,s))}"string"==typeof t&&o.toggle()})}var i="lte.controlsidebar",n={slide:!0},a={sidebar:".control-sidebar",data:'[data-toggle="control-sidebar"]',open:".control-sidebar-open",bg:".control-sidebar-bg",wrapper:".wrapper",content:".content-wrapper",boxed:".layout-boxed"},o={open:"control-sidebar-open",fixed:"fixed"},s={collapsed:"collapsed.controlsidebar",expanded:"expanded.controlsidebar"},r=function(e,t){this.element=e,this.options=t,this.hasBindedResize=!1,this.init()};r.prototype.init=function(){e(this.element).is(a.data)||e(this).on("click",this.toggle),this.fix(),e(window).resize(function(){this.fix()}.bind(this))},r.prototype.toggle=function(t){t&&t.preventDefault(),this.fix(),e(a.sidebar).is(a.open)||e("body").is(a.open)?this.collapse():this.expand()},r.prototype.expand=function(){this.options.slide?e(a.sidebar).addClass(o.open):e("body").addClass(o.open),e(this.element).trigger(e.Event(s.expanded))},r.prototype.collapse=function(){e("body, "+a.sidebar).removeClass(o.open),e(this.element).trigger(e.Event(s.collapsed))},r.prototype.fix=function(){e("body").is(a.boxed)&&this._fixForBoxed(e(a.bg))},r.prototype._fixForBoxed=function(t){t.css({position:"absolute",height:e(a.wrapper).height()})};var l=e.fn.controlSidebar;e.fn.controlSidebar=t,e.fn.controlSidebar.Constructor=r,e.fn.controlSidebar.noConflict=function(){return e.fn.controlSidebar=l,this},e(document).on("click",a.data,function(i){i&&i.preventDefault(),t.call(e(this),"toggle")})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var a=e(this),o=a.data(i);if(!o){var s=e.extend({},n,a.data(),"object"==typeof t&&t);a.data(i,o=new r(a,s))}if("string"==typeof t){if(void 0===o[t])throw new Error("No method named "+t);o[t]()}})}var i="lte.boxwidget",n={animationSpeed:500,collapseTrigger:'[data-widget="collapse"]',removeTrigger:'[data-widget="remove"]',collapseIcon:"fa-minus",expandIcon:"fa-plus",removeIcon:"fa-times"},a={data:".box",collapsed:".collapsed-box",body:".box-body",footer:".box-footer",tools:".box-tools"},o={collapsed:"collapsed-box"},s={collapsed:"collapsed.boxwidget",expanded:"expanded.boxwidget",removed:"removed.boxwidget"},r=function(e,t){this.element=e,this.options=t,this._setUpListeners()};r.prototype.toggle=function(){e(this.element).is(a.collapsed)?this.expand():this.collapse()},r.prototype.expand=function(){var t=e.Event(s.expanded),i=this.options.collapseIcon,n=this.options.expandIcon;e(this.element).removeClass(o.collapsed),e(this.element).find(a.tools).find("."+n).removeClass(n).addClass(i),e(this.element).find(a.body+", "+a.footer).slideDown(this.options.animationSpeed,function(){e(this.element).trigger(t)}.bind(this))},r.prototype.collapse=function(){var t=e.Event(s.collapsed),i=this.options.collapseIcon,n=this.options.expandIcon;e(this.element).find(a.tools).find("."+i).removeClass(i).addClass(n),e(this.element).find(a.body+", "+a.footer).slideUp(this.options.animationSpeed,function(){e(this.element).addClass(o.collapsed),e(this.element).trigger(t)}.bind(this))},r.prototype.remove=function(){var t=e.Event(s.removed);e(this.element).slideUp(this.options.animationSpeed,function(){e(this.element).trigger(t),e(this.element).remove()}.bind(this))},r.prototype._setUpListeners=function(){var t=this;e(this.element).on("click",this.options.collapseTrigger,function(e){e&&e.preventDefault(),t.toggle()}),e(this.element).on("click",this.options.removeTrigger,function(e){e&&e.preventDefault(),t.remove()})};var l=e.fn.boxWidget;e.fn.boxWidget=t,e.fn.boxWidget.Constructor=r,e.fn.boxWidget.noConflict=function(){return e.fn.boxWidget=l,this},e(window).on("load",function(){e(a.data).each(function(){t.call(e(this))})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var a=e(this),o=a.data(i);if(!o){var r=e.extend({},n,a.data(),"object"==typeof t&&t);a.data(i,o=new s(a,r))}if("string"==typeof o){if(void 0===o[t])throw new Error("No method named "+t);o[t]()}})}var i="lte.todolist",n={iCheck:!1,onCheck:function(){},onUnCheck:function(){}},a={data:'[data-widget="todo-list"]'},o={done:"done"},s=function(e,t){this.element=e,this.options=t,this._setUpListeners()};s.prototype.toggle=function(e){e.parents(a.li).first().toggleClass(o.done),e.prop("checked")?this.check(e):this.unCheck(e)},s.prototype.check=function(e){this.options.onCheck.call(e)},s.prototype.unCheck=function(e){this.options.onUnCheck.call(e)},s.prototype._setUpListeners=function(){var t=this;e(this.element).on("change ifChanged","input:checkbox",function(){t.toggle(e(this))})};var r=e.fn.todoList;e.fn.todoList=t,e.fn.todoList.Constructor=s,e.fn.todoList.noConflict=function(){return e.fn.todoList=r,this},e(window).on("load",function(){e(a.data).each(function(){t.call(e(this))})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),a=n.data(i);a||n.data(i,a=new o(n)),"string"==typeof t&&a.toggle(n)})}var i="lte.directchat",n={data:'[data-widget="chat-pane-toggle"]',box:".direct-chat"},a={open:"direct-chat-contacts-open"},o=function(e){this.element=e};o.prototype.toggle=function(e){e.parents(n.box).first().toggleClass(a.open)};var s=e.fn.directChat;e.fn.directChat=t,e.fn.directChat.Constructor=o,e.fn.directChat.noConflict=function(){return e.fn.directChat=s,this},e(document).on("click",n.data,function(i){i&&i.preventDefault(),t.call(e(this),"toggle")})}(jQuery),function(e){function t(e){var t=document.createElement("input"),i=(e="on"+e)in t;return i||(t.setAttribute(e,"return;"),i="function"==typeof t[e]),t=null,i}function i(t,n,a){var o=a.aliases[t];return!!o&&(o.alias&&i(o.alias,void 0,a),e.extend(!0,a,o),e.extend(!0,a,n),!0)}function n(t){function i(i){t.numericInput&&(i=i.split("").reverse().join(""));var n=!1,a=0,o=t.greedy,s=t.repeat;"*"==s&&(o=!1),1==i.length&&0==o&&0!=s&&(t.placeholder="");for(var r=e.map(i.split(""),function(e,i){var o=[];if(e==t.escapeChar)n=!0;else if(e!=t.optionalmarker.start&&e!=t.optionalmarker.end||n){var s=t.definitions[e];if(s&&!n)for(var r=0;r<s.cardinality;r++)o.push(t.placeholder.charAt((a+r)%t.placeholder.length));else o.push(e),n=!1;return a+=o.length,o}}),l=r.slice(),d=1;d<s&&o;d++)l=l.concat(r.slice());return{mask:l,repeat:s,greedy:o}}function n(i){t.numericInput&&(i=i.split("").reverse().join(""));var n=!1,a=!1,o=!1;return e.map(i.split(""),function(e,i){var s=[];if(e==t.escapeChar)a=!0;else if(e!=t.optionalmarker.start||a){if(e!=t.optionalmarker.end||a){var r=t.definitions[e];if(r&&!a){for(var l=r.prevalidator,d=l?l.length:0,c=1;c<r.cardinality;c++){var u=d>=c?l[c-1]:[],p=u.validator,f=u.cardinality;s.push({fn:p?"string"==typeof p?new RegExp(p):new function(){this.test=p}:new RegExp("."),cardinality:f||1,optionality:n,newBlockMarker:1==n&&o,offset:0,casing:r.casing,def:r.definitionSymbol||e}),1==n&&(o=!1)}s.push({fn:r.validator?"string"==typeof r.validator?new RegExp(r.validator):new function(){this.test=r.validator}:new RegExp("."),cardinality:r.cardinality,optionality:n,newBlockMarker:o,offset:0,casing:r.casing,def:r.definitionSymbol||e})}else s.push({fn:null,cardinality:0,optionality:n,newBlockMarker:o,offset:0,casing:null,def:e}),a=!1;return o=!1,s}n=!1,o=!0}else n=!0,o=!0})}function a(e){return t.optionalmarker.start+e+t.optionalmarker.end}function o(e){for(var i=0,n=0,a=e.length,o=0;o<a&&(e.charAt(o)==t.optionalmarker.start&&i++,e.charAt(o)==t.optionalmarker.end&&n++,!(i>0&&i==n));o++);var s=[e.substring(0,o)];return o<a&&s.push(e.substring(o+1,a)),s}function s(e){for(var i=e.length,n=0;n<i&&e.charAt(n)!=t.optionalmarker.start;n++);var a=[e.substring(0,n)];return n<i&&a.push(e.substring(n+1,i)),a}function r(t,c,u){var p,f,h=o(c),v=s(h[0]);v.length>1?(p=t+v[0]+a(v[1])+(h.length>1?h[1]:""),-1==e.inArray(p,d)&&""!=p&&(d.push(p),f=i(p),l.push({mask:p,_buffer:f.mask,buffer:f.mask.slice(),tests:n(p),lastValidPosition:-1,greedy:f.greedy,repeat:f.repeat,metadata:u})),p=t+v[0]+(h.length>1?h[1]:""),-1==e.inArray(p,d)&&""!=p&&(d.push(p),f=i(p),l.push({mask:p,_buffer:f.mask,buffer:f.mask.slice(),tests:n(p),lastValidPosition:-1,greedy:f.greedy,repeat:f.repeat,metadata:u})),s(v[1]).length>1&&r(t+v[0],v[1]+h[1],u),h.length>1&&s(h[1]).length>1&&(r(t+v[0]+a(v[1]),h[1],u),r(t+v[0],h[1],u))):(p=t+h,-1==e.inArray(p,d)&&""!=p&&(d.push(p),f=i(p),l.push({mask:p,_buffer:f.mask,buffer:f.mask.slice(),tests:n(p),lastValidPosition:-1,greedy:f.greedy,repeat:f.repeat,metadata:u})))}var l=[],d=[];return e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask)?e.each(t.mask,function(e,t){void 0!=t.mask?r("",t.mask.toString(),t):r("",t.toString())}):r("",t.mask.toString()),t.greedy?l:l.sort(function(e,t){return e.mask.length-t.mask.length})}function a(t,i,n,a){function c(){return t[i]}function u(){return c().tests}function p(){return c()._buffer}function f(){return c().buffer}function h(a,o,s){function r(e,t,i,a){for(var o=g(e),s=i?1:0,r="",l=t.buffer,d=t.tests[o].cardinality;d>s;d--)r+=C(l,o-(d-1));return i&&(r+=i),null!=t.tests[o].fn?t.tests[o].fn.test(r,l,e,a,n):(i==C(t._buffer,e,!0)||i==n.skipOptionalPartCharacter)&&{refresh:!0,c:C(t._buffer,e,!0),pos:e}}if(s=!0===s)return!0===(d=r(a,c(),o,s))&&(d={pos:a}),d;var l=[],d=!1,u=i,p=f().slice(),h=c().lastValidPosition,v=(y(a),[]);return e.each(t,function(e,t){if("object"==typeof t){i=e;var n,g=a,y=c().lastValidPosition;if(y==h){if(g-h>1)for(var C=-1==y?0:y;C<g&&!1!==(n=r(C,c(),p[C],!0));C++){x(f(),C,p[C],!0),!0===n&&(n={pos:C});P=n.pos||C;c().lastValidPosition<P&&(c().lastValidPosition=P)}if(!m(g)&&!r(g,c(),o,s)){for(var _=b(g)-g,w=0;w<_&&!1===r(++g,c(),o,s);w++);v.push(i)}}if((c().lastValidPosition>=h||i==u)&&g>=0&&g<k()){if(!1!==(d=r(g,c(),o,s))){!0===d&&(d={pos:g});var P=d.pos||g;c().lastValidPosition<P&&(c().lastValidPosition=P)}l.push({activeMasksetIndex:e,result:d})}}}),i=u,function(i,n){var s=!1;if(e.each(n,function(t,n){if(s=-1==e.inArray(n.activeMasksetIndex,i)&&!1!==n.result)return!1}),s)n=e.map(n,function(n,a){if(-1==e.inArray(n.activeMasksetIndex,i))return n;t[n.activeMasksetIndex].lastValidPosition=h});else{var l,d=-1,c=-1;e.each(n,function(t,n){-1!=e.inArray(n.activeMasksetIndex,i)&&!1!==n.result&(-1==d||d>n.result.pos)&&(d=n.result.pos,c=n.activeMasksetIndex)}),n=e.map(n,function(n,s){if(-1!=e.inArray(n.activeMasksetIndex,i)){if(n.result.pos==d)return n;if(!1!==n.result){for(var u=a;u<d;u++){if(!1===(l=r(u,t[n.activeMasksetIndex],t[c].buffer[u],!0))){t[n.activeMasksetIndex].lastValidPosition=d-1;break}x(t[n.activeMasksetIndex].buffer,u,t[c].buffer[u],!0),t[n.activeMasksetIndex].lastValidPosition=u}return!1!==(l=r(d,t[n.activeMasksetIndex],o,!0))&&(x(t[n.activeMasksetIndex].buffer,d,o,!0),t[n.activeMasksetIndex].lastValidPosition=d),n}}})}return n}(v,l)}function v(){var n=i,a={activeMasksetIndex:0,lastValidPosition:-1,next:-1};e.each(t,function(e,t){"object"==typeof t&&(i=e,c().lastValidPosition>a.lastValidPosition?(a.activeMasksetIndex=e,a.lastValidPosition=c().lastValidPosition,a.next=b(c().lastValidPosition)):c().lastValidPosition==a.lastValidPosition&&(-1==a.next||a.next>b(c().lastValidPosition))&&(a.activeMasksetIndex=e,a.lastValidPosition=c().lastValidPosition,a.next=b(c().lastValidPosition)))}),n!=(i=-1!=a.lastValidPosition&&t[n].lastValidPosition==a.lastValidPosition?n:a.activeMasksetIndex)&&(P(f(),b(a.lastValidPosition),k()),c().writeOutBuffer=!0),W.data("_inputmask").activeMasksetIndex=i}function m(e){var t=g(e),i=u()[t];return void 0!=i&&i.fn}function g(e){return e%u().length}function k(){return n.getMaskLength(p(),c().greedy,c().repeat,f(),n)}function b(e){var t=k();if(e>=t)return t;for(var i=e;++i<t&&!m(i););return i}function y(e){var t=e;if(t<=0)return 0;for(;--t>0&&!m(t););return t}function x(e,t,i,n){n&&(t=_(e,t));var a=u()[g(t)],o=i;if(void 0!=o&&void 0!=a)switch(a.casing){case"upper":o=i.toUpperCase();break;case"lower":o=i.toLowerCase()}e[t]=o}function C(e,t,i){return i&&(t=_(e,t)),e[t]}function _(e,t){for(var i;void 0==e[t]&&e.length<k();)for(i=0;void 0!==p()[i];)e.push(p()[i++]);return t}function w(e,t,i){e._valueSet(t.join("")),void 0!=i&&D(e,i)}function P(e,t,i,n){for(var a=t,o=k();a<i&&a<o;a++)!0===n?m(a)||x(e,a,""):x(e,a,C(p().slice(),a,!0))}function M(e,t){var i=g(t);x(e,t,C(p(),i))}function S(e){return n.placeholder.charAt(e%n.placeholder.length)}function E(n,a,o,s,r){var l=void 0!=s?s.slice():j(n._valueGet()).split("");e.each(t,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1,t.p=-1)}),!0!==o&&(i=0),a&&n._valueSet("");k();e.each(l,function(t,i){if(!0===r){var s=c().p,l=-1==s?s:y(s),d=-1==l?t:b(l);-1==e.inArray(i,p().slice(l+1,d))&&K.call(n,void 0,!0,i.charCodeAt(0),a,o,t)}else K.call(n,void 0,!0,i.charCodeAt(0),a,o,t)}),!0===o&&-1!=c().p&&(c().lastValidPosition=y(c().p))}function A(t){return e.inputmask.escapeRegex.call(this,t)}function j(e){return e.replace(new RegExp("("+A(p().join(""))+")*$"),"")}function I(e){for(var t=f(),i=t.slice(),n=i.length-1;n>=0;n--){var a=g(n);if(!u()[a].optionality)break;if(m(n)&&h(n,t[n],!0))break;i.pop()}w(e,i)}function T(e){return!Q||"number"!=typeof e||n.greedy&&""==n.placeholder||(e=f().length-e),e}function D(t,i,a){var o,s=t.jquery&&t.length>0?t[0]:t;if("number"!=typeof i)return e(t).is(":visible")?(s.setSelectionRange?(i=s.selectionStart,a=s.selectionEnd):document.selection&&document.selection.createRange&&(a=(i=0-(o=document.selection.createRange()).duplicate().moveStart("character",-1e5))+o.text.length),i=T(i),a=T(a),{begin:i,end:a}):{begin:0,end:0};i=T(i),a=T(a),e(t).is(":visible")&&(a="number"==typeof a?a:i,s.scrollLeft=s.scrollWidth,0==n.insertMode&&i==a&&a++,s.setSelectionRange?(s.selectionStart=i,s.selectionEnd=r?i:a):s.createTextRange&&((o=s.createTextRange()).collapse(!0),o.moveEnd("character",a),o.moveStart("character",i),o.select()))}function V(a){if("*"!=n.repeat){var o=!1,s=0,r=i;return e.each(t,function(e,t){if("object"==typeof t){i=e;var n=y(k());if(t.lastValidPosition>=s&&t.lastValidPosition==n){for(var r=!0,l=0;l<=n;l++){var d=m(l),c=g(l);if(d&&(void 0==a[l]||a[l]==S(l))||!d&&a[l]!=p()[c]){r=!1;break}}if(o=o||r)return!1}s=t.lastValidPosition}}),i=r,o}}function O(e,t){return Q?e-t>1||e-t==1&&n.insertMode:t-e>1||t-e==1&&n.insertMode}function L(t){var i=e._data(t).events;e.each(i,function(t,i){e.each(i,function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var i=t.handler;t.handler=function(e){if(!this.readOnly&&!this.disabled)return i.apply(this,arguments);e.preventDefault}}})})}function G(t){var i;if(Object.getOwnPropertyDescriptor&&(i=Object.getOwnPropertyDescriptor(t,"value")),i&&i.get){if(!t._valueGet){var n=i.get,a=i.set;t._valueGet=function(){return Q?n.call(this).split("").reverse().join(""):n.call(this)},t._valueSet=function(e){a.call(this,Q?e.split("").reverse().join(""):e)},Object.defineProperty(t,"value",{get:function(){var t=e(this),i=e(this).data("_inputmask"),a=i.masksets,o=i.activeMasksetIndex;return i&&i.opts.autoUnmask?t.inputmask("unmaskedvalue"):n.call(this)!=a[o]._buffer.join("")?n.call(this):""},set:function(t){a.call(this,t),e(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&t.__lookupGetter__("value")){if(!t._valueGet){var n=t.__lookupGetter__("value"),a=t.__lookupSetter__("value");t._valueGet=function(){return Q?n.call(this).split("").reverse().join(""):n.call(this)},t._valueSet=function(e){a.call(this,Q?e.split("").reverse().join(""):e)},t.__defineGetter__("value",function(){var t=e(this),i=e(this).data("_inputmask"),a=i.masksets,o=i.activeMasksetIndex;return i&&i.opts.autoUnmask?t.inputmask("unmaskedvalue"):n.call(this)!=a[o]._buffer.join("")?n.call(this):""}),t.__defineSetter__("value",function(t){a.call(this,t),e(this).triggerHandler("setvalue.inputmask")})}}else if(t._valueGet||(t._valueGet=function(){return Q?this.value.split("").reverse().join(""):this.value},t._valueSet=function(e){this.value=Q?e.split("").reverse().join(""):e}),void 0==e.valHooks.text||1!=e.valHooks.text.inputmaskpatch){var n=e.valHooks.text&&e.valHooks.text.get?e.valHooks.text.get:function(e){return e.value},a=e.valHooks.text&&e.valHooks.text.set?e.valHooks.text.set:function(e,t){return e.value=t,e};jQuery.extend(e.valHooks,{text:{get:function(t){var i=e(t);if(i.data("_inputmask")){if(i.data("_inputmask").opts.autoUnmask)return i.inputmask("unmaskedvalue");var a=n(t),o=i.data("_inputmask");return a!=o.masksets[o.activeMasksetIndex]._buffer.join("")?a:""}return n(t)},set:function(t,i){var n=e(t),o=a(t,i);return n.data("_inputmask")&&n.triggerHandler("setvalue.inputmask"),o},inputmaskpatch:!0}})}}function R(e,t,i,n){var a=f();if(!1!==n)for(;!m(e)&&e-1>=0;)e--;for(l=e;l<t&&l<k();l++)if(m(l)){M(a,l);var o=b(l),s=C(a,o);if(s!=S(o))if(o<k()&&!1!==h(l,s,!0)&&u()[g(l)].def==u()[g(o)].def)x(a,l,s,!0);else if(m(l))break}else M(a,l);if(void 0!=i&&x(a,y(t),i),0==c().greedy){var r=j(a.join("")).split("");a.length=r.length;for(var l=0,d=a.length;l<d;l++)a[l]=r[l];0==a.length&&(c().buffer=p().slice())}return e}function H(e,t,i){var n=f();if(C(n,e,!0)!=S(e))for(l=y(t);l>e&&l>=0;l--)if(m(l)){var a=y(l),o=C(n,a);o!=S(a)&&!1!==h(a,o,!0)&&u()[g(l)].def==u()[g(a)].def&&(x(n,l,o,!0),M(n,a))}else M(n,l);void 0!=i&&C(n,e)==S(e)&&x(n,e,i);var s=n.length;if(0==c().greedy){var r=j(n.join("")).split("");n.length=r.length;for(var l=0,d=n.length;l<d;l++)n[l]=r[l];0==n.length&&(c().buffer=p().slice())}return t-(s-n.length)}function N(e,i,a){if(n.numericInput||Q){switch(i){case n.keyCode.BACKSPACE:i=n.keyCode.DELETE;break;case n.keyCode.DELETE:i=n.keyCode.BACKSPACE}if(Q){var o=a.end;a.end=a.begin,a.begin=o}}var s=!0;if(a.begin==a.end){var r=i==n.keyCode.BACKSPACE?a.begin-1:a.begin;n.isNumeric&&""!=n.radixPoint&&f()[r]==n.radixPoint&&(a.begin=f().length-1==r?a.begin:i==n.keyCode.BACKSPACE?r:b(r),a.end=a.begin),s=!1,i==n.keyCode.BACKSPACE?a.begin--:i==n.keyCode.DELETE&&a.end++}else a.end-a.begin!=1||n.insertMode||(s=!1,i==n.keyCode.BACKSPACE&&a.begin--);P(f(),a.begin,a.end);var l=k();if(0==n.greedy)R(a.begin,l,void 0,!Q&&i==n.keyCode.BACKSPACE&&!s);else{for(var d=a.begin,u=a.begin;u<a.end;u++)!m(u)&&s||(d=R(a.begin,l,void 0,!Q&&i==n.keyCode.BACKSPACE&&!s));s||(a.begin=d)}var p=b(-1);P(f(),a.begin,a.end,!0),E(e,!1,void 0==t[1]||p>=a.end,f()),c().lastValidPosition<p?(c().lastValidPosition=-1,c().p=p):c().p=a.begin}function U(t){q=!1;var i=this,a=e(i),o=t.keyCode,r=D(i);o==n.keyCode.BACKSPACE||o==n.keyCode.DELETE||s&&127==o||t.ctrlKey&&88==o?(t.preventDefault(),88==o&&($=f().join("")),N(i,o,r),v(),w(i,f(),c().p),i._valueGet()==p().join("")&&a.trigger("cleared"),n.showTooltip&&a.prop("title",c().mask)):o==n.keyCode.END||o==n.keyCode.PAGE_DOWN?setTimeout(function(){var e=b(c().lastValidPosition);n.insertMode||e!=k()||t.shiftKey||e--,D(i,t.shiftKey?r.begin:e,e)},0):o==n.keyCode.HOME&&!t.shiftKey||o==n.keyCode.PAGE_UP?D(i,0,t.shiftKey?r.begin:0):o==n.keyCode.ESCAPE||90==o&&t.ctrlKey?(E(i,!0,!1,$.split("")),a.click()):o!=n.keyCode.INSERT||t.shiftKey||t.ctrlKey?0!=n.insertMode||t.shiftKey||(o==n.keyCode.RIGHT?setTimeout(function(){var e=D(i);D(i,e.begin)},0):o==n.keyCode.LEFT&&setTimeout(function(){var e=D(i);D(i,e.begin-1)},0)):(n.insertMode=!n.insertMode,D(i,n.insertMode||r.begin!=k()?r.begin:r.begin-1));var l=D(i);!0===n.onKeyDown.call(this,t,f(),n)&&D(i,l.begin,l.end),J=-1!=e.inArray(o,n.ignorables)}function K(a,o,s,r,l,d){if(void 0==s&&q)return!1;q=!0;var u=this,p=e(u);a=a||window.event;var s=o?s:a.which||a.charCode||a.keyCode;if(!(!0===o||a.ctrlKey&&a.altKey)&&(a.ctrlKey||a.metaKey||J))return!0;if(s){!0!==o&&46==s&&0==a.shiftKey&&","==n.radixPoint&&(s=44);var m,g,_,P=String.fromCharCode(s);if(o){var M=l?d:c().lastValidPosition+1;m={begin:M,end:M}}else m=D(u);var E=O(m.begin,m.end),A=i;E&&(i=A,e.each(t,function(e,t){"object"==typeof t&&(i=e,c().undoBuffer=f().join(""))}),N(u,n.keyCode.DELETE,m),n.insertMode||e.each(t,function(e,t){"object"==typeof t&&(i=e,H(m.begin,k()),c().lastValidPosition=b(c().lastValidPosition))}),i=A);var j=f().join("").indexOf(n.radixPoint);n.isNumeric&&!0!==o&&-1!=j&&(n.greedy&&m.begin<=j?(m.begin=y(m.begin),m.end=m.begin):P==n.radixPoint&&(m.begin=j,m.end=m.begin));var I=m.begin;g=h(I,P,l),!0===l&&(g=[{activeMasksetIndex:i,result:g}]);var T=-1;if(e.each(g,function(e,t){i=t.activeMasksetIndex,c().writeOutBuffer=!0;var a=t.result;if(!1!==a){var o=!1,s=f();if(!0!==a&&(o=a.refresh,I=void 0!=a.pos?a.pos:I,P=void 0!=a.c?a.c:P),!0!==o){if(1==n.insertMode){for(var r=k(),d=s.slice();C(d,r,!0)!=S(r)&&r>=I;)r=0==r?-1:y(r);if(r>=I){H(I,k(),P);var u=c().lastValidPosition,p=b(u);p!=k()&&u>=I&&C(f(),p,!0)!=S(p)&&(c().lastValidPosition=p)}else c().writeOutBuffer=!1}else x(s,I,P,!0);(-1==T||T>b(I))&&(T=b(I))}else if(!l){var h=I<k()?I+1:I;(-1==T||T>h)&&(T=h)}T>c().p&&(c().p=T)}}),!0!==l&&(i=A,v()),!1!==r&&(e.each(g,function(e,t){if(t.activeMasksetIndex==i)return _=t,!1}),void 0!=_)){var L=this;if(setTimeout(function(){n.onKeyValidation.call(L,_.result,n)},0),c().writeOutBuffer&&!1!==_.result){var G,R=f();G=o?void 0:n.numericInput?I>j?y(T):P==n.radixPoint?T-1:y(T-1):T,w(u,R,G),!0!==o&&setTimeout(function(){!0===V(R)&&p.trigger("complete"),Z=!0,p.trigger("input")},0)}else E&&(c().buffer=c().undoBuffer.split(""))}n.showTooltip&&p.prop("title",c().mask),a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}}function B(t){var i=e(this),a=this,o=t.keyCode,s=f();l&&o==n.keyCode.BACKSPACE&&z==a._valueGet()&&U.call(this,t),n.onKeyUp.call(this,t,s,n),o==n.keyCode.TAB&&n.showMaskOnFocus&&(i.hasClass("focus.inputmask")&&0==a._valueGet().length?(w(a,s=p().slice()),D(a,0),$=f().join("")):(w(a,s),s.join("")==p().join("")&&-1!=e.inArray(n.radixPoint,s)?(D(a,T(0)),i.click()):D(a,T(0),T(k()))))}function F(t){if(!0===Z)return Z=!1,!0;var i=this,n=e(i);z=f().join(""),E(i,!1,!1),w(i,f()),!0===V(f())&&n.trigger("complete"),n.click()}var W,z,Q=!1,$=f().join(""),q=!1,Z=!1,J=!1;if(void 0!=a)switch(a.action){case"isComplete":return V(a.buffer);case"unmaskedvalue":return Q=a.$input.data("_inputmask").isRTL,function(t,i){if(!u()||!0!==i&&t.hasClass("hasDatepicker"))return t[0]._valueGet();var a=e.map(f(),function(e,t){return m(t)&&h(t,e,!0)?e:null}),o=(Q?a.reverse():a).join("");return void 0!=n.onUnMask?n.onUnMask.call(this,f().join(""),o):o}(a.$input,a.skipDatepickerCheck);case"mask":!function(a){if((W=e(a)).is(":input")){if(W.data("_inputmask",{masksets:t,activeMasksetIndex:i,opts:n,isRTL:!1}),n.showTooltip&&W.prop("title",c().mask),c().greedy=c().greedy?c().greedy:0==c().repeat,null!=W.attr("maxLength")){var s=W.prop("maxLength");s>-1&&e.each(t,function(e,t){"object"==typeof t&&"*"==t.repeat&&(t.repeat=s)}),k()>=s&&s>-1&&(s<p().length&&(p().length=s),0==c().greedy&&(c().repeat=Math.round(s/p().length)),W.prop("maxLength",2*k()))}if(G(a),n.numericInput&&(n.isNumeric=n.numericInput),("rtl"==a.dir||n.numericInput&&n.rightAlignNumerics||n.isNumeric&&n.rightAlignNumerics)&&W.css("text-align","right"),"rtl"==a.dir||n.numericInput){a.dir="ltr",W.removeAttr("dir");var r=W.data("_inputmask");r.isRTL=!0,W.data("_inputmask",r),Q=!0}W.unbind(".inputmask"),W.removeClass("focus.inputmask"),W.closest("form").bind("submit",function(){$!=f().join("")&&W.change()}).bind("reset",function(){setTimeout(function(){W.trigger("setvalue")},0)}),W.bind("mouseenter.inputmask",function(){var t=this;!e(this).hasClass("focus.inputmask")&&n.showMaskOnHover&&t._valueGet()!=f().join("")&&w(t,f())}).bind("blur.inputmask",function(){var a=e(this),o=this,s=o._valueGet(),r=f();a.removeClass("focus.inputmask"),$!=f().join("")&&a.change(),n.clearMaskOnLostFocus&&""!=s&&(s==p().join("")?o._valueSet(""):I(o)),!1===V(r)&&(a.trigger("incomplete"),n.clearIncomplete&&(e.each(t,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1)}),i=0,n.clearMaskOnLostFocus?o._valueSet(""):w(o,r=p().slice())))}).bind("focus.inputmask",function(){var t=e(this),i=this,a=i._valueGet();n.showMaskOnFocus&&!t.hasClass("focus.inputmask")&&(!n.showMaskOnHover||n.showMaskOnHover&&""==a)&&i._valueGet()!=f().join("")&&w(i,f(),b(c().lastValidPosition)),t.addClass("focus.inputmask"),$=f().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),i=this;n.clearMaskOnLostFocus&&(t.hasClass("focus.inputmask")||i._valueGet()==t.attr("placeholder")||(i._valueGet()==p().join("")||""==i._valueGet()?i._valueSet(""):I(i)))}).bind("click.inputmask",function(){var t=this;setTimeout(function(){var i=D(t),a=f();if(i.begin==i.end){var o,s=Q?T(i.begin):i.begin,r=c().lastValidPosition;s<(o=n.isNumeric&&!1===n.skipRadixDance&&""!=n.radixPoint&&-1!=e.inArray(n.radixPoint,a)?n.numericInput?b(e.inArray(n.radixPoint,a)):e.inArray(n.radixPoint,a):b(r))?m(s)?D(t,s):D(t,b(s)):D(t,o)}},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){D(e,0,b(c().lastValidPosition))},0)}).bind(d+".inputmask dragdrop.inputmask drop.inputmask",function(t){if(!0===Z)return Z=!1,!0;var i=this,a=e(i);if("propertychange"==t.type&&i._valueGet().length<=k())return!0;setTimeout(function(){var e=void 0!=n.onBeforePaste?n.onBeforePaste.call(this,i._valueGet()):i._valueGet();E(i,!0,!1,e.split(""),!0),!0===V(f())&&a.trigger("complete"),a.click()},0)}).bind("setvalue.inputmask",function(){var e=this;E(e,!0),$=f().join(""),e._valueGet()==p().join("")&&e._valueSet("")}).bind("complete.inputmask",n.oncomplete).bind("incomplete.inputmask",n.onincomplete).bind("cleared.inputmask",n.oncleared).bind("keyup.inputmask",B),l?W.bind("input.inputmask",F):W.bind("keydown.inputmask",U).bind("keypress.inputmask",K),o&&W.bind("input.inputmask",F),E(a,!0,!1),$=f().join("");var u;try{u=document.activeElement}catch(e){}u===a?(W.addClass("focus.inputmask"),D(a,b(c().lastValidPosition))):n.clearMaskOnLostFocus?f().join("")==p().join("")?a._valueSet(""):I(a):w(a,f()),L(a)}}(a.el);break;case"format":return(W=e({})).data("_inputmask",{masksets:t,activeMasksetIndex:i,opts:n,isRTL:n.numericInput}),n.numericInput&&(n.isNumeric=n.numericInput,Q=!0),E(W,!1,!1,a.value.split(""),!0),f().join("")}}if(void 0===e.fn.inputmask){var o=null!==navigator.userAgent.match(new RegExp("msie 10","i")),s=null!==navigator.userAgent.match(new RegExp("iphone","i")),r=null!==navigator.userAgent.match(new RegExp("android.*safari.*","i")),l=null!==navigator.userAgent.match(new RegExp("android.*chrome.*","i")),d=t("paste")?"paste":t("input")?"input":"propertychange";e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:e.noop,onKeyDown:e.noop,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-zА-яЁё]",cardinality:1},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(e,t,i,n,a){var o=e.length;return t||("*"==i?o=n.length+1:i>1&&(o+=e.length*(i-1))),o}},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,o){var s=e.extend(!0,{},e.inputmask.defaults,o);return i(s.alias,o,s),a(n(s),0,s,{action:"format",value:t})}},e.fn.inputmask=function(t,o){var s,r=e.extend(!0,{},e.inputmask.defaults,o),l=0;if("string"==typeof t)switch(t){case"mask":return i(r.alias,o,r),s=n(r),0==s.length?this:this.each(function(){a(e.extend(!0,{},s),0,r,{action:"mask",el:this})});case"unmaskedvalue":var d=e(this);return d.data("_inputmask")?(s=d.data("_inputmask").masksets,l=d.data("_inputmask").activeMasksetIndex,r=d.data("_inputmask").opts,a(s,l,r,{action:"unmaskedvalue",$input:d})):d.val();case"remove":return this.each(function(){var t=e(this),i=this;if(t.data("_inputmask")){s=t.data("_inputmask").masksets,l=t.data("_inputmask").activeMasksetIndex,r=t.data("_inputmask").opts,i._valueSet(a(s,l,r,{action:"unmaskedvalue",$input:t,skipDatepickerCheck:!0})),t.removeData("_inputmask"),t.unbind(".inputmask"),t.removeClass("focus.inputmask");var n;Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(i,"value")),n&&n.get?i._valueGet&&Object.defineProperty(i,"value",{get:i._valueGet,set:i._valueSet}):document.__lookupGetter__&&i.__lookupGetter__("value")&&i._valueGet&&(i.__defineGetter__("value",i._valueGet),i.__defineSetter__("value",i._valueSet));try{delete i._valueGet,delete i._valueSet}catch(e){i._valueGet=void 0,i._valueSet=void 0}}});case"getemptymask":return this.data("_inputmask")?(s=this.data("_inputmask").masksets,l=this.data("_inputmask").activeMasksetIndex,s[l]._buffer.join("")):"";case"hasMaskedValue":return!!this.data("_inputmask")&&!this.data("_inputmask").opts.autoUnmask;case"isComplete":return s=this.data("_inputmask").masksets,l=this.data("_inputmask").activeMasksetIndex,r=this.data("_inputmask").opts,a(s,l,r,{action:"isComplete",buffer:this[0]._valueGet().split("")});case"getmetadata":return this.data("_inputmask")?(s=this.data("_inputmask").masksets,l=this.data("_inputmask").activeMasksetIndex,s[l].metadata):void 0;default:return i(t,o,r)||(r.mask=t),s=n(r),0==s.length?this:this.each(function(){a(e.extend(!0,{},s),l,r,{action:"mask",el:this})})}else{if("object"==typeof t)return r=e.extend(!0,{},e.inputmask.defaults,t),i(r.alias,t,r),s=n(r),0==s.length?this:this.each(function(){a(e.extend(!0,{},s),l,r,{action:"mask",el:this})});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var n=e.parseJSON("{"+t+"}");e.extend(!0,n,o),i((r=e.extend(!0,{},e.inputmask.defaults,n)).alias,n,r),r.alias=void 0,e(this).inputmask(r)}catch(e){}})}}}}(jQuery),function(e){function t(e,t,a){var o=e[0],s=/er/.test(a)?v:/bl/.test(a)?f:u,r=a==m?{checked:o[u],disabled:o[f],indeterminate:"true"==e.attr(v)||"false"==e.attr(h)}:o[s];if(/^(ch|di|in)/.test(a)&&!r)i(e,s);else if(/^(un|en|de)/.test(a)&&r)n(e,s);else if(a==m)for(s in r)r[s]?i(e,s,!0):n(e,s,!0);else t&&"toggle"!=a||(t||e[y]("ifClicked"),r?o[g]!==c&&n(e,s):i(e,s))}function i(t,i,a){var m=t[0],y=t.parent(),x=i==u,_=i==v,w=i==f,P=_?h:x?p:"enabled",M=o(t,P+s(m[g])),S=o(t,i+s(m[g]));if(!0!==m[i]){if(!a&&i==u&&m[g]==c&&m.name){var E=t.closest("form"),A='input[name="'+m.name+'"]';(A=E.length?E.find(A):e(A)).each(function(){this!==m&&e(this).data(l)&&n(e(this),i)})}_?(m[i]=!0,m[u]&&n(t,u,"force")):(a||(m[i]=!0),x&&m[v]&&n(t,v,!1)),r(t,x,i,a)}m[f]&&o(t,C,!0)&&y.find("."+d).css(C,"default"),y[k](S||o(t,i)||""),w?y.attr("aria-disabled","true"):y.attr("aria-checked",_?"mixed":"true"),y[b](M||o(t,P)||"")}function n(e,t,i){var n=e[0],a=e.parent(),l=t==u,c=t==v,m=t==f,y=c?h:l?p:"enabled",x=o(e,y+s(n[g])),_=o(e,t+s(n[g]));!1!==n[t]&&(!c&&i&&"force"!=i||(n[t]=!1),r(e,l,y,i)),!n[f]&&o(e,C,!0)&&a.find("."+d).css(C,"pointer"),a[b](_||o(e,t)||""),m?a.attr("aria-disabled","false"):a.attr("aria-checked","false"),a[k](x||o(e,y)||"")}function a(t,i){t.data(l)&&(t.parent().html(t.attr("style",t.data(l).s||"")),i&&t[y](i),t.off(".i").unwrap(),e(x+'[for="'+t[0].id+'"]').add(t.closest(x)).off(".i"))}function o(e,t,i){if(e.data(l))return e.data(l).o[t+(i?"":"Class")]}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function r(e,t,i,n){n||(t&&e[y]("ifToggled"),e[y]("ifChanged")[y]("if"+s(i)))}var l="iCheck",d=l+"-helper",c="radio",u="checked",p="un"+u,f="disabled",h="determinate",v="in"+h,m="update",g="type",k="addClass",b="removeClass",y="trigger",x="label",C="cursor",_=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);e.fn[l]=function(o,s){var r='input[type="checkbox"], input[type="'+c+'"]',p=e(),h=function(t){t.each(function(){var t=e(this);p=t.is(r)?p.add(t):p.add(t.find(r))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(o))return o=o.toLowerCase(),h(this),p.each(function(){var i=e(this);"destroy"==o?a(i,"ifDestroyed"):t(i,!0,o),e.isFunction(s)&&s()});if("object"!=typeof o&&o)return this;var C=e.extend({checkedClass:u,disabledClass:f,indeterminateClass:v,labelHover:!0,aria:!1},o),w=C.handle,P=C.hoverClass||"hover",M=C.focusClass||"focus",S=C.activeClass||"active",E=!!C.labelHover,A=C.labelHoverClass||"hover",j=0|(""+C.increaseArea).replace("%","");return"checkbox"!=w&&w!=c||(r='input[type="'+w+'"]'),-50>j&&(j=-50),h(this),p.each(function(){var o=e(this);a(o);var s=this,r=s.id,p={position:"absolute",top:h=-j+"%",left:h,display:"block",width:p=100+2*j+"%",height:p,margin:0,padding:0,background:"#fff",border:0,opacity:0},h=_?{position:"absolute",visibility:"hidden"}:j?p:{position:"absolute",opacity:0},v="checkbox"==s[g]?C.checkboxClass||"icheckbox":C.radioClass||"i"+c,w=e(x+'[for="'+r+'"]').add(o.closest(x)),I=!!C.aria,T=l+"-"+Math.random().toString(36).replace("0.",""),D='<div class="'+v+'" '+(I?'role="'+s[g]+'" ':"");w.length&&I&&w.each(function(){D+='aria-labelledby="',this.id?D+=this.id:(this.id=T,D+=T),D+='"'}),D=o.wrap(D+"/>")[y]("ifCreated").parent().append(C.insert),p=e('<ins class="'+d+'"/>').css(p).appendTo(D),o.data(l,{o:C,s:o.attr("style")}).css(h),C.inheritClass&&D[k](s.className||""),C.inheritID&&r&&D.attr("id",l+"-"+r),"static"==D.css("position")&&D.css("position","relative"),t(o,!0,m),w.length&&w.on("click.i mouseover.i mouseout.i touchbegin.i touchend.i",function(i){var n=i[g],a=e(this);if(!s[f]){if("click"==n){if(e(i.target).is("a"))return;t(o,!1,!0)}else E&&(/ut|nd/.test(n)?(D[b](P),a[b](A)):(D[k](P),a[k](A)));if(!_)return!1;i.stopPropagation()}}),o.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[g];return e=e.keyCode,"click"!=t&&("keydown"==t&&32==e?(s[g]==c&&s[u]||(s[u]?n(o,u):i(o,u)),!1):void("keyup"==t&&s[g]==c?!s[u]&&i(o,u):/us|ur/.test(t)&&D["blur"==t?b:k](M)))}),p.on("click mousedown mouseup mouseover mouseout touchbegin.i touchend.i",function(e){var i=e[g],n=/wn|up/.test(i)?S:P;if(!s[f]){if("click"==i?t(o,!1,!0):(/wn|er|in/.test(i)?D[k](n):D[b](n+" "+S),w.length&&E&&n==P&&w[/ut|nd/.test(i)?b:k](A)),!_)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto);