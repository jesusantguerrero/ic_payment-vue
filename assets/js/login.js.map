{"version":3,"sources":["webpack:///assets/js/login.js","webpack:///./src/modules/sharedComponents/utils.js","webpack:///./src/modules/login/index.js","webpack:///./src/modules/sharedComponents/globals.js","webpack:///./src/modules/login/service/loginService.js"],"names":["webpackJsonp","2","module","exports","__webpack_require__","Object","defineProperty","value","default","isEmpty","values","props","Array","isArray","keys","forEach","key","push","some","val","prueba","num","num2","fromCurrency","realNum","replace","Number","CurrencyFormat","number","parseFloat","sign","formatted","String","toFixed","integer","fraction","strnumber","dotpos","length","indexOf","substr","Math","abs","temparray","unshift","join","25","_interopRequireDefault","obj","__esModule","_vue","_vue2","_axios","_axios2","_vueToasted","_vueToasted2","_globals","_globals2","_loginService","_loginService2","_utils","_utils2","el","data","credentials","user","password","email","reset_toke","csrf_token_name","mounted","this","service","quitSplash","methods","login","$toasted","error","doLogin","self","then","res","is_correct","window","location","href","baseURL","info","catch","err","sendResetEmail","emailResetPassword","showMessage","message","resetPassword","setTimeout","document","querySelector","classList","add","4","Vue","Toasted","axios","options","theme","position","duration","use","mixin","type","text","getDataForm","object","JSON","stringify","filters","currencyFormat","$http","create","prototype","46","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","i","descriptor","enumerable","configurable","writable","protoProps","staticProps","Service","post","getForm"],"mappings":"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","file":"assets/js/login.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ 2:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  isEmpty: function isEmpty(values) {\n    var props = [];\n    if (Array.isArray(values)) {\n      props = values;\n    } else {\n      var keys = Object.keys(values);\n      props = [];\n      keys.forEach(function (key) {\n        props.push(values[key]);\n      });\n    }\n    return props.some(function (val) {\n      return val == null || val === '';\n    });\n  },\n  prueba: function prueba(num) {\n    return function (num2) {\n      return num + num2;\n    };\n  },\n  fromCurrency: function fromCurrency(num) {\n    var realNum = num.replace('RD$ ', '');\n    return Number(realNum);\n  },\n\n\n  // al credits to the author\n  CurrencyFormat: function CurrencyFormat(number) {\n    var decimalplaces = 2;\n    var decimalcharacter = '.';\n    var thousandseparater = ',';\n    number = parseFloat(number);\n    var sign = number < 0 ? '-' : '';\n    var formatted = String(number.toFixed(decimalplaces));\n    if (decimalcharacter.length && decimalcharacter !== '.') {\n      formatted = formatted.replace(/\\./, decimalcharacter);\n    }\n    var integer = '';\n    var fraction = '';\n    var strnumber = String(formatted);\n    var dotpos = decimalcharacter.length ? strnumber.indexOf(decimalcharacter) : -1;\n    if (dotpos > -1) {\n      if (dotpos) {\n        integer = strnumber.substr(0, dotpos);\n      }\n      fraction = strnumber.substr(dotpos + 1);\n    } else {\n      integer = strnumber;\n    }\n    if (integer) {\n      integer = String(Math.abs(integer));\n    }\n    while (fraction.length < decimalplaces) {\n      fraction += '0';\n    }\n    var temparray = [];\n    while (integer.length > 3) {\n      temparray.unshift(integer.substr(-3));\n      integer = integer.substr(0, integer.length - 3);\n    }\n    temparray.unshift(integer);\n    integer = temparray.join(thousandseparater);\n    return sign + integer + decimalcharacter + fraction;\n  }\n};\n\n/***/ }),\n\n/***/ 25:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vue = __webpack_require__(7);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _axios = __webpack_require__(3);\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _vueToasted = __webpack_require__(9);\n\nvar _vueToasted2 = _interopRequireDefault(_vueToasted);\n\nvar _globals = __webpack_require__(4);\n\nvar _globals2 = _interopRequireDefault(_globals);\n\nvar _loginService = __webpack_require__(46);\n\nvar _loginService2 = _interopRequireDefault(_loginService);\n\nvar _utils = __webpack_require__(2);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _globals2.default)(_vue2.default, _vueToasted2.default, _axios2.default);\n\nexports.default = new _vue2.default({\n  el: '.login-box',\n  data: {\n    credentials: {\n      user: '',\n      password: '',\n      email: '',\n      reset_toke: '',\n      csrf_token_name: ''\n    }\n  },\n\n  mounted: function mounted() {\n    this.service = new _loginService2.default();\n    this.quitSplash();\n  },\n\n\n  methods: {\n    login: function login() {\n      if (!_utils2.default.isEmpty([this.credentials.user, this.credentials.password])) {\n        this.doLogin();\n      } else {\n        this.$toasted.error('LLene todos los campos indicados para ingresar');\n      }\n    },\n    doLogin: function doLogin() {\n      var self = this;\n      this.service.doLogin(this.credentials).then(function (res) {\n        if (res.data.is_correct) {\n          window.location.href = baseURL + 'app/admin/';\n        } else {\n          self.$toasted.info('Usuario y Contrase√±a no validos');\n        }\n      }).catch(function (err) {\n        self.$toasted.error(err);\n      });\n    },\n    sendResetEmail: function sendResetEmail() {\n      var self = this;\n      this.service.emailResetPassword().then(function (res) {\n        self.showMessage(res.data.message);\n      }).catch(function (err) {\n        self.$toasted.error(err);\n      });\n    },\n    resetPassword: function resetPassword() {\n      var self = this;\n      this.service.resetPassword().then(function (res) {\n        self.showMessage(res.data.message);\n      }).catch(function (err) {\n        self.$toasted.error(err);\n      });\n    },\n    quitSplash: function quitSplash() {\n      setTimeout(function () {\n        document.querySelector('.splash-screen').classList.add('hidden');\n      }, 1200);\n      setTimeout(function () {\n        document.querySelector('.splash-screen').classList.add('hide');\n      }, 1201);\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 4:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(2);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (Vue, Toasted, axios) {\n  var options = {\n    theme: 'primary',\n    position: 'top-right',\n    duration: 5000\n  };\n\n  Vue.use(Toasted, options);\n\n  Vue.mixin({\n    methods: {\n      showMessage: function showMessage(message) {\n        this.$toasted[message.type](message.text);\n      },\n      getDataForm: function getDataForm(object) {\n        return 'data=' + JSON.stringify(object);\n      }\n    },\n\n    filters: {\n      currencyFormat: function currencyFormat(number) {\n        return _utils2.default.CurrencyFormat(number);\n      }\n    }\n  });\n\n  var $http = axios.create({\n    baseURL: baseURL\n  });\n\n  Vue.prototype.$http = $http;\n};\n\n/***/ }),\n\n/***/ 46:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _axios = __webpack_require__(3);\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Service = function () {\n  function Service() {\n    _classCallCheck(this, Service);\n\n    this.user = _axios2.default.create({\n      baseURL: baseURL\n    });\n  }\n\n  _createClass(Service, [{\n    key: 'doLogin',\n    value: function doLogin(credentials) {\n      return this.user.post('auth/do_login', this.getForm(credentials));\n    }\n  }, {\n    key: 'resetPassword',\n    value: function resetPassword(credentials) {\n      return this.user.post('auth/reset', this.getForm(credentials));\n    }\n  }, {\n    key: 'validateReset',\n    value: function validateReset(credentials) {\n      return this.user.post('auth/validate_reset', this.getForm(credentials));\n    }\n  }, {\n    key: 'getForm',\n    value: function getForm(data) {\n      return 'data=' + JSON.stringify(data);\n    }\n  }]);\n\n  return Service;\n}();\n\nexports.default = Service;\n\n/***/ })\n\n},[25]);\n\n\n// WEBPACK FOOTER //\n// assets/js/login.js","export default {\n  isEmpty(values) {\n    let props = [];\n    if (Array.isArray(values)) {\n      props = values;\n    } else {\n      const keys = Object.keys(values);\n      props = [];\n      keys.forEach((key) => {\n        props.push(values[key]);\n      });\n    }\n    return props.some(val => (val == null || val === ''));\n  },\n\n  prueba(num) {\n    return num2 => num + num2;\n  },\n\n  fromCurrency(num) {\n    const realNum = num.replace('RD$ ', '');\n    return Number(realNum);\n  },\n\n  // al credits to the author\n  CurrencyFormat(number) {\n    const decimalplaces = 2;\n    const decimalcharacter = '.';\n    const thousandseparater = ',';\n    number = parseFloat(number);\n    const sign = number < 0 ? '-' : '';\n    let formatted = String(number.toFixed(decimalplaces));\n    if (decimalcharacter.length && decimalcharacter !== '.') { formatted = formatted.replace(/\\./, decimalcharacter); }\n    let integer = '';\n    let fraction = '';\n    const strnumber = String(formatted);\n    const dotpos = decimalcharacter.length ? strnumber.indexOf(decimalcharacter) : -1;\n    if (dotpos > -1) {\n      if (dotpos) { integer = strnumber.substr(0, dotpos); }\n      fraction = strnumber.substr(dotpos + 1);\n    } else { integer = strnumber; }\n    if (integer) { integer = String(Math.abs(integer)); }\n    while (fraction.length < decimalplaces) { fraction += '0'; }\n    const temparray = [];\n    while (integer.length > 3) {\n      temparray.unshift(integer.substr(-3));\n      integer = integer.substr(0, integer.length - 3);\n    }\n    temparray.unshift(integer);\n    integer = temparray.join(thousandseparater);\n    return sign + integer + decimalcharacter + fraction;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sharedComponents/utils.js","import Vue from 'vue';\nimport axios from 'axios';\nimport Toasted from 'vue-toasted';\nimport globals from './../sharedComponents/globals';\nimport Service from './service/loginService';\nimport utils from './../sharedComponents/utils';\n\nglobals(Vue, Toasted, axios);\n\nexport default new Vue({\n  el: '.login-box',\n  data: {\n    credentials: {\n      user: '',\n      password: '',\n      email: '',\n      reset_toke: '',\n      csrf_token_name: ''\n    },\n  },\n\n  mounted() {\n    this.service = new Service();\n    this.quitSplash();\n  },\n\n  methods: {\n    login() {\n      if (!utils.isEmpty([this.credentials.user, this.credentials.password])) {\n        this.doLogin();\n      } else {\n        this.$toasted.error('LLene todos los campos indicados para ingresar');\n      }\n    },\n\n    doLogin() {\n      const self = this;\n      this.service.doLogin(this.credentials)\n        .then((res) => {\n          if (res.data.is_correct) {\n            window.location.href = `${baseURL}app/admin/`;\n          } else {\n            self.$toasted.info('Usuario y Contrase√±a no validos');\n          }\n        })\n        .catch((err) => {\n          self.$toasted.error(err);\n        });\n    },\n\n    sendResetEmail() {\n      const self = this;\n      this.service.emailResetPassword()\n        .then((res) => {\n          self.showMessage(res.data.message);\n        })\n        .catch((err) => {\n          self.$toasted.error(err);\n        });\n    },\n\n    resetPassword() {\n      const self = this;\n      this.service.resetPassword()\n        .then((res) => {\n          self.showMessage(res.data.message);\n        })\n        .catch((err) => {\n          self.$toasted.error(err);\n        });\n    },\n\n    quitSplash() {\n      setTimeout(() => {\n        document.querySelector('.splash-screen').classList.add('hidden');\n      }, 1200);\n      setTimeout(() => {\n        document.querySelector('.splash-screen').classList.add('hide');\n      }, 1201);\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/login/index.js","import utils from './utils';\n\nexport default (Vue, Toasted, axios) => {\n  const options = {\n    theme: 'primary',\n    position: 'top-right',\n    duration: 5000\n  };\n\n  Vue.use(Toasted, options);\n\n  Vue.mixin({\n    methods: {\n      showMessage(message) {\n        this.$toasted[message.type](message.text);\n      },\n\n      getDataForm(object) {\n        return `data=${JSON.stringify(object)}`;\n      }\n    },\n\n    filters: {\n      currencyFormat(number) {\n        return utils.CurrencyFormat(number);\n      }\n    }\n  });\n\n  const $http = axios.create({\n    baseURL\n  });\n\n  Vue.prototype.$http = $http;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sharedComponents/globals.js","import axios from 'axios';\n\nexport default class Service {\n  constructor() {\n    this.user = axios.create({\n      baseURL\n    });\n  }\n\n  doLogin(credentials) {\n    return this.user.post('auth/do_login', this.getForm(credentials));\n  }\n\n  resetPassword(credentials) {\n    return this.user.post('auth/reset', this.getForm(credentials));\n  }\n\n  validateReset(credentials) {\n    return this.user.post('auth/validate_reset', this.getForm(credentials));\n  }\n\n  getForm(data) {\n    return `data=${JSON.stringify(data)}`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/login/service/loginService.js"],"sourceRoot":""}